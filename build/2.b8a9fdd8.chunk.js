(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[2],{

/***/ 2511:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _EditViewDataManager=_interopRequireDefault(__webpack_require__(2596));var useDataManager=function useDataManager(){return(0,_react.useContext)(_EditViewDataManager["default"]);};var _default=useDataManager;exports["default"]=_default;

/***/ }),

/***/ 2516:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 18px 30px 18px 30px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Container=_styledComponents["default"].div(_templateObject());var _default=Container;exports["default"]=_default;

/***/ }),

/***/ 2517:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _EditView=_interopRequireDefault(__webpack_require__(2595));var useEditView=function useEditView(){return(0,_react.useContext)(_EditView["default"]);};var _default=useEditView;exports["default"]=_default;

/***/ }),

/***/ 2533:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactIntl=__webpack_require__(13);var _reactFontawesome=__webpack_require__(27);var _reactFastCompare=_interopRequireDefault(__webpack_require__(409));var _pluginId=_interopRequireDefault(__webpack_require__(105));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));var _ComponentInitializer=_interopRequireDefault(__webpack_require__(2717));var _NonRepeatableComponent=_interopRequireDefault(__webpack_require__(2719));var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2534));var _RepeatableComponent=_interopRequireDefault(__webpack_require__(3198));var _connect=_interopRequireDefault(__webpack_require__(3210));var _select=_interopRequireDefault(__webpack_require__(3211));var _ComponentIcon=_interopRequireDefault(__webpack_require__(3212));var _Label=_interopRequireDefault(__webpack_require__(3213));var _ResetComponent=_interopRequireDefault(__webpack_require__(3214));var _Wrapper=_interopRequireDefault(__webpack_require__(3215));/* eslint-disable  import/no-cycle */var FieldComponent=function FieldComponent(_ref){var componentFriendlyName=_ref.componentFriendlyName,componentUid=_ref.componentUid,icon=_ref.icon,isCreatingEntry=_ref.isCreatingEntry,isFromDynamicZone=_ref.isFromDynamicZone,isRepeatable=_ref.isRepeatable,isNested=_ref.isNested,label=_ref.label,max=_ref.max,min=_ref.min,name=_ref.name,hasChildrenAllowedFields=_ref.hasChildrenAllowedFields,hasChildrenReadableFields=_ref.hasChildrenReadableFields,isReadOnly=_ref.isReadOnly,componentValue=_ref.componentValue,removeComponentFromField=_ref.removeComponentFromField;var _useEditView=(0,_useEditView2["default"])(),allLayoutData=_useEditView.allLayoutData;var componentValueLength=(0,_lodash.size)(componentValue);var isInitialized=componentValue!==null||isFromDynamicZone;var showResetComponent=!isRepeatable&&isInitialized&&!isFromDynamicZone&&hasChildrenAllowedFields;var currentComponentSchema=(0,_lodash.get)(allLayoutData,['components',componentUid],{});var displayedFields=(0,_lodash.get)(currentComponentSchema,['layouts','edit'],[]);if(!hasChildrenAllowedFields&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement("div",{className:"col-12"},/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label}));}if(!hasChildrenAllowedFields&&!isCreatingEntry&&!hasChildrenReadableFields){return/*#__PURE__*/_react["default"].createElement("div",{className:"col-12"},/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label}));}return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{className:"col-12",isFromDynamicZone:isFromDynamicZone},isFromDynamicZone&&/*#__PURE__*/_react["default"].createElement(_ComponentIcon["default"],{title:componentFriendlyName},/*#__PURE__*/_react["default"].createElement("div",{className:"component_name"},/*#__PURE__*/_react["default"].createElement("div",{className:"component_icon"},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon,title:componentFriendlyName})),/*#__PURE__*/_react["default"].createElement("p",null,componentFriendlyName))),/*#__PURE__*/_react["default"].createElement(_Label["default"],null,label,"\xA0",isRepeatable&&"(".concat(componentValueLength,")")),showResetComponent&&/*#__PURE__*/_react["default"].createElement(_ResetComponent["default"],{onClick:function onClick(e){e.preventDefault();e.stopPropagation();removeComponentFromField(name,componentUid);}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.reset-entry")}),/*#__PURE__*/_react["default"].createElement("div",null)),!isRepeatable&&!isInitialized&&/*#__PURE__*/_react["default"].createElement(_ComponentInitializer["default"],{componentUid:componentUid,name:name,isReadOnly:isReadOnly}),!isRepeatable&&isInitialized&&/*#__PURE__*/_react["default"].createElement(_NonRepeatableComponent["default"],{componentUid:componentUid,fields:displayedFields,isFromDynamicZone:isFromDynamicZone,name:name,schema:currentComponentSchema}),isRepeatable&&/*#__PURE__*/_react["default"].createElement(_RepeatableComponent["default"],{componentValue:componentValue,componentValueLength:componentValueLength,componentUid:componentUid,fields:displayedFields,isFromDynamicZone:isFromDynamicZone,isNested:isNested,isReadOnly:isReadOnly,max:max,min:min,name:name,schema:currentComponentSchema}));};FieldComponent.defaultProps={componentValue:null,componentFriendlyName:null,hasChildrenAllowedFields:false,hasChildrenReadableFields:false,icon:'smile',isFromDynamicZone:false,isReadOnly:false,isRepeatable:false,isNested:false,max:Infinity,min:-Infinity};FieldComponent.propTypes={componentFriendlyName:_propTypes["default"].string,componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].object,_propTypes["default"].array]),hasChildrenAllowedFields:_propTypes["default"].bool,hasChildrenReadableFields:_propTypes["default"].bool,icon:_propTypes["default"].string,isCreatingEntry:_propTypes["default"].bool.isRequired,isFromDynamicZone:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool,isRepeatable:_propTypes["default"].bool,isNested:_propTypes["default"].bool,label:_propTypes["default"].string.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,removeComponentFromField:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(FieldComponent,_reactFastCompare["default"]);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports["default"]=_default;

/***/ }),

/***/ 2534:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _core=__webpack_require__(10);var _reactIntl=__webpack_require__(13);var _utils=__webpack_require__(806);var _EyeSlashed=_interopRequireDefault(__webpack_require__(2734));var _BaselineAlignement=_interopRequireDefault(__webpack_require__(2735));var _Field=_interopRequireDefault(__webpack_require__(2736));var NotAllowedInput=function NotAllowedInput(_ref){var label=_ref.label,spacerHeight=_ref.spacerHeight;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var formatMessageRef=(0,_react.useRef)(formatMessage);var text=(0,_react.useMemo)(function(){return formatMessageRef.current({id:(0,_utils.getTrad)('components.NotAllowedInput.text')});},[]);return/*#__PURE__*/_react["default"].createElement(_core.Padded,{bottom:true,size:"smd"},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontWeight:"semiBold",lineHeight:"18px"},label),/*#__PURE__*/_react["default"].createElement(_Field["default"],null,/*#__PURE__*/_react["default"].createElement(_core.Padded,{left:true,right:true,size:"sm"},/*#__PURE__*/_react["default"].createElement(_core.Flex,null,/*#__PURE__*/_react["default"].createElement(_core.Padded,{right:true,size:"sm"},/*#__PURE__*/_react["default"].createElement(_EyeSlashed["default"],null)),/*#__PURE__*/_react["default"].createElement(_core.Text,{fontSize:"md",color:"grey",as:"div",lineHeight:"18px",ellipsis:true},text)))),/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],{height:spacerHeight}));};NotAllowedInput.defaultProps={label:'',spacerHeight:'7px'};NotAllowedInput.propTypes={label:_propTypes["default"].string,spacerHeight:_propTypes["default"].string};var _default=NotAllowedInput;exports["default"]=_default;

/***/ }),

/***/ 2548:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactFontawesome=__webpack_require__(27);var _Wrapper=_interopRequireDefault(__webpack_require__(2549));var DynamicComponentCard=function DynamicComponentCard(_ref){var children=_ref.children,componentUid=_ref.componentUid,friendlyName=_ref.friendlyName,icon=_ref.icon,_onClick=_ref.onClick;return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{onClick:function onClick(e){e.preventDefault();e.stopPropagation();_onClick(componentUid);}},/*#__PURE__*/_react["default"].createElement("button",{className:"component-icon",type:"button"},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon})),/*#__PURE__*/_react["default"].createElement("div",{className:"component-uid"},/*#__PURE__*/_react["default"].createElement("span",null,friendlyName)),children);};DynamicComponentCard.defaultProps={children:null,friendlyName:'',onClick:function onClick(){},icon:'smile'};DynamicComponentCard.propTypes={children:_propTypes["default"].node,componentUid:_propTypes["default"].string.isRequired,friendlyName:_propTypes["default"].string,icon:_propTypes["default"].string,onClick:_propTypes["default"].func};var _default=DynamicComponentCard;exports["default"]=_default;

/***/ }),

/***/ 2549:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  height: 90px;\n  width: 139px !important;\n  margin-right: 10px;\n  padding: 18px 10px;\n  background-color: #ffffff;\n  color: #919bae;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n  border: 1px solid #ffffff;\n\n  button {\n    outline: 0;\n  }\n\n  .component-uid {\n    width: 119px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #919bae;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n  }\n\n  .component-icon {\n    width: 35px;\n    height: 35px;\n    margin-bottom: 5px;\n    line-height: 35px;\n    align-self: center;\n    border-radius: 50%;\n    background-color: #e9eaeb;\n    color: #b4b6ba;\n    padding: 0;\n    i,\n    svg {\n      margin: auto;\n      display: block;\n    }\n  }\n\n  &:hover {\n    background-color: #e6f0fb;\n    color: #007eff;\n    border: 1px solid #aed4fb;\n\n    .component-icon {\n      background-color: #aed4fb;\n      color: #007eff;\n    }\n    .component-uid {\n      color: #007eff;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2557:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(24));var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));var _lodash=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(105));/**
 * Retrieve external links from injected components
 * @type {Array} List of external links to display
 */var getInjectedComponents=function getInjectedComponents(container,area,plugins,currentEnvironment,slug,push){for(var _len=arguments.length,rest=new Array(_len>6?_len-6:0),_key=6;_key<_len;_key++){rest[_key-6]=arguments[_key];}var componentsToInject=Object.keys(plugins).reduce(function(acc,current){// Retrieve injected compos from plugin
var currentPlugin=plugins[current];var injectedComponents=(0,_lodash.get)(currentPlugin,'injectedComponents',[]);var compos=injectedComponents.filter(function(compo){return compo.plugin==="".concat(_pluginId["default"],".").concat(container)&&compo.area===area;}).map(function(compo){var Component=compo.component;return/*#__PURE__*/_react["default"].createElement(Component,(0,_extends2["default"])({viewProps:rest,currentEnvironment:currentEnvironment,getModelName:function getModelName(){return slug;},push:push},compo.props,{key:compo.key}));});return[].concat((0,_toConsumableArray2["default"])(acc),(0,_toConsumableArray2["default"])(compos));},[]);return componentsToInject;};var _default=getInjectedComponents;exports["default"]=_default;

/***/ }),

/***/ 2558:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(24));var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactFastCompare=_interopRequireDefault(__webpack_require__(409));var _reactIntl=__webpack_require__(13);var _custom=__webpack_require__(38);var _strapiHelperPlugin=__webpack_require__(7);var _utils=__webpack_require__(806);var _InputJSONWithErrors=_interopRequireDefault(__webpack_require__(2720));var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2534));var _SelectWrapper=_interopRequireDefault(__webpack_require__(2599));var _WysiwygWithErrors=_interopRequireDefault(__webpack_require__(2750));var _InputUID=_interopRequireDefault(__webpack_require__(3182));var _utils2=__webpack_require__(3195);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getInputType=function getInputType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';switch((0,_lodash.toLower)(type)){case'boolean':return'bool';case'biginteger':return'text';case'decimal':case'float':case'integer':return'number';case'date':case'datetime':case'time':return type;case'email':return'email';case'enumeration':return'select';case'password':return'password';case'string':return'text';case'text':return'textarea';case'media':case'file':case'files':return'media';case'json':return'json';case'wysiwyg':case'WYSIWYG':case'richtext':return'wysiwyg';case'uid':return'uid';default:return type||'text';}};var validationsToOmit=['type','model','via','collection','default','plugin','enum','regex'];function Inputs(_ref){var allowedFields=_ref.allowedFields,autoFocus=_ref.autoFocus,componentUid=_ref.componentUid,currentContentTypeLayout=_ref.currentContentTypeLayout,isCreatingEntry=_ref.isCreatingEntry,keys=_ref.keys,layout=_ref.layout,name=_ref.name,onBlur=_ref.onBlur,formErrors=_ref.formErrors,onChange=_ref.onChange,readableFields=_ref.readableFields,shouldNotRunValidations=_ref.shouldNotRunValidations,value=_ref.value;var _useStrapi=(0,_strapiHelperPlugin.useStrapi)(),fieldApi=_useStrapi.strapi.fieldApi;var attribute=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','attributes',name],{});},[layout,name]);var metadatas=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['metadatas',name,'edit'],{});},[layout,name]);var disabled=(0,_react.useMemo)(function(){return!(0,_lodash.get)(metadatas,'editable',true);},[metadatas]);var type=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'type',null);},[attribute]);var regexpString=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'regex',null);},[attribute]);var temporaryErrorIdUntilBuffetjsSupportsFormattedMessage='app.utils.defaultMessage';var errorId=(0,_react.useMemo)(function(){return(0,_lodash.get)(formErrors,[keys,'id'],temporaryErrorIdUntilBuffetjsSupportsFormattedMessage);},[formErrors,keys]);var fieldName=(0,_react.useMemo)(function(){return(0,_utils.getFieldName)(keys);},[keys]);var isChildOfDynamicZone=(0,_react.useMemo)(function(){var attributes=(0,_lodash.get)(currentContentTypeLayout,['schema','attributes'],{});var foundAttributeType=(0,_lodash.get)(attributes,[fieldName[0],'type'],null);return foundAttributeType==='dynamiczone';},[currentContentTypeLayout,fieldName]);var validations=(0,_react.useMemo)(function(){return(0,_lodash.omit)(attribute,shouldNotRunValidations?[].concat(validationsToOmit,['required','minLength']):validationsToOmit);},[attribute,shouldNotRunValidations]);var isRequired=(0,_react.useMemo)(function(){return(0,_lodash.get)(validations,['required'],false);},[validations]);var inputType=(0,_react.useMemo)(function(){return getInputType(type);},[type]);var inputValue=(0,_react.useMemo)(function(){// Fix for input file multipe
if(type==='media'&&!value){return[];}return value;},[type,value]);var step=(0,_react.useMemo)(function(){var step;if(type==='float'||type==='decimal'){step=0.01;}else if(type==='time'||type==='datetime'){step=30;}else{step=1;}return step;},[type]);var isMultiple=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'multiple',false);},[attribute]);var isUserAllowedToEditField=(0,_react.useMemo)(function(){var joinedName=fieldName.join('.');if(allowedFields.includes(joinedName)){return true;}if(isChildOfDynamicZone){return allowedFields.includes(fieldName[0]);}var isChildOfComponent=fieldName.length>1;if(isChildOfComponent){var parentFieldName=(0,_lodash.take)(fieldName,fieldName.length-1).join('.');return allowedFields.includes(parentFieldName);}return false;},[allowedFields,fieldName,isChildOfDynamicZone]);var isUserAllowedToReadField=(0,_react.useMemo)(function(){var joinedName=fieldName.join('.');if(readableFields.includes(joinedName)){return true;}if(isChildOfDynamicZone){return readableFields.includes(fieldName[0]);}var isChildOfComponent=fieldName.length>1;if(isChildOfComponent){var parentFieldName=(0,_lodash.take)(fieldName,fieldName.length-1).join('.');return readableFields.includes(parentFieldName);}return false;},[readableFields,fieldName,isChildOfDynamicZone]);var shouldDisplayNotAllowedInput=(0,_react.useMemo)(function(){return isUserAllowedToReadField||isUserAllowedToEditField;},[isUserAllowedToEditField,isUserAllowedToReadField]);var shouldDisableField=(0,_react.useMemo)(function(){if(!isCreatingEntry){var doesNotHaveRight=isUserAllowedToReadField&&!isUserAllowedToEditField;if(doesNotHaveRight){return true;}return disabled;}return disabled;},[disabled,isCreatingEntry,isUserAllowedToEditField,isUserAllowedToReadField]);var options=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'enum',[]).map(function(v){return/*#__PURE__*/_react["default"].createElement("option",{key:v,value:v},v);});},[attribute]);var otherFields=(0,_react.useMemo)(function(){return fieldApi.getFields();},[fieldApi]);if(regexpString){var regexp=new RegExp(regexpString);if(regexp){validations.regex=regexp;}}var description=metadatas.description,visible=metadatas.visible;if(visible===false){return null;}if(!shouldDisplayNotAllowedInput){return/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:metadatas.label});}if(type==='relation'){return/*#__PURE__*/_react["default"].createElement("div",{key:keys},/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},metadatas,{componentUid:componentUid,isUserAllowedToEditField:isUserAllowedToEditField,isUserAllowedToReadField:isUserAllowedToReadField,name:keys,plugin:attribute.plugin,relationType:attribute.relationType,targetModel:attribute.targetModel,value:value})));}var enumOptions=[/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.InputSelect.option.placeholder",key:"__enum_option_null"},function(msg){return/*#__PURE__*/_react["default"].createElement("option",{disabled:isRequired,hidden:isRequired,value:""},msg);})].concat((0,_toConsumableArray2["default"])(options));return/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:errorId,defaultMessage:errorId},function(error){return/*#__PURE__*/_react["default"].createElement(_custom.Inputs,(0,_extends2["default"])({},metadatas,{autoComplete:"new-password",autoFocus:autoFocus,disabled:shouldDisableField,error:(0,_lodash.isEmpty)(error)||errorId===temporaryErrorIdUntilBuffetjsSupportsFormattedMessage?null:error,inputDescription:description,description:description,contentTypeUID:layout.uid,customInputs:_objectSpread({json:_InputJSONWithErrors["default"],wysiwyg:_WysiwygWithErrors["default"],uid:_InputUID["default"]},otherFields),multiple:isMultiple,attribute:attribute,name:keys,onBlur:onBlur,onChange:onChange,options:enumOptions,step:step,type:inputType,validations:validations,value:inputValue,withDefaultValue:false}));});}Inputs.defaultProps={autoFocus:false,componentUid:null,formErrors:{},onBlur:null,value:null};Inputs.propTypes={allowedFields:_propTypes["default"].array.isRequired,autoFocus:_propTypes["default"].bool,componentUid:_propTypes["default"].string,currentContentTypeLayout:_propTypes["default"].object.isRequired,keys:_propTypes["default"].string.isRequired,layout:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,formErrors:_propTypes["default"].object,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func.isRequired,readableFields:_propTypes["default"].array.isRequired,shouldNotRunValidations:_propTypes["default"].bool.isRequired,value:_propTypes["default"].any};var Memoized=/*#__PURE__*/(0,_react.memo)(Inputs,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports["default"]=_default;

/***/ }),

/***/ 2583:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_INDENTATION=exports.CONTROLS=exports.SELECT_OPTIONS=void 0;var SELECT_OPTIONS=[{id:'components.Wysiwyg.selectOptions.title',value:''},{id:'components.Wysiwyg.selectOptions.H1',value:'#'},{id:'components.Wysiwyg.selectOptions.H2',value:'##'},{id:'components.Wysiwyg.selectOptions.H3',value:'###'},{id:'components.Wysiwyg.selectOptions.H4',value:'####'},{id:'components.Wysiwyg.selectOptions.H5',value:'#####'},{id:'components.Wysiwyg.selectOptions.H6',value:'######'}];exports.SELECT_OPTIONS=SELECT_OPTIONS;var CONTROLS=[[{label:'B',style:'BOLD',className:'bold',hideLabel:true,handler:'addContent',text:'**textToReplace**'},{label:'I',style:'ITALIC',className:'italic',hideLabel:true,handler:'addContent',text:'*textToReplace*'},{label:'U',style:'UNDERLINE',className:'underline',hideLabel:true,handler:'addContent',text:'<u>textToReplace</u>'},{label:'S',style:'STRIKED',className:'striked',hideLabel:true,handler:'addContent',text:'~~textToReplace~~'},{label:'UL',style:'unordered-list-item',className:'ul',hideLabel:true,handler:'addUlBlock',text:'- textToReplace'},{label:'OL',style:'ordered-list-item',className:'ol',hideLabel:true,handler:'addOlBlock',text:'1. textToReplace'}],[{label:'<>',style:'CODE',className:'code',hideLabel:true,handler:'addSimpleBlockWithSelection',text:'```textToReplace```'},{label:'img',style:'IMG',className:'img',hideLabel:true,handler:'handleOpenMediaLibrary',text:'![text](textToReplace)'},{label:'Link',style:'LINK',className:'link',hideLabel:true,handler:'addContent',text:'[textToReplace](link)'},{label:'quotes',style:'BLOCKQUOTE',className:'quote',hideLabel:true,handler:'addSimpleBlockWithSelection',text:'> textToReplace'}]];exports.CONTROLS=CONTROLS;var DEFAULT_INDENTATION='  ';exports.DEFAULT_INDENTATION=DEFAULT_INDENTATION;

/***/ }),

/***/ 2584:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.StatusWrapper=exports.DeleteButton=exports.SubWrapper=exports.MainWrapper=exports.LinkWrapper=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _core=__webpack_require__(10);function _templateObject5(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  align-items: center;\n  border-radius: 2px;\n\n  height: 36px;\n  padding: 0 15px;\n  ","\n"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: ",";\n  align-items: center;\n  cursor: pointer;\n  margin-left: 0.2rem;\n  svg {\n    width: 1.1rem !important;\n    margin-right: 1rem;\n  }\n"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n  li {\n    padding: 7px 20px;\n    border-top: 1px solid #f6f6f6;\n    &:first-of-type {\n      border-color: transparent;\n    }\n    &:not(:first-of-type) {\n      margin-top: 0;\n    }\n  }\n"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  > div {\n    margin-right: 0;\n    margin-left: 0;\n  }\n  padding: 22px 10px;\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n"]);_templateObject=function _templateObject(){return data;};return data;}var SubWrapper=_styledComponents["default"].div(_templateObject());exports.SubWrapper=SubWrapper;var MainWrapper=(0,_styledComponents["default"])(SubWrapper)(_templateObject2());exports.MainWrapper=MainWrapper;var LinkWrapper=(0,_styledComponents["default"])(SubWrapper)(_templateObject3());exports.LinkWrapper=LinkWrapper;var DeleteButton=(0,_styledComponents["default"])(_core.Flex)(_templateObject4(),function(_ref){var theme=_ref.theme;return theme.main.colors.lightOrange;});exports.DeleteButton=DeleteButton;var StatusWrapper=_styledComponents["default"].div(_templateObject5(),function(_ref2){var theme=_ref2.theme,isGreen=_ref2.isGreen;return isGreen?"\n      ".concat(_core.Text," {\n        color: ").concat(theme.main.colors.green,";\n      }\n      background-color: #E6F8D4;\n      border: 1px solid #AAD67C;\n    "):"\n      ".concat(_core.Text," {\n        color: ").concat(theme.main.colors.mediumBlue,";\n      }\n      background-color: ").concat(theme.main.colors.lightBlue,";\n      border: 1px solid #a5d5ff;\n  ");});exports.StatusWrapper=StatusWrapper;

/***/ }),

/***/ 2594:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.EditView=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactRouterDom=__webpack_require__(20);var _strapiHelperPlugin=__webpack_require__(7);var _core=__webpack_require__(10);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _permissions=_interopRequireDefault(__webpack_require__(282));var _utils=__webpack_require__(806);var _Container=_interopRequireDefault(__webpack_require__(2516));var _DynamicZone=_interopRequireDefault(__webpack_require__(2716));var _FormWrapper=_interopRequireDefault(__webpack_require__(3226));var _FieldComponent=_interopRequireDefault(__webpack_require__(2533));var _Inputs=_interopRequireDefault(__webpack_require__(2558));var _SelectWrapper=_interopRequireDefault(__webpack_require__(2599));var _getComponents=_interopRequireDefault(__webpack_require__(2557));var _EditViewDataManagerProvider=_interopRequireDefault(__webpack_require__(3227));var _EditViewProvider=_interopRequireDefault(__webpack_require__(3238));var _Header=_interopRequireDefault(__webpack_require__(3239));var _createAttributesLayout=_interopRequireDefault(__webpack_require__(3244));var _components=__webpack_require__(2584);var _init=_interopRequireDefault(__webpack_require__(3245));var _reducer=_interopRequireWildcard(__webpack_require__(3246));var _DeleteLink=_interopRequireDefault(__webpack_require__(3247));var _InformationCard=_interopRequireDefault(__webpack_require__(3251));/* eslint-disable  react/no-array-index-key */var EditView=function EditView(_ref){var components=_ref.components,currentEnvironment=_ref.currentEnvironment,deleteLayout=_ref.deleteLayout,layouts=_ref.layouts,models=_ref.models,plugins=_ref.plugins,slug=_ref.slug;var formatLayoutRef=(0,_react.useRef)();formatLayoutRef.current=_createAttributesLayout["default"];var _useHistory=(0,_reactRouterDom.useHistory)(),goBack=_useHistory.goBack;// Retrieve the search and the pathname
var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var _useRouteMatch=(0,_reactRouterDom.useRouteMatch)('/plugins/content-manager/:contentType'),contentType=_useRouteMatch.params.contentType;var viewPermissions=(0,_react.useMemo)(function(){return(0,_utils.generatePermissionsObject)(slug);},[slug]);var _useUserPermissions=(0,_strapiHelperPlugin.useUserPermissions)(viewPermissions),allowedActions=_useUserPermissions.allowedActions;var isSingleType=(0,_react.useMemo)(function(){return contentType==='singleType';},[contentType]);var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),_useReducer2$=_useReducer2[0],formattedContentTypeLayout=_useReducer2$.formattedContentTypeLayout,isDraggingComponent=_useReducer2$.isDraggingComponent,dispatch=_useReducer2[1];var allLayoutData=(0,_react.useMemo)(function(){return(0,_lodash.get)(layouts,[slug],{});},[layouts,slug]);var currentContentTypeLayoutData=(0,_react.useMemo)(function(){return(0,_lodash.get)(allLayoutData,['contentType'],{});},[allLayoutData]);var currentContentTypeLayout=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['layouts','edit'],[]);},[currentContentTypeLayoutData]);var currentContentTypeLayoutRelations=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['layouts','editRelations'],[]);},[currentContentTypeLayoutData]);var currentContentTypeSchema=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['schema'],{});},[currentContentTypeLayoutData]);var getFieldMetas=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(currentContentTypeLayoutData,['metadatas',fieldName,'edit'],{});},[currentContentTypeLayoutData]);var getField=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(currentContentTypeSchema,['attributes',fieldName],{});},[currentContentTypeSchema]);var getFieldType=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(getField(fieldName),['type'],'');},[getField]);var getFieldComponentUid=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(getField(fieldName),['component'],'');},[getField]);// Check if a block is a dynamic zone
var isDynamicZone=(0,_react.useCallback)(function(block){return block.every(function(subBlock){return subBlock.every(function(obj){return getFieldType(obj.name)==='dynamiczone';});});},[getFieldType]);(0,_react.useEffect)(function(){// Force state to be cleared when navigation from one entry to another
dispatch({type:'RESET_PROPS'});dispatch({type:'SET_LAYOUT_DATA',formattedContentTypeLayout:formatLayoutRef.current(currentContentTypeLayout,currentContentTypeSchema.attributes)});return function(){return deleteLayout(slug);};// eslint-disable-next-line react-hooks/exhaustive-deps
},[currentContentTypeLayout,currentContentTypeSchema.attributes]);return/*#__PURE__*/_react["default"].createElement(_EditViewProvider["default"],{allowedActions:allowedActions,allLayoutData:allLayoutData,components:components,isDraggingComponent:isDraggingComponent,isSingleType:isSingleType,layout:currentContentTypeLayoutData,models:models,setIsDraggingComponent:function setIsDraggingComponent(){dispatch({type:'SET_IS_DRAGGING_COMPONENT'});},unsetIsDraggingComponent:function unsetIsDraggingComponent(){dispatch({type:'UNSET_IS_DRAGGING_COMPONENT'});}},/*#__PURE__*/_react["default"].createElement(_EditViewDataManagerProvider["default"],{allLayoutData:allLayoutData,redirectToPreviousPage:goBack,isSingleType:isSingleType,slug:slug},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.BackHeader,{onClick:goBack}),/*#__PURE__*/_react["default"].createElement(_Container["default"],{className:"container-fluid"},/*#__PURE__*/_react["default"].createElement(_Header["default"],null),/*#__PURE__*/_react["default"].createElement("div",{className:"row",style:{paddingTop:3}},/*#__PURE__*/_react["default"].createElement("div",{className:"col-md-12 col-lg-9",style:{marginBottom:13}},formattedContentTypeLayout.map(function(block,blockIndex){if(isDynamicZone(block)){var name=block[0][0].name;var _getField=getField(name),max=_getField.max,min=_getField.min;return/*#__PURE__*/_react["default"].createElement(_DynamicZone["default"],{key:blockIndex,name:name,max:max,min:min});}return/*#__PURE__*/_react["default"].createElement(_FormWrapper["default"],{key:blockIndex},block.map(function(fieldsBlock,fieldsBlockIndex){return/*#__PURE__*/_react["default"].createElement("div",{className:"row",key:fieldsBlockIndex},fieldsBlock.map(function(_ref2,fieldIndex){var name=_ref2.name,size=_ref2.size;var isComponent=getFieldType(name)==='component';if(isComponent){var componentUid=getFieldComponentUid(name);var isRepeatable=(0,_lodash.get)(getField(name),'repeatable',false);var _getField2=getField(name),_max=_getField2.max,_min=_getField2.min;var label=(0,_lodash.get)(getFieldMetas(name),'label',componentUid);return/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{key:componentUid,componentUid:componentUid,isRepeatable:isRepeatable,label:label,max:_max,min:_min,name:name});}return/*#__PURE__*/_react["default"].createElement("div",{className:"col-".concat(size),key:name},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{autoFocus:blockIndex===0&&fieldsBlockIndex===0&&fieldIndex===0,keys:name,layout:currentContentTypeLayoutData,name:name}));}));}));})),/*#__PURE__*/_react["default"].createElement("div",{className:"col-md-12 col-lg-3"},/*#__PURE__*/_react["default"].createElement(_InformationCard["default"],null),/*#__PURE__*/_react["default"].createElement(_core.Padded,{size:"smd",top:true}),currentContentTypeLayoutRelations.length>0&&/*#__PURE__*/_react["default"].createElement(_components.SubWrapper,{style:{padding:'0 20px 1px',marginBottom:'25px'}},/*#__PURE__*/_react["default"].createElement("div",{style:{paddingTop:'22px'}},currentContentTypeLayoutRelations.map(function(relationName){var relation=(0,_lodash.get)(currentContentTypeLayoutData,['schema','attributes',relationName],{});var relationMetas=(0,_lodash.get)(currentContentTypeLayoutData,['metadatas',relationName,'edit'],{});return/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},relation,relationMetas,{key:relationName,name:relationName,relationsType:relation.relationType}));}))),/*#__PURE__*/_react["default"].createElement(_components.LinkWrapper,null,/*#__PURE__*/_react["default"].createElement("ul",null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.CheckPermissions,{permissions:isSingleType?_permissions["default"].singleTypesConfigurations:_permissions["default"].collectionTypesConfigurations},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LiLink,{message:{id:'app.links.configure-view'},icon:"layout",key:"".concat(_pluginId["default"],".link"),url:"".concat(isSingleType?"".concat(pathname,"/"):'',"ctm-configurations/edit-settings/content-types"),onClick:function onClick(){// emitEvent('willEditContentTypeLayoutFromEditView');
}})),(0,_getComponents["default"])('editView','right.links',plugins,currentEnvironment,slug),allowedActions.canDelete&&/*#__PURE__*/_react["default"].createElement(_DeleteLink["default"],null))))))));};exports.EditView=EditView;EditView.defaultProps={currentEnvironment:'production',emitEvent:function emitEvent(){},plugins:{}};EditView.propTypes={components:_propTypes["default"].array.isRequired,currentEnvironment:_propTypes["default"].string,deleteLayout:_propTypes["default"].func.isRequired,emitEvent:_propTypes["default"].func,layouts:_propTypes["default"].object.isRequired,models:_propTypes["default"].array.isRequired,plugins:_propTypes["default"].object,slug:_propTypes["default"].string.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(EditView);exports["default"]=_default;

/***/ }),

/***/ 2595:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var EditViewContext=/*#__PURE__*/(0,_react.createContext)();var _default=EditViewContext;exports["default"]=_default;

/***/ }),

/***/ 2596:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var EditViewDataManagerContext=/*#__PURE__*/(0,_react.createContext)();var _default=EditViewDataManagerContext;exports["default"]=_default;

/***/ }),

/***/ 2597:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin: 0 !important;\n  padding: 0 20px !important;\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}var hoverStyle="\n  border: 1px solid #aed4fb;\n  background-color: #e6f0fb;\n  > button {\n    :before,\n    :after {\n      background-color: #007eff;\n    }\n    background-color: #aed4fb;\n  }\n\n  > p {\n    color: #007eff;\n  }\n";/* eslint-disable indent */var NonRepeatableWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isEmpty=_ref.isEmpty,isFromDynamicZone=_ref.isFromDynamicZone,isReadOnly=_ref.isReadOnly;if(isEmpty){return"\n      position: relative;\n      height: 108px;\n      margin-bottom: 25px !important;\n      background-color: #fafafb;\n      text-align: center;\n      cursor: ".concat(isReadOnly?'not-allowed':'pointer',";\n      border-radius: 2px;\n\n      > button {\n        position: absolute;\n        top: 30px;\n        left: calc(50% - 18px);\n        height: 36px;\n        width: 36px;\n        line-height: 38px;\n        border-radius: 50%;\n        background-color: #f3f4f4;\n        cursor: ").concat(isReadOnly?'not-allowed !important':'pointer',";\n      }\n      border: 1px solid transparent;\n\n      &:hover {\n        ").concat(isReadOnly?'':hoverStyle,";\n      }\n    ");}if(isFromDynamicZone){return"\n      background-color: #fff;\n      padding: 0 10px !important;\n    ";}return"\n    padding-top: 25px !important;\n    background-color: #f7f8f8;\n    margin-bottom: 18px !important;\n  ";});NonRepeatableWrapper.defaultProps={isReadOnly:false};var _default=NonRepeatableWrapper;exports["default"]=_default;

/***/ }),

/***/ 2598:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  height: 36px;\n  width: 36px;\n  background-color: #f3f4f4;\n  border-radius: 50%;\n  text-align: center;\n\n  :focus {\n    outline: 0;\n  }\n\n  :before {\n    ","\n  }\n  :after {\n    ","\n  }\n\n  :before,\n  :after {\n    background-color: #b4b6ba;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var beforeStyle="\n  content: ' ';\n  position: absolute;\n  display: block;\n  width: 14px;\n  height: 2px;\n  left: 11px;\n  top: 17px;\n  bottom: 10px;\n  z-index: 9;\n";var afterStyle="\n  content: ' ';\n  position: absolute;\n  display: block;\n  height: 14px;\n  width: 2px;\n  left: 17px;\n  top: 11px;\n  right: 10px;\n  z-index: 9;\n";var Button=_styledComponents["default"].button(_templateObject(),beforeStyle,afterStyle);var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2599:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(29));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(30));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(13);var _reactRouterDom=__webpack_require__(20);var _lodash=__webpack_require__(8);var _strapiHelperPlugin=__webpack_require__(7);var _core=__webpack_require__(10);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));var _utils=__webpack_require__(806);var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2534));var _SelectOne=_interopRequireDefault(__webpack_require__(2737));var _SelectMany=_interopRequireDefault(__webpack_require__(2739));var _ClearIndicator=_interopRequireDefault(__webpack_require__(2741));var _DropdownIndicator=_interopRequireDefault(__webpack_require__(2742));var _IndicatorSeparator=_interopRequireDefault(__webpack_require__(2743));var _Option=_interopRequireDefault(__webpack_require__(2744));var _components=__webpack_require__(2745);var _utils2=__webpack_require__(2746);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function SelectWrapper(_ref){var componentUid=_ref.componentUid,description=_ref.description,displayNavigationLink=_ref.displayNavigationLink,editable=_ref.editable,label=_ref.label,isCreatingEntry=_ref.isCreatingEntry,isFieldAllowed=_ref.isFieldAllowed,isFieldReadable=_ref.isFieldReadable,mainField=_ref.mainField,name=_ref.name,relationType=_ref.relationType,slug=_ref.slug,targetModel=_ref.targetModel,placeholder=_ref.placeholder;// Disable the input in case of a polymorphic relation
var isMorph=relationType.toLowerCase().includes('morph');var _useDataManager=(0,_useDataManager2["default"])(),_addRelation=_useDataManager.addRelation,modifiedData=_useDataManager.modifiedData,moveRelation=_useDataManager.moveRelation,_onChange=_useDataManager.onChange,onRemoveRelation=_useDataManager.onRemoveRelation;var _useEditView=(0,_useEditView2["default"])(),isDraggingComponent=_useEditView.isDraggingComponent;// This is needed for making requests when used in a component
var fieldName=(0,_react.useMemo)(function(){var fieldNameArray=(0,_utils.getFieldName)(name);return fieldNameArray[fieldNameArray.length-1];},[name]);var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var value=(0,_lodash.get)(modifiedData,name,null);var _useState=(0,_react.useState)({_contains:'',_limit:20,_start:0}),_useState2=(0,_slicedToArray2["default"])(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2["default"])(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var abortController=new AbortController();var signal=abortController.signal;var ref=(0,_react.useRef)();var startRef=(0,_react.useRef)();var filteredOptions=(0,_react.useMemo)(function(){return options.filter(function(option){if(!(0,_lodash.isEmpty)(value)){// SelectMany
if(Array.isArray(value)){return(0,_lodash.findIndex)(value,function(o){return o.id===option.value.id;})===-1;}// SelectOne
return(0,_lodash.get)(value,'id','')!==option.value.id;}return true;});},[options,value]);startRef.current=state._start;ref.current=/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var requestUrl,containsKey,_cloneDeep,_contains,restState,params,data,formattedData;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isMorph){_context.next=3;break;}setIsLoading(false);return _context.abrupt("return");case 3:if(isDraggingComponent){_context.next=21;break;}_context.prev=4;requestUrl="/".concat(_pluginId["default"],"/explorer/").concat(slug,"/relation-list/").concat(fieldName);containsKey="".concat(mainField,"_contains");_cloneDeep=(0,_lodash.cloneDeep)(state),_contains=_cloneDeep._contains,restState=(0,_objectWithoutProperties2["default"])(_cloneDeep,["_contains"]);params=(0,_lodash.isEmpty)(state._contains)?restState:_objectSpread((0,_defineProperty2["default"])({},containsKey,_contains),restState);if(componentUid){(0,_lodash.set)(params,'_component',componentUid);}_context.next=12;return(0,_strapiHelperPlugin.request)(requestUrl,{method:'GET',params:params,signal:signal});case 12:data=_context.sent;formattedData=data.map(function(obj){return{value:obj,label:obj[mainField]};});setOptions(function(prevState){return prevState.concat(formattedData).filter(function(obj,index){var objIndex=prevState.findIndex(function(el){return el.value.id===obj.value.id;});if(objIndex===-1){return true;}return prevState.findIndex(function(el){return el.value.id===obj.value.id;})===index;});});setIsLoading(false);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context["catch"](4);if(_context.t0.code!==20){strapi.notification.toggle({type:'warning',message:{id:'notification.error'}});}case 21:case"end":return _context.stop();}}},_callee,null,[[4,18]]);}));(0,_react.useEffect)(function(){if(state._contains!==''){var timer=setTimeout(function(){ref.current();},300);return function(){return clearTimeout(timer);};}if(isFieldAllowed){ref.current();}else{setIsLoading(false);}return function(){abortController.abort();};// eslint-disable-next-line react-hooks/exhaustive-deps
},[state._contains,isFieldAllowed]);(0,_react.useEffect)(function(){if(state._start!==0){ref.current();}return function(){abortController.abort();};// eslint-disable-next-line react-hooks/exhaustive-deps
},[state._start]);var onInputChange=function onInputChange(inputValue,_ref3){var action=_ref3.action;if(action==='input-change'){setState(function(prevState){if(prevState._contains===inputValue){return prevState;}return _objectSpread(_objectSpread({},prevState),{},{_contains:inputValue,_start:0});});}return inputValue;};var onMenuScrollToBottom=function onMenuScrollToBottom(){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{_start:prevState._start+20});});};var isSingle=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(relationType);var to="/plugins/".concat(_pluginId["default"],"/collectionType/").concat(targetModel,"/").concat(value?value.id:null);var link=(0,_react.useMemo)(function(){if(!value){return null;}if(!displayNavigationLink){return null;}return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Link,{to:{pathname:to,state:{from:pathname}}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"content-manager.containers.Edit.seeDetails"},function(msg){return/*#__PURE__*/_react["default"].createElement(_components.A,{color:"mediumBlue"},msg);}));},[displayNavigationLink,pathname,to,value]);var Component=isSingle?_SelectOne["default"]:_SelectMany["default"];var associationsLength=(0,_lodash.isArray)(value)?value.length:0;var isDisabled=(0,_react.useMemo)(function(){if(isMorph){return true;}if(!isCreatingEntry){return!isFieldAllowed&&isFieldReadable||!editable;}return!editable;},[isMorph,isCreatingEntry,editable,isFieldAllowed,isFieldReadable]);if(!isFieldAllowed&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label});}if(!isCreatingEntry&&!isFieldAllowed&&!isFieldReadable){return/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label});}return/*#__PURE__*/_react["default"].createElement(_core.Padded,null,/*#__PURE__*/_react["default"].createElement(_components.BaselineAlignment,null),/*#__PURE__*/_react["default"].createElement(_core.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontWeight:"semiBold"},label,!isSingle&&" (".concat(associationsLength,")")),isSingle&&link),!(0,_lodash.isEmpty)(description)&&/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,size:"xs"},/*#__PURE__*/_react["default"].createElement(_components.BaselineAlignment,null),/*#__PURE__*/_react["default"].createElement(_core.Text,{fontSize:"sm",color:"grey",lineHeight:"12px",ellipsis:true},description)),/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,size:"sm"},/*#__PURE__*/_react["default"].createElement(_components.BaselineAlignment,null),/*#__PURE__*/_react["default"].createElement(Component,{addRelation:function addRelation(value){_addRelation({target:{name:name,value:value}});},components:{ClearIndicator:_ClearIndicator["default"],DropdownIndicator:_DropdownIndicator["default"],IndicatorSeparator:_IndicatorSeparator["default"],Option:_Option["default"]},displayNavigationLink:displayNavigationLink,id:name,isDisabled:isDisabled,isLoading:isLoading,isClearable:true,mainField:mainField,move:moveRelation,name:name,options:filteredOptions,onChange:function onChange(value){_onChange({target:{name:name,value:value?value.value:value}});},onInputChange:onInputChange,onMenuClose:function onMenuClose(){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{_contains:''});});},onMenuScrollToBottom:onMenuScrollToBottom,onRemove:onRemoveRelation,placeholder:(0,_lodash.isEmpty)(placeholder)?/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".containers.Edit.addAnItem")}):placeholder,styles:_utils2.styles,targetModel:targetModel,value:value})),/*#__PURE__*/_react["default"].createElement("div",{style:{marginBottom:28}}));}SelectWrapper.defaultProps={componentUid:null,editable:true,description:'',label:'',isFieldAllowed:true,placeholder:''};SelectWrapper.propTypes={componentUid:_propTypes["default"].string,displayNavigationLink:_propTypes["default"].bool.isRequired,editable:_propTypes["default"].bool,description:_propTypes["default"].string,label:_propTypes["default"].string,isCreatingEntry:_propTypes["default"].bool.isRequired,isFieldAllowed:_propTypes["default"].bool,isFieldReadable:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,placeholder:_propTypes["default"].string,relationType:_propTypes["default"].string.isRequired,slug:_propTypes["default"].string.isRequired,targetModel:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(SelectWrapper);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports["default"]=_default;

/***/ }),

/***/ 2638:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var WysiwygContext=/*#__PURE__*/(0,_react.createContext)();var _default=WysiwygContext;exports["default"]=_default;

/***/ }),

/***/ 2639:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _Wysiwyg=_interopRequireDefault(__webpack_require__(2638));var useWysiwyg=function useWysiwyg(){return(0,_react.useContext)(_Wysiwyg["default"]);};var _default=useWysiwyg;exports["default"]=_default;

/***/ }),

/***/ 2660:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2716:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicZone=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _lodash=__webpack_require__(8);var _reactFastCompare=_interopRequireDefault(__webpack_require__(409));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(13);var _icons=__webpack_require__(43);var _reactFontawesome=__webpack_require__(27);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));var _DynamicComponentCard=_interopRequireDefault(__webpack_require__(2548));var _FieldComponent=_interopRequireDefault(__webpack_require__(2533));var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2534));var _connect=_interopRequireDefault(__webpack_require__(3216));var _select=_interopRequireDefault(__webpack_require__(3217));var _BaselineAlignement=_interopRequireDefault(__webpack_require__(3218));var _Button=_interopRequireDefault(__webpack_require__(3219));var _ComponentsPicker=_interopRequireDefault(__webpack_require__(3220));var _ComponentWrapper=_interopRequireDefault(__webpack_require__(3221));var _DynamicZoneWrapper=_interopRequireDefault(__webpack_require__(3222));var _Label=_interopRequireDefault(__webpack_require__(3223));var _RoundCTA=_interopRequireDefault(__webpack_require__(3224));var _Wrapper=_interopRequireDefault(__webpack_require__(3225));/* eslint-disable react/no-array-index-key */var DynamicZone=function DynamicZone(_ref){var max=_ref.max,min=_ref.min,name=_ref.name,addComponentToDynamicZone=_ref.addComponentToDynamicZone,formErrors=_ref.formErrors,isCreatingEntry=_ref.isCreatingEntry,isFieldAllowed=_ref.isFieldAllowed,isFieldReadable=_ref.isFieldReadable,layout=_ref.layout,moveComponentUp=_ref.moveComponentUp,moveComponentDown=_ref.moveComponentDown,removeComponentFromDynamicZone=_ref.removeComponentFromDynamicZone,dynamicDisplayedComponents=_ref.dynamicDisplayedComponents;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useEditView=(0,_useEditView2["default"])(),components=_useEditView.components;var getDynamicComponentSchemaData=(0,_react.useCallback)(function(componentUid){var component=components.find(function(compo){return compo.uid===componentUid;});var schema=component.schema;return schema;},[components]);var getDynamicComponentInfos=(0,_react.useCallback)(function(componentUid){var _getDynamicComponentS=getDynamicComponentSchemaData(componentUid),_getDynamicComponentS2=_getDynamicComponentS.info,icon=_getDynamicComponentS2.icon,name=_getDynamicComponentS2.name;return{icon:icon,name:name};},[getDynamicComponentSchemaData]);var dynamicZoneErrors=(0,_react.useMemo)(function(){return Object.keys(formErrors).filter(function(key){return key===name;}).map(function(key){return formErrors[key];});},[formErrors,name]);var dynamicZoneAvailableComponents=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','attributes',name,'components'],[]);},[layout,name]);var metas=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['metadatas',name,'edit'],{});},[layout,name]);var dynamicDisplayedComponentsLength=dynamicDisplayedComponents.length;var missingComponentNumber=min-dynamicDisplayedComponentsLength;var hasError=dynamicZoneErrors.length>0;var hasMinError=dynamicZoneErrors.length>0&&(0,_lodash.get)(dynamicZoneErrors,[0,'id'],'').includes('min');var hasRequiredError=hasError&&!hasMinError;var hasMaxError=hasError&&(0,_lodash.get)(dynamicZoneErrors,[0,'id'],'')==='components.Input.error.validation.max';if(!isFieldAllowed&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],null,/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:metas.label,spacerHeight:"3px"}));}if(!isFieldAllowed&&!isFieldReadable&&!isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],null,/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:metas.label,spacerHeight:"3px"}));}return/*#__PURE__*/_react["default"].createElement(_DynamicZoneWrapper["default"],null,dynamicDisplayedComponentsLength>0&&/*#__PURE__*/_react["default"].createElement(_Label["default"],null,/*#__PURE__*/_react["default"].createElement("p",null,metas.label),/*#__PURE__*/_react["default"].createElement("p",null,metas.description)),/*#__PURE__*/_react["default"].createElement(_ComponentWrapper["default"],null,dynamicDisplayedComponents.map(function(componentUid,index){var showDownIcon=isFieldAllowed&&dynamicDisplayedComponentsLength>0&&index<dynamicDisplayedComponentsLength-1;var showUpIcon=isFieldAllowed&&dynamicDisplayedComponentsLength>0&&index>0;return/*#__PURE__*/_react["default"].createElement("div",{key:index},/*#__PURE__*/_react["default"].createElement("div",{className:"arrow-icons"},showDownIcon&&/*#__PURE__*/_react["default"].createElement(_RoundCTA["default"],{className:"arrow-btn arrow-down",onClick:function onClick(){return moveComponentDown(name,index);}},/*#__PURE__*/_react["default"].createElement(_icons.Arrow,null)),showUpIcon&&/*#__PURE__*/_react["default"].createElement(_RoundCTA["default"],{className:"arrow-btn arrow-up",onClick:function onClick(){return moveComponentUp(name,index);}},/*#__PURE__*/_react["default"].createElement(_icons.Arrow,null))),isFieldAllowed&&/*#__PURE__*/_react["default"].createElement(_RoundCTA["default"],{onClick:function onClick(){return removeComponentFromDynamicZone(name,index);}},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:"trash-alt"})),/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:componentUid,componentFriendlyName:getDynamicComponentInfos(componentUid).name,icon:getDynamicComponentInfos(componentUid).icon,label:"",name:"".concat(name,".").concat(index),isFromDynamicZone:true}));})),isFieldAllowed?/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],null,/*#__PURE__*/_react["default"].createElement(_Button["default"],{type:"button",hasError:hasError,className:isOpen&&'isOpen',onClick:function onClick(){if(dynamicDisplayedComponentsLength<max){setIsOpen(function(prev){return!prev;});}else{strapi.notification.toggle({type:'info',message:{id:"".concat(_pluginId["default"],".components.notification.info.maximum-requirement")}});}}}),hasRequiredError&&!isOpen&&!hasMaxError&&/*#__PURE__*/_react["default"].createElement("div",{className:"error-label"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.required")})),hasMaxError&&!isOpen&&/*#__PURE__*/_react["default"].createElement("div",{className:"error-label"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.Input.error.validation.max"})),hasMinError&&!isOpen&&/*#__PURE__*/_react["default"].createElement("div",{className:"error-label"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.missing").concat(missingComponentNumber>1?'.plural':'.singular'),values:{count:missingComponentNumber}})),/*#__PURE__*/_react["default"].createElement("div",{className:"info"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.add-compo"),values:{componentName:name}})),/*#__PURE__*/_react["default"].createElement(_ComponentsPicker["default"],{isOpen:isOpen},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement("p",{className:"componentPickerTitle"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.pick-compo")})),/*#__PURE__*/_react["default"].createElement("div",{className:"componentsList"},dynamicZoneAvailableComponents.map(function(componentUid){var _getDynamicComponentI=getDynamicComponentInfos(componentUid),icon=_getDynamicComponentI.icon,friendlyName=_getDynamicComponentI.name;return/*#__PURE__*/_react["default"].createElement(_DynamicComponentCard["default"],{key:componentUid,componentUid:componentUid,friendlyName:friendlyName,icon:icon,onClick:function onClick(){setIsOpen(false);var shouldCheckErrors=hasError;addComponentToDynamicZone(name,componentUid,shouldCheckErrors);}});}))))):/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],{top:"9px"}));};exports.DynamicZone=DynamicZone;DynamicZone.defaultProps={dynamicDisplayedComponents:[],max:Infinity,min:-Infinity};DynamicZone.propTypes={addComponentToDynamicZone:_propTypes["default"].func.isRequired,dynamicDisplayedComponents:_propTypes["default"].array,formErrors:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,isFieldAllowed:_propTypes["default"].bool.isRequired,isFieldReadable:_propTypes["default"].bool.isRequired,layout:_propTypes["default"].object.isRequired,moveComponentUp:_propTypes["default"].func.isRequired,moveComponentDown:_propTypes["default"].func.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,removeComponentFromDynamicZone:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DynamicZone,_reactFastCompare["default"]);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports["default"]=_default;

/***/ }),

/***/ 2717:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(13);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _NonRepeatableWrapper=_interopRequireDefault(__webpack_require__(2597));var _PlusButton=_interopRequireDefault(__webpack_require__(2598));var _P=_interopRequireDefault(__webpack_require__(2718));var ComponentInitializer=function ComponentInitializer(_ref){var componentUid=_ref.componentUid,isReadOnly=_ref.isReadOnly,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),addNonRepeatableComponentToField=_useDataManager.addNonRepeatableComponentToField;return/*#__PURE__*/_react["default"].createElement(_NonRepeatableWrapper["default"],{isEmpty:true,isReadOnly:isReadOnly},/*#__PURE__*/_react["default"].createElement(_PlusButton["default"],{onClick:function onClick(){if(!isReadOnly){addNonRepeatableComponentToField(name,componentUid);}},type:"button"}),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.empty-repeatable")},function(msg){return/*#__PURE__*/_react["default"].createElement(_P["default"],{style:{paddingTop:78}},msg);}));};ComponentInitializer.defaultProps={isReadOnly:false,name:''};ComponentInitializer.propTypes={componentUid:_propTypes["default"].string.isRequired,isReadOnly:_propTypes["default"].bool,name:_propTypes["default"].string};var _default=ComponentInitializer;exports["default"]=_default;

/***/ }),

/***/ 2718:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #9ea7b8;\n  font-size: 13px;\n  font-weight: 500;\n"]);_templateObject=function _templateObject(){return data;};return data;}var P=_styledComponents["default"].p(_templateObject());var _default=P;exports["default"]=_default;

/***/ }),

/***/ 2719:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _NonRepeatableWrapper=_interopRequireDefault(__webpack_require__(2597));var _Inputs=_interopRequireDefault(__webpack_require__(2558));var _FieldComponent=_interopRequireDefault(__webpack_require__(2533));/* eslint-disable react/no-array-index-key */ /* eslint-disable import/no-cycle */var NonRepeatableComponent=function NonRepeatableComponent(_ref){var componentUid=_ref.componentUid,fields=_ref.fields,isFromDynamicZone=_ref.isFromDynamicZone,name=_ref.name,schema=_ref.schema;var getField=function getField(fieldName){return(0,_lodash.get)(schema,['schema','attributes',fieldName],{});};var getMeta=function getMeta(fieldName){return(0,_lodash.get)(schema,['metadatas',fieldName,'edit'],{});};return/*#__PURE__*/_react["default"].createElement(_NonRepeatableWrapper["default"],{isFromDynamicZone:isFromDynamicZone},fields.map(function(fieldRow,key){return/*#__PURE__*/_react["default"].createElement("div",{className:"row",key:key},fieldRow.map(function(field){var currentField=getField(field.name);var isComponent=(0,_lodash.get)(currentField,'type','')==='component';var keys="".concat(name,".").concat(field.name);if(isComponent){var compoUid=currentField.component;var metas=getMeta(field.name);return/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{key:field.name,componentUid:compoUid,isRepeatable:currentField.repeatable,label:metas.label,max:currentField.max,min:currentField.min,name:keys});}return/*#__PURE__*/_react["default"].createElement("div",{key:field.name,className:"col-".concat(field.size)},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{keys:keys,layout:schema,name:field.name,componentUid:componentUid}));}));}));};NonRepeatableComponent.defaultProps={fields:[],isFromDynamicZone:false};NonRepeatableComponent.propTypes={componentUid:_propTypes["default"].string.isRequired,fields:_propTypes["default"].array,isFromDynamicZone:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].object.isRequired};var _default=NonRepeatableComponent;exports["default"]=_default;

/***/ }),

/***/ 2720:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _classCallCheck2=_interopRequireDefault(__webpack_require__(18));var _createClass2=_interopRequireDefault(__webpack_require__(19));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(16));var _inherits2=_interopRequireDefault(__webpack_require__(21));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(22));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(23));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _classnames=_interopRequireDefault(__webpack_require__(11));var _styles=__webpack_require__(44);var _core=__webpack_require__(10);var _InputJSON=_interopRequireDefault(__webpack_require__(2721));var _Wrapper=_interopRequireDefault(__webpack_require__(2733));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var InputJSONWithErrors=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSONWithErrors,_React$Component);var _super=_createSuper(InputJSONWithErrors);function InputJSONWithErrors(){var _this;(0,_classCallCheck2["default"])(this,InputJSONWithErrors);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(e){_this.props.onChange(e);});return _this;}(0,_createClass2["default"])(InputJSONWithErrors,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,autoFocus=_this$props.autoFocus,className=_this$props.className,deactivateErrorHighlight=_this$props.deactivateErrorHighlight,disabled=_this$props.disabled,inputError=_this$props.error,inputClassName=_this$props.inputClassName,inputDescription=_this$props.inputDescription,inputStyle=_this$props.inputStyle,label=_this$props.label,name=_this$props.name,onBlur=_this$props.onBlur,placeholder=_this$props.placeholder,resetProps=_this$props.resetProps,tabIndex=_this$props.tabIndex,validations=_this$props.validations,value=_this$props.value,rest=(0,_objectWithoutProperties2["default"])(_this$props,["autoFocus","className","deactivateErrorHighlight","disabled","error","inputClassName","inputDescription","inputStyle","label","name","onBlur","placeholder","resetProps","tabIndex","validations","value"]);var handleBlur=(0,_lodash.isFunction)(onBlur)?onBlur:this.handleBlur;return/*#__PURE__*/_react["default"].createElement(_core.Error,{inputError:inputError,name:name,type:"text",validations:validations},function(_ref){var canCheck=_ref.canCheck,onBlur=_ref.onBlur,error=_ref.error,dispatch=_ref.dispatch;var hasError=Boolean(error);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{className:"".concat((0,_classnames["default"])(!(0,_lodash.isEmpty)(className)&&className)," ").concat(hasError?'bordered':'')},/*#__PURE__*/_react["default"].createElement(_styles.Label,{htmlFor:name},label),/*#__PURE__*/_react["default"].createElement(_InputJSON["default"],(0,_extends2["default"])({},rest,{autoFocus:autoFocus,className:inputClassName,disabled:disabled,deactivateErrorHighlight:deactivateErrorHighlight,name:name,onBlur:(0,_lodash.isFunction)(handleBlur)?handleBlur:onBlur,onChange:function onChange(e){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});_this2.handleChange(e);},placeholder:placeholder,resetProps:resetProps,style:inputStyle,tabIndex:tabIndex,value:value})),!hasError&&inputDescription&&/*#__PURE__*/_react["default"].createElement(_styles.Description,null,inputDescription),hasError&&/*#__PURE__*/_react["default"].createElement(_styles.ErrorMessage,null,error));});}}]);return InputJSONWithErrors;}(_react["default"].Component);InputJSONWithErrors.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,didCheckErrors:false,disabled:false,error:null,inputClassName:'',inputDescription:'',inputStyle:{},label:'',labelClassName:'',labelStyle:{},onBlur:false,placeholder:'',resetProps:false,tabIndex:'0',validations:{},value:null};InputJSONWithErrors.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,didCheckErrors:_propTypes["default"].bool,disabled:_propTypes["default"].bool,error:_propTypes["default"].string,inputClassName:_propTypes["default"].string,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),inputStyle:_propTypes["default"].object,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),labelClassName:_propTypes["default"].string,labelStyle:_propTypes["default"].object,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].func]),onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,tabIndex:_propTypes["default"].string,validations:_propTypes["default"].object,value:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object,_propTypes["default"].bool,_propTypes["default"].string,_propTypes["default"].number])};var _default=InputJSONWithErrors;exports["default"]=_default;

/***/ }),

/***/ 2721:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(18));var _createClass2=_interopRequireDefault(__webpack_require__(19));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(16));var _inherits2=_interopRequireDefault(__webpack_require__(21));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(22));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(23));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _codemirror=_interopRequireDefault(__webpack_require__(2523));__webpack_require__(2722);__webpack_require__(2723);__webpack_require__(2724);__webpack_require__(2725);__webpack_require__(2726);__webpack_require__(2727);__webpack_require__(2729);var _lodash=__webpack_require__(8);var _jsonlint=_interopRequireDefault(__webpack_require__(2731));var _components=_interopRequireDefault(__webpack_require__(2732));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var WAIT=600;var stringify=JSON.stringify;var DEFAULT_THEME='solarized dark';var InputJSON=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSON,_React$Component);var _super=_createSuper(InputJSON);function InputJSON(props){var _this;(0,_classCallCheck2["default"])(this,InputJSON);_this=_super.call(this,props);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"timer",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setInitValue",function(){var value=_this.props.value;try{_this.setState({hasInitValue:true});if(value===null)return _this.codeMirror.setValue('');return _this.codeMirror.setValue(stringify(value,null,2));}catch(err){return _this.setState({error:true});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setSize",function(){return _this.codeMirror.setSize('100%','auto');});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getContentAtLine",function(line){return _this.codeMirror.getLine(line);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getEditorOption",function(opt){return _this.codeMirror.getOption(opt);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getValue",function(){return _this.codeMirror.getValue();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"markSelection",function(_ref){var message=_ref.message;var line=parseInt(message.split(':')[0].split('line ')[1],10)-1;var content=_this.getContentAtLine(line);if(content==='{'){line+=1;content=_this.getContentAtLine(line);}var chEnd=content.length;var chStart=chEnd-(0,_lodash.trimStart)(content,' ').length;var markedText=_this.codeMirror.markText({line:line,ch:chStart},{line:line,ch:chEnd},{className:'colored'});_this.setState({markedText:markedText});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleBlur",function(_ref2){var target=_ref2.target;var _this$props=_this.props,name=_this$props.name,onBlur=_this$props.onBlur;if(target===undefined){// codemirror catches multiple events
onBlur({target:{name:name,type:'json',value:_this.getValue()}});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(){var hasInitValue=_this.state.hasInitValue;var _this$props2=_this.props,name=_this$props2.name,onChange=_this$props2.onChange;var value=_this.codeMirror.getValue();if(!hasInitValue){_this.setState({hasInitValue:true});// Fix for the input firing on onChange event on mount
return;}if(value===''){value=null;}// Update the parent
onChange({target:{name:name,value:value,type:'json'}});// Remove higlight error
if(_this.state.markedText){_this.state.markedText.clear();_this.setState({markedText:null,error:null});}clearTimeout(_this.timer);_this.timer=setTimeout(function(){return _this.testJSON(_this.codeMirror.getValue());},WAIT);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"testJSON",function(value){try{_jsonlint["default"].parse(value);}catch(err){_this.markSelection(err);}});_this.editor=/*#__PURE__*/_react["default"].createRef();_this.state={error:false,markedText:null};return _this;}(0,_createClass2["default"])(InputJSON,[{key:"componentDidMount",value:function componentDidMount(){// Init codemirror component
this.codeMirror=_codemirror["default"].fromTextArea(this.editor.current,{autoCloseBrackets:true,lineNumbers:true,matchBrackets:true,mode:'application/json',readOnly:this.props.disabled,smartIndent:true,styleSelectedText:true,tabSize:2,theme:DEFAULT_THEME,fontSize:'13px'});this.codeMirror.on('change',this.handleChange);this.codeMirror.on('blur',this.handleBlur);this.setSize();this.setInitValue();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if((0,_lodash.isEmpty)(prevProps.value)&&!(0,_lodash.isEmpty)(this.props.value)&&!this.state.hasInitValue){this.setInitValue();}}},{key:"render",value:function render(){if(this.state.error){return/*#__PURE__*/_react["default"].createElement("div",null,"error json");}return/*#__PURE__*/_react["default"].createElement(_components["default"],{disabled:this.props.disabled},/*#__PURE__*/_react["default"].createElement("textarea",{ref:this.editor,autoComplete:"off",id:this.props.name,defaultValue:""}));}}]);return InputJSON;}(_react["default"].Component);InputJSON.defaultProps={disabled:false,onBlur:function onBlur(){},onChange:function onChange(){},value:null};InputJSON.propTypes={disabled:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func,value:_propTypes["default"].any};var _default=InputJSON;exports["default"]=_default;

/***/ }),

/***/ 2731:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* Jison generated parser */ /* eslint-disable */var jsonlint=function(){var parser={trace:function trace(){},yy:{},symbols_:{"error":2,"JSONString":3,"STRING":4,"JSONNumber":5,"NUMBER":6,"JSONNullLiteral":7,"NULL":8,"JSONBooleanLiteral":9,"TRUE":10,"FALSE":11,"JSONText":12,"JSONValue":13,"EOF":14,"JSONObject":15,"JSONArray":16,"{":17,"}":18,"JSONMemberList":19,"JSONMember":20,":":21,",":22,"[":23,"]":24,"JSONElementList":25,"$accept":0,"$end":1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:// replace escaped characters with actual character
this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,'\n').replace(/\\r/g,'\r').replace(/\\t/g,'\t').replace(/\\v/g,'\v').replace(/\\f/g,'\f').replace(/\\b/g,'\b');break;case 2:this.$=Number(yytext);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function parseError(str,hash){throw new Error(str);},parse:function parse(input){var self=this,stack=[0],vstack=[null],// semantic value stack
lstack=[],// location stack
table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;//this.reductionCount = this.shiftCount = 0;
this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=='undefined')this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if(typeof this.yy.parseError==='function')this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n;}function lex(){var token;token=self.lexer.lex()||1;// $end = 1
// if token isn't its numeric value, convert
if(typeof token!=='number'){token=self.symbols_[token]||token;}return token;}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){// retreive state number from top of stack
state=stack[stack.length-1];// use default actions if available
if(this.defaultActions[state]){action=this.defaultActions[state];}else{if(symbol==null)symbol=lex();// read action for current state and first input
action=table[state]&&table[state][symbol];}// handle parse error
_handle_error:if(typeof action==='undefined'||!action.length||!action[0]){if(!recovering){// Report error
expected=[];for(p in table[state]){if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'");}}var errStr='';if(this.lexer.showPosition){errStr='Parse error on line '+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(', ')+", got '"+this.terminals_[symbol]+"'";}else{errStr='Parse error on line '+(yylineno+1)+": Unexpected "+(symbol==1/*EOF*/?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'");}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected});}// just recovered from another error
if(recovering==3){if(symbol==EOF){throw new Error(errStr||'Parsing halted.');}// discard current lookahead and grab another
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex();}// try to recover from error
while(1){// check for error recovery rule in this state
if(TERROR.toString()in table[state]){break;}if(state==0){throw new Error(errStr||'Parsing halted.');}popStack(1);state=stack[stack.length-1];}preErrorSymbol=symbol;// save the lookahead token
symbol=TERROR;// insert generic error symbol as new lookahead
state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3;// allow 3 real symbols to be shifted before reporting a new error
}// this shouldn't happen, unless resolve defaults are off
if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);}switch(action[0]){case 1:// shift
//this.shiftCount++;
stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);// push state
symbol=null;if(!preErrorSymbol){// normal execution/no error
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--;}else{// error just occurred, resume old lookahead f/ before error
symbol=preErrorSymbol;preErrorSymbol=null;}break;case 2:// reduce
//this.reductionCount++;
len=this.productions_[action[1]][1];// perform semantic action
yyval.$=vstack[vstack.length-len];// default to $$ = $1
// default location, uses first token for firsts, last for lasts
yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=='undefined'){return r;}// pop off stack
if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len);}stack.push(this.productions_[action[1]][0]);// push nonterminal (reduce)
vstack.push(yyval.$);lstack.push(yyval._$);// goto new state = table[STATE][NONTERMINAL]
newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:// accept
return true;}}return true;}};/* Jison generated lexer */var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash);}else{throw new Error(str);}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this;},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch;},unput:function unput(ch){this._input=ch+this._input;return this;},more:function more(){this._more=true;return this;},less:function less(n){this._input=this.match.slice(n)+this._input;},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,"");},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length);}return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,"");},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^";},next:function next(){if(this.done){return this.EOF;}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext='';this.match='';}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break;}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return;}if(this._input===""){return this.EOF;}else{this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r;}else{return this.lex();}},begin:function begin(condition){this.conditionStack.push(condition);},popState:function popState(){return this.conditionStack.pop();},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function topState(){return this.conditionStack[this.conditionStack.length-2];},pushState:function begin(condition){this.begin(condition);}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:/* skip whitespace */break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return'INVALID';break;}};lexer.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/];lexer.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13],"inclusive":true}};;return lexer;}();parser.lexer=lexer;return parser;}();if(true){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments);};exports.main=function commonjsMain(args){if(!args[1]){throw new Error('Usage: '+args[0]+' FILE');}};}

/***/ }),

/***/ 2732:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  margin-bottom: 3px;\n  line-height: 18px;\n  cursor: ",";\n\n  .CodeMirror {\n    font-size: 13px !important;\n  }\n\n  > div {\n    border-radius: 3px;\n\n    > div:last-of-type {\n      min-height: 315px;\n      max-height: 635px;\n      font-weight: 500;\n      font-size: 1.3rem !important;\n    }\n  }\n\n  .colored {\n    background-color: yellow;\n    color: black !important;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var disabled=_ref.disabled;return disabled?'not-allowed':'initial';});var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2733:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-bottom: 30px;\n\n  label {\n    margin-bottom: 1rem;\n    line-height: 18px;\n    display: block;\n  }\n  > div {\n    border-radius: 4px;\n    border: 1px solid #090300;\n  }\n  &.bordered {\n    > div {\n      border-color: red;\n    }\n  }\n  > p {\n    width: 100%;\n    padding-top: 14px;\n    font-size: 1.2rem;\n    line-height: normal;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: -11px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2734:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));var EyeSlashed=function EyeSlashed(props){return/*#__PURE__*/_react["default"].createElement("svg",(0,_extends2["default"])({width:"13",height:"13",xmlns:"http://www.w3.org/2000/svg"},props),/*#__PURE__*/_react["default"].createElement("path",{d:"M4.026 7.427l.566-1a3.15 3.15 0 01-.987-1.128 3.069 3.069 0 01-.355-1.44c0-.572.148-1.104.443-1.596-1.108.553-2.03 1.388-2.764 2.504.807 1.22 1.84 2.106 3.097 2.66zm2.822-5.384a.325.325 0 00-.101-.241.34.34 0 00-.247-.1c-.605 0-1.123.212-1.556.635-.433.423-.65.93-.65 1.522 0 .094.034.175.102.24.068.067.15.1.247.1a.34.34 0 00.247-.1.325.325 0 00.101-.24c0-.407.148-.755.443-1.043A1.47 1.47 0 016.5 2.383a.34.34 0 00.247-.099.325.325 0 00.101-.241zM9.482.688a.172.172 0 01-.008.064c-.512.894-1.276 2.234-2.292 4.022a2216.702 2216.702 0 01-2.285 4.015l-.356.63a.228.228 0 01-.203.114c-.058 0-.382-.165-.972-.496a.221.221 0 01-.116-.199c0-.057.106-.262.32-.617a7.524 7.524 0 01-1.912-1.227A8.521 8.521 0 01.145 5.256.87.87 0 010 4.766a.87.87 0 01.145-.489c.74-1.111 1.659-1.988 2.757-2.631A6.992 6.992 0 016.5.68c.43 0 .866.04 1.306.12l.392-.688A.228.228 0 018.4 0c.024 0 .067.014.13.043a4.88 4.88 0 01.465.24c.072.043.148.087.228.132.08.045.127.072.142.082.077.047.116.11.116.191zm.268 3.17c0 .658-.191 1.257-.573 1.799-.382.541-.888.93-1.516 1.167l2.031-3.561c.039.213.058.411.058.596zm3.25.909a.94.94 0 01-.145.49 7.98 7.98 0 01-.79 1.028 7.803 7.803 0 01-2.522 1.894c-.955.449-1.97.673-3.043.673l.537-.936a6.114 6.114 0 002.847-.972 7.393 7.393 0 002.187-2.177 7.34 7.34 0 00-2.045-2.086l.457-.794c.46.302.9.664 1.324 1.085.423.42.772.856 1.048 1.305a.94.94 0 01.145.49z",fill:"#9EA7B8",fillRule:"nonzero"}));};var _default=EyeSlashed;exports["default"]=_default;

/***/ }),

/***/ 2735:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var BaselineAlignement=_styledComponents["default"].div(_templateObject(),function(_ref){var height=_ref.height;return height;});BaselineAlignement.defaultProps={height:'7px'};var _default=BaselineAlignement;exports["default"]=_default;

/***/ }),

/***/ 2736:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 34px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 11px;\n  padding-top: 2px;\n  border-radius: 2px;\n  background-color: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var Field=_styledComponents["default"].div(_templateObject(),function(_ref){var theme=_ref.theme;return theme.main.colors.mediumGrey;});var _default=Field;exports["default"]=_default;

/***/ }),

/***/ 2737:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactSelect=_interopRequireDefault(__webpack_require__(64));var _SingleValue=_interopRequireDefault(__webpack_require__(2738));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function SelectOne(_ref){var components=_ref.components,mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,onChange=_ref.onChange,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuScrollToBottom=_ref.onMenuScrollToBottom,options=_ref.options,placeholder=_ref.placeholder,styles=_ref.styles,value=_ref.value;return/*#__PURE__*/_react["default"].createElement(_reactSelect["default"],{components:_objectSpread(_objectSpread({},components),{},{SingleValue:_SingleValue["default"]}),id:name,isClearable:true,isDisabled:isDisabled,isLoading:isLoading,options:options,onChange:onChange,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:placeholder,styles:styles,value:(0,_lodash.isNull)(value)?null:{label:(0,_lodash.get)(value,[mainField],''),value:value}});}SelectOne.defaultProps={components:{},value:null};SelectOne.propTypes={components:_propTypes["default"].object,isDisabled:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].node.isRequired,styles:_propTypes["default"].object.isRequired,value:_propTypes["default"].object};var _default=/*#__PURE__*/(0,_react.memo)(SelectOne);exports["default"]=_default;

/***/ }),

/***/ 2738:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _reactSelect=__webpack_require__(64);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _core=__webpack_require__(10);var _RelationDPState=_interopRequireDefault(__webpack_require__(811));var SingleValue=function SingleValue(props){var Component=_reactSelect.components.SingleValue;var hasDraftAndPublish=(0,_lodash.has)((0,_lodash.get)(props,'data.value'),'published_at');var isDraft=(0,_lodash.isEmpty)((0,_lodash.get)(props,'data.value.published_at'));var value=props.data.label;if(hasDraftAndPublish){return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_core.Padded,{left:true,size:"sm",right:true},/*#__PURE__*/_react["default"].createElement(_core.Flex,null,/*#__PURE__*/_react["default"].createElement(_RelationDPState["default"],{marginLeft:"0",marginTop:"1px",marginRight:"10px",isDraft:isDraft,marginBottom:"0"}),/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_core.Text,{ellipsis:true},value)))));}return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_core.Padded,{left:true,right:true,size:"sm"},value));};SingleValue.propTypes={data:_propTypes["default"].object.isRequired};var _default=SingleValue;exports["default"]=_default;

/***/ }),

/***/ 2739:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactDnd=__webpack_require__(117);var _reactSelect=_interopRequireWildcard(__webpack_require__(64));var _ItemTypes=_interopRequireDefault(__webpack_require__(408));var _components=__webpack_require__(412);var _ListItem=_interopRequireDefault(__webpack_require__(2740));function SelectMany(_ref){var addRelation=_ref.addRelation,components=_ref.components,displayNavigationLink=_ref.displayNavigationLink,mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,move=_ref.move,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuScrollToBottom=_ref.onMenuScrollToBottom,_onRemove=_ref.onRemove,options=_ref.options,placeholder=_ref.placeholder,styles=_ref.styles,targetModel=_ref.targetModel,value=_ref.value;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].RELATION}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var findRelation=function findRelation(id){var relation=value.filter(function(c){return"".concat(c.id)==="".concat(id);})[0];return{relation:relation,index:value.indexOf(relation)};};var moveRelation=(0,_react.useCallback)(function(id,atIndex){var _findRelation=findRelation(id),index=_findRelation.index;move(index,atIndex,name);},// eslint-disable-next-line react-hooks/exhaustive-deps
[value]);var filterConfig={ignoreCase:true,ignoreAccents:true,trim:false,matchFrom:'any'};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_reactSelect["default"],{components:components,isDisabled:isDisabled,id:name,filterOption:function filterOption(candidate,input){if(!(0,_lodash.isEmpty)(value)){var isSelected=value.findIndex(function(item){return item.id===candidate.value.id;})!==-1;if(isSelected){return false;}}if(input){return(0,_reactSelect.createFilter)(filterConfig)(candidate,input);}return true;},isLoading:isLoading,isMulti:true,isSearchable:true,options:options,onChange:addRelation,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:placeholder,styles:styles,value:[]}),/*#__PURE__*/_react["default"].createElement(_components.ListWrapper,{ref:drop},!(0,_lodash.isEmpty)(value)&&/*#__PURE__*/_react["default"].createElement("ul",null,value.map(function(data,index){return/*#__PURE__*/_react["default"].createElement(_ListItem["default"],{key:data.id,data:data,displayNavigationLink:displayNavigationLink,isDisabled:isDisabled,findRelation:findRelation,mainField:mainField,moveRelation:moveRelation,onRemove:function onRemove(){if(!isDisabled){_onRemove("".concat(name,".").concat(index));}},targetModel:targetModel});})),!(0,_lodash.isEmpty)(value)&&value.length>4&&/*#__PURE__*/_react["default"].createElement(_components.ListShadow,null)));}SelectMany.defaultProps={components:{},move:function move(){},value:null};SelectMany.propTypes={addRelation:_propTypes["default"].func.isRequired,components:_propTypes["default"].object,displayNavigationLink:_propTypes["default"].bool.isRequired,isDisabled:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,move:_propTypes["default"].func,name:_propTypes["default"].string.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,onRemove:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].node.isRequired,styles:_propTypes["default"].object.isRequired,targetModel:_propTypes["default"].string.isRequired,value:_propTypes["default"].array};var _default=/*#__PURE__*/(0,_react.memo)(SelectMany);exports["default"]=_default;

/***/ }),

/***/ 2740:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactDnd=__webpack_require__(117);var _reactDndHtml5Backend=__webpack_require__(281);var _lodash=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _ItemTypes=_interopRequireDefault(__webpack_require__(408));var _components=__webpack_require__(412);var _Relation=_interopRequireDefault(__webpack_require__(818));function ListItem(_ref){var data=_ref.data,displayNavigationLink=_ref.displayNavigationLink,findRelation=_ref.findRelation,isDisabled=_ref.isDisabled,mainField=_ref.mainField,moveRelation=_ref.moveRelation,onRemove=_ref.onRemove,targetModel=_ref.targetModel;var to="/plugins/".concat(_pluginId["default"],"/collectionType/").concat(targetModel,"/").concat(data.id);var hasDraftAndPublish=(0,_lodash.has)(data,'published_at');var originalIndex=findRelation(data.id).index;var _useDrag=(0,_reactDnd.useDrag)({item:{type:_ItemTypes["default"].RELATION,id:data.id,originalIndex:originalIndex,data:data,hasDraftAndPublish:hasDraftAndPublish,mainField:mainField},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].RELATION,canDrop:function canDrop(){return false;},hover:function hover(_ref2){var draggedId=_ref2.id;if(draggedId!==data.id){var _findRelation=findRelation(data.id),overIndex=_findRelation.index;moveRelation(draggedId,overIndex);}}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:true});},[preview]);var opacity=isDragging?0.2:1;return/*#__PURE__*/_react["default"].createElement(_components.Li,{ref:function ref(node){if(!isDisabled){drag(drop(node));}},style:{opacity:opacity}},/*#__PURE__*/_react["default"].createElement(_Relation["default"],{displayNavigationLink:displayNavigationLink,hasDraftAndPublish:hasDraftAndPublish,mainField:mainField,onRemove:onRemove,data:data,to:to,isDisabled:isDisabled}));}ListItem.defaultProps={findRelation:function findRelation(){},moveRelation:function moveRelation(){},onRemove:function onRemove(){},targetModel:''};ListItem.propTypes={data:_propTypes["default"].object.isRequired,displayNavigationLink:_propTypes["default"].bool.isRequired,findRelation:_propTypes["default"].func,isDisabled:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,moveRelation:_propTypes["default"].func,onRemove:_propTypes["default"].func,targetModel:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(ListItem);exports["default"]=_default;

/***/ }),

/***/ 2741:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _icons=__webpack_require__(43);var _reactSelect=__webpack_require__(64);var ClearIndicator=function ClearIndicator(props){var Component=_reactSelect.components.ClearIndicator;return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_icons.Remove,{width:"11px",height:"11px",fill:"#9EA7B8"}));};var _default=ClearIndicator;exports["default"]=_default;

/***/ }),

/***/ 2742:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _react=_interopRequireDefault(__webpack_require__(1));var _reactFontawesome=__webpack_require__(27);var _core=__webpack_require__(10);var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _propTypes=_interopRequireDefault(__webpack_require__(2));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 100%;\n  width: 32px;\n  background: #fafafb;\n  > svg {\n    align-self: center;\n    font-size: 11px;\n    color: #b3b5b9;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=(0,_styledComponents["default"])(_core.Flex)(_templateObject());var DropdownIndicator=function DropdownIndicator(_ref){var menuIsOpen=_ref.selectProps.menuIsOpen;var icon=menuIsOpen?'caret-up':'caret-down';return/*#__PURE__*/_react["default"].createElement(Wrapper,null,/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon}));};DropdownIndicator.propTypes={selectProps:_propTypes["default"].shape({menuIsOpen:_propTypes["default"].bool.isRequired}).isRequired};Wrapper.defaultProps={flexDirection:'column',justifyContent:'center'};var _default=DropdownIndicator;exports["default"]=_default;

/***/ }),

/***/ 2743:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var IndicatorSeparator=function IndicatorSeparator(){return null;};var _default=IndicatorSeparator;exports["default"]=_default;

/***/ }),

/***/ 2744:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _react=_interopRequireDefault(__webpack_require__(1));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _reactSelect=__webpack_require__(64);var _reactIntl=__webpack_require__(13);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _core=__webpack_require__(10);var _utils=__webpack_require__(806);var _RelationDPState=_interopRequireDefault(__webpack_require__(811));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  flex-grow: 2;\n"]);_templateObject=function _templateObject(){return data;};return data;}var TextGrow=(0,_styledComponents["default"])(_core.Text)(_templateObject());var Option=function Option(props){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var Component=_reactSelect.components.Option;var hasDraftAndPublish=(0,_lodash.has)((0,_lodash.get)(props,'data.value'),'published_at');var isDraft=(0,_lodash.isEmpty)((0,_lodash.get)(props,'data.value.published_at'));var titleLabelID=isDraft?'components.Select.draft-info-title':'components.Select.publish-info-title';var title=formatMessage({id:(0,_utils.getTrad)(titleLabelID)});var fontWeight=props.isFocused?'bold':'regular';if(hasDraftAndPublish){return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_core.Flex,null,/*#__PURE__*/_react["default"].createElement(_RelationDPState["default"],{marginLeft:"0",marginTop:"1px",marginRight:"10px",isDraft:isDraft,marginBottom:"0",title:title}),/*#__PURE__*/_react["default"].createElement(TextGrow,{ellipsis:true,as:"div",fontWeight:fontWeight},props.label,"\xA0")));}return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_core.Text,{ellipsis:true,fontWeight:fontWeight},props.label));};Option.defaultProps={label:''};Option.propTypes={label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),isFocused:_propTypes["default"].bool.isRequired,selectProps:_propTypes["default"].shape({hasDraftAndPublish:_propTypes["default"].bool}).isRequired};var _default=Option;exports["default"]=_default;

/***/ }),

/***/ 2745:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.BaselineAlignment=exports.A=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _core=__webpack_require__(10);function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  &:hover {\n    text-decoration: underline;\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 1px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var BaselineAlignment=_styledComponents["default"].div(_templateObject());exports.BaselineAlignment=BaselineAlignment;var A=(0,_styledComponents["default"])(_core.Text)(_templateObject2());exports.A=A;

/***/ }),

/***/ 2746:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});Object.defineProperty(exports,"styles",{enumerable:true,get:function get(){return _styles["default"];}});var _connect=_interopRequireDefault(__webpack_require__(2747));var _select=_interopRequireDefault(__webpack_require__(2748));var _styles=_interopRequireDefault(__webpack_require__(2749));

/***/ }),

/***/ 2747:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2748:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(8);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));function useSelect(_ref){var isUserAllowedToEditField=_ref.isUserAllowedToEditField,isUserAllowedToReadField=_ref.isUserAllowedToReadField,name=_ref.name,targetModel=_ref.targetModel;var _useDataManager=(0,_useDataManager2["default"])(),isCreatingEntry=_useDataManager.isCreatingEntry,createActionAllowedFields=_useDataManager.createActionAllowedFields,readActionAllowedFields=_useDataManager.readActionAllowedFields,slug=_useDataManager.slug,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var _useEditView=(0,_useEditView2["default"])(),models=_useEditView.models;var displayNavigationLink=(0,_react.useMemo)(function(){var targetModelSchema=models.find(function(obj){return obj.uid===targetModel;});return(0,_lodash.get)(targetModelSchema,'isDisplayed',false);},[targetModel,models]);var isFieldAllowed=(0,_react.useMemo)(function(){if(isUserAllowedToEditField===true){return true;}var allowedFields=isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;return allowedFields.includes(name);},[isCreatingEntry,createActionAllowedFields,name,isUserAllowedToEditField,updateActionAllowedFields]);var isFieldReadable=(0,_react.useMemo)(function(){if(isUserAllowedToReadField){return true;}var allowedFields=isCreatingEntry?[]:readActionAllowedFields;return allowedFields.includes(name);},[isCreatingEntry,isUserAllowedToReadField,name,readActionAllowedFields]);return{displayNavigationLink:displayNavigationLink,isCreatingEntry:isCreatingEntry,isFieldAllowed:isFieldAllowed,isFieldReadable:isFieldReadable,slug:slug};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2749:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* eslint-disable indent */ /* eslint-disable no-nested-ternary */var styles={container:function container(base){return _objectSpread(_objectSpread({},base),{},{background:'#ffffff'});},control:function control(base,state){var borderRadiusStyle=state.selectProps.menuIsOpen?{borderBottomLeftRadius:'0 !important',borderBottomRightRadius:'0 !important'}:{};var _state$selectProps=state.selectProps,error=_state$selectProps.error,value=_state$selectProps.value;var border;var borderBottom;var backgroundColor;if(state.isFocused){border='1px solid #78caff !important';}else if(error&&!value.length){border='1px solid #f64d0a !important';}else{border='1px solid #e3e9f3 !important';}if(state.menuIsOpen===true){borderBottom='1px solid #e3e9f3 !important';}if(state.isDisabled){backgroundColor='#fafafb !important';}return _objectSpread(_objectSpread(_objectSpread({},base),{},{fontSize:13,height:34,minHeight:34,border:border,outline:0,boxShadow:0,borderRadius:'2px !important'},borderRadiusStyle),{},{borderBottom:borderBottom,backgroundColor:backgroundColor});},input:function input(base){return _objectSpread(_objectSpread({},base),{},{marginLeft:10});},menu:function menu(base){return _objectSpread(_objectSpread({},base),{},{width:'100%',margin:'0',paddingTop:0,borderRadius:'2px !important',borderTopLeftRadius:'0 !important',borderTopRightRadius:'0 !important',border:'1px solid #78caff !important',boxShadow:0,borderTop:'0 !important',fontSize:'13px'});},menuList:function menuList(base){return _objectSpread(_objectSpread({},base),{},{maxHeight:'112px',paddingTop:2});},option:function option(base,state){return _objectSpread(_objectSpread({},base),{},{height:36,backgroundColor:state.isFocused?'#f6f6f6':'#fff',':active':_objectSpread(_objectSpread({},base[':active']),{},{backgroundColor:'#f6f6f6'}),color:'#333740',fontWeight:state.isFocused?'600':'400',cursor:'pointer',WebkitFontSmoothing:'antialiased'});},placeholder:function placeholder(base){return _objectSpread(_objectSpread({},base),{},{marginTop:0,marginLeft:10,color:'#aaa',overflow:'hidden',whiteSpace:'nowrap',textOverflow:'ellipsis',maxWidth:'calc(100% - 32px)'});},valueContainer:function valueContainer(base){return _objectSpread(_objectSpread({},base),{},{padding:'2px 0px 4px 0px',lineHeight:'18px'});}};var _default=styles;exports["default"]=_default;

/***/ }),

/***/ 2750:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _classCallCheck2=_interopRequireDefault(__webpack_require__(18));var _createClass2=_interopRequireDefault(__webpack_require__(19));var _inherits2=_interopRequireDefault(__webpack_require__(21));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(22));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(23));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _classnames=_interopRequireDefault(__webpack_require__(11));var _styles=__webpack_require__(44);var _core=__webpack_require__(10);var _Wysiwyg=_interopRequireDefault(__webpack_require__(2751));var _Wrapper=_interopRequireDefault(__webpack_require__(3181));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}// eslint-disable-next-line react/prefer-stateless-function
var WysiwygWithErrors=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(WysiwygWithErrors,_React$Component);var _super=_createSuper(WysiwygWithErrors);function WysiwygWithErrors(){(0,_classCallCheck2["default"])(this,WysiwygWithErrors);return _super.apply(this,arguments);}(0,_createClass2["default"])(WysiwygWithErrors,[{key:"render",value:function render(){var _this$props=this.props,autoFocus=_this$props.autoFocus,className=_this$props.className,deactivateErrorHighlight=_this$props.deactivateErrorHighlight,disabled=_this$props.disabled,inputError=_this$props.error,inputClassName=_this$props.inputClassName,inputDescription=_this$props.inputDescription,inputStyle=_this$props.inputStyle,label=_this$props.label,name=_this$props.name,handleBlur=_this$props.onBlur,_onChange=_this$props.onChange,placeholder=_this$props.placeholder,resetProps=_this$props.resetProps,style=_this$props.style,tabIndex=_this$props.tabIndex,validations=_this$props.validations,value=_this$props.value,rest=(0,_objectWithoutProperties2["default"])(_this$props,["autoFocus","className","deactivateErrorHighlight","disabled","error","inputClassName","inputDescription","inputStyle","label","name","onBlur","onChange","placeholder","resetProps","style","tabIndex","validations","value"]);return/*#__PURE__*/_react["default"].createElement(_core.Error,{inputError:inputError,name:name,type:"text",validations:validations},function(_ref){var canCheck=_ref.canCheck,onBlur=_ref.onBlur,error=_ref.error,dispatch=_ref.dispatch;var hasError=Boolean(error);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{className:"".concat((0,_classnames["default"])(!(0,_lodash.isEmpty)(className)&&className)," ").concat(hasError?'bordered':''),style:style},/*#__PURE__*/_react["default"].createElement(_styles.Label,{htmlFor:name},label),/*#__PURE__*/_react["default"].createElement(_Wysiwyg["default"],(0,_extends2["default"])({},rest,{autoFocus:autoFocus,className:inputClassName,disabled:disabled,deactivateErrorHighlight:deactivateErrorHighlight,error:hasError,name:name,onBlur:(0,_lodash.isFunction)(handleBlur)?handleBlur:onBlur,onChange:function onChange(e){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});_onChange(e);},placeholder:placeholder,resetProps:resetProps,style:inputStyle,tabIndex:tabIndex,value:value})),!hasError&&inputDescription&&/*#__PURE__*/_react["default"].createElement(_styles.Description,null,inputDescription),hasError&&/*#__PURE__*/_react["default"].createElement(_styles.ErrorMessage,null,error));});}}]);return WysiwygWithErrors;}(_react["default"].Component);WysiwygWithErrors.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,didCheckErrors:false,disabled:false,error:null,inputClassName:'',inputDescription:'',inputStyle:{},label:'',onBlur:false,placeholder:'',resetProps:false,style:{},tabIndex:'0',validations:{},value:null};WysiwygWithErrors.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,didCheckErrors:_propTypes["default"].bool,disabled:_propTypes["default"].bool,error:_propTypes["default"].string,inputClassName:_propTypes["default"].string,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),inputStyle:_propTypes["default"].object,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].func]),onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,style:_propTypes["default"].object,tabIndex:_propTypes["default"].string,validations:_propTypes["default"].object,value:_propTypes["default"].string};var _default=WysiwygWithErrors;exports["default"]=_default;

/***/ }),

/***/ 2751:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(18));var _createClass2=_interopRequireDefault(__webpack_require__(19));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(16));var _inherits2=_interopRequireDefault(__webpack_require__(21));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(22));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(23));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _react=_interopRequireDefault(__webpack_require__(1));var _draftJs=__webpack_require__(2559);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _classnames=_interopRequireDefault(__webpack_require__(11));var _WysiwygProvider=_interopRequireDefault(__webpack_require__(2845));var _WysiwygInlineControls=_interopRequireDefault(__webpack_require__(2846));var _PreviewWysiwyg=_interopRequireDefault(__webpack_require__(2860));var _WysiwygBottomControls=_interopRequireDefault(__webpack_require__(3168));var _WysiwygEditor=_interopRequireDefault(__webpack_require__(3170));var _MediaLib=_interopRequireDefault(__webpack_require__(3171));var _customSelect=_interopRequireDefault(__webpack_require__(3172));var _previewControl=_interopRequireDefault(__webpack_require__(3174));var _toggleMode=_interopRequireDefault(__webpack_require__(3176));var _constants=__webpack_require__(2583);var _helpers=__webpack_require__(3178);var _utils=__webpack_require__(3179);var _EditorWrapper=_interopRequireDefault(__webpack_require__(3180));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}/* eslint-disable */var Wysiwyg=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(Wysiwyg,_React$Component);var _super=_createSuper(Wysiwyg);function Wysiwyg(_props){var _this;(0,_classCallCheck2["default"])(this,Wysiwyg);_this=_super.call(this,_props);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setInitialValue",function(props){if((0,_lodash.isEmpty)(props.value)){return _this.setState({editorState:_draftJs.EditorState.createEmpty()});}var contentState=_draftJs.ContentState.createFromText(props.value);var newEditorState=_draftJs.EditorState.createWithContent(contentState);var editorState=_this.state.isFocused?_draftJs.EditorState.moveFocusToEnd(newEditorState):newEditorState;return _this.setState({editorState:editorState});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addContent",function(content,style){var selectedText=_this.getSelectedText();// Retrieve the associated data for the type to add
var _getBlockContent=(0,_helpers.getBlockContent)(style),innerContent=_getBlockContent.innerContent,endReplacer=_getBlockContent.endReplacer,startReplacer=_getBlockContent.startReplacer;// Replace the selected text by the markdown command or insert default text
var defaultContent=selectedText===''?(0,_lodash.replace)(content,'textToReplace',innerContent):(0,_lodash.replace)(content,'textToReplace',selectedText);// Get the current cursor position
var cursorPosition=(0,_helpers.getOffSets)(_this.getSelection()).start;var textWithEntity=_this.modifyBlockContent(defaultContent);// Highlight the text
var _getDefaultSelectionO=(0,_helpers.getDefaultSelectionOffsets)(defaultContent,startReplacer,endReplacer,cursorPosition),anchorOffset=_getDefaultSelectionO.anchorOffset,focusOffset=_getDefaultSelectionO.focusOffset;// Merge the current selection with the new one
var updatedSelection=_this.getSelection().merge({anchorOffset:anchorOffset,focusOffset:focusOffset});var newEditorState=_draftJs.EditorState.push(_this.getEditorState(),textWithEntity,'insert-character');// Update the parent reducer
_this.sendData(newEditorState);// Don't handle selection : the user has selected some text to be changed with the appropriate markdown
if(selectedText!==''){return _this.setState({editorState:newEditorState},function(){_this.focus();});}return _this.setState({// Highlight the text if the selection wad empty
editorState:_draftJs.EditorState.forceSelection(newEditorState,updatedSelection)});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addOlBlock",function(){// Get all the selected blocks
var selectedBlocksList=(0,_utils.getSelectedBlocksList)(_this.getEditorState());var newEditorState=_this.getEditorState();// Check if the cursor is NOT at the beginning of a new line
// So we need to move all the next blocks
if((0,_helpers.getOffSets)(_this.getSelection()).start!==0){// Retrieve all the blocks after the current position
var nextBlocks=(0,_utils.getNextBlocksList)(newEditorState,_this.getSelection().getStartKey());var liNumber=1;// Loop to update each block after the inserted li
nextBlocks.map(function(block,index){var previousContent=index===0?_this.getEditorState().getCurrentContent().getBlockForKey(_this.getCurrentAnchorKey()):newEditorState.getCurrentContent().getBlockBefore(block.getKey());// Check if there was an li before the position so we update the entire list bullets
var number=previousContent?parseInt(previousContent.getText().split('.')[0],10):0;liNumber=(0,_lodash.isNaN)(number)?1:number+1;var nextBlockText=index===0?"".concat(liNumber,". "):nextBlocks.get(index-1).getText();// Update the current block
var newBlock=(0,_utils.createNewBlock)(nextBlockText,'block-list',block.getKey());// Update the contentState
var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});// Move the cursor to the correct position and add a space after '.'
// 2 for the dot and the space after, we add the number length (10 = offset of 2)
var offset=2+liNumber.toString().length;var updatedSelection=(0,_utils.updateSelection)(_this.getSelection(),nextBlocks,offset);return _this.setState({editorState:_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection)});}// If the cursor is at the beginning we need to move all the content after the cursor so we don't loose the data
selectedBlocksList.map(function(block,i){var selectedText=block.getText();var li=selectedText===''?"".concat(i+1,". "):"".concat(i+1,". ").concat(selectedText);var newBlock=(0,_utils.createNewBlock)(li,'block-list',block.getKey());var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});// Update the parent reducer
_this.sendData(newEditorState);return _this.setState({editorState:_draftJs.EditorState.moveFocusToEnd(newEditorState)});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addUlBlock",function(){var selectedBlocksList=(0,_utils.getSelectedBlocksList)(_this.getEditorState());var newEditorState=_this.getEditorState();if((0,_helpers.getOffSets)(_this.getSelection()).start!==0){var nextBlocks=(0,_utils.getNextBlocksList)(newEditorState,_this.getSelection().getStartKey());nextBlocks.map(function(block,index){var nextBlockText=index===0?'- ':nextBlocks.get(index-1).getText();var newBlock=(0,_utils.createNewBlock)(nextBlockText,'block-list',block.getKey());var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});var updatedSelection=(0,_utils.updateSelection)(_this.getSelection(),nextBlocks,2);return _this.setState({editorState:_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection)});}selectedBlocksList.map(function(block){var selectedText=block.getText();var li=selectedText===''?'- ':"- ".concat(selectedText);var newBlock=(0,_utils.createNewBlock)(li,'block-list',block.getKey());var newContentState=_this.createNewContentStateFromBlock(newBlock,newEditorState.getCurrentContent());newEditorState=_draftJs.EditorState.push(newEditorState,newContentState);});_this.sendData(newEditorState);return _this.setState({editorState:_draftJs.EditorState.moveFocusToEnd(newEditorState)});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addBlock",function(text){var nextBlockKey=_this.getNextBlockKey(_this.getCurrentAnchorKey())||(0,_draftJs.genKey)();var newBlock=(0,_utils.createNewBlock)(text,'header',nextBlockKey);var newContentState=_this.createNewContentStateFromBlock(newBlock);var newEditorState=_this.createNewEditorState(newContentState,text);_this.sendData(newEditorState);return _this.setState({editorState:newEditorState},function(){_this.focus();});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addLink",function(_ref){var alt=_ref.alt,url=_ref.url;var selection=_this.state.selection;var link="![".concat(alt,"](").concat(url,")");var newBlock=(0,_utils.createNewBlock)(link);var newContentState=_this.createNewContentStateFromBlock(newBlock);var anchorOffset=link.length;var focusOffset=link.length;var newEditorState=_this.createNewEditorState(newContentState,link);var updatedSelection=(0,_helpers.getOffSets)(selection).start===0?_this.getSelection().merge({anchorOffset:anchorOffset,focusOffset:focusOffset}):new _draftJs.SelectionState({anchorKey:newBlock.getKey(),anchorOffset:anchorOffset,focusOffset:focusOffset,focusKey:newBlock.getKey(),isBackward:false});newEditorState=_draftJs.EditorState.forceSelection(newEditorState,updatedSelection);_this.setState({isFocused:true});_this.sendData(newEditorState);return _this.setState({editorState:newEditorState});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"addSimpleBlockWithSelection",function(content,style){// Retrieve the selected text by the user
var selectedText=_this.getSelectedText();var _getBlockContent2=(0,_helpers.getBlockContent)(style),innerContent=_getBlockContent2.innerContent,endReplacer=_getBlockContent2.endReplacer,startReplacer=_getBlockContent2.startReplacer;var defaultContent=selectedText===''?(0,_lodash.replace)(content,'textToReplace',innerContent):(0,_lodash.replace)(content,'textToReplace',selectedText);var newBlock=(0,_utils.createNewBlock)(defaultContent);var newContentState=_this.createNewContentStateFromBlock(newBlock);var _getDefaultSelectionO2=(0,_helpers.getDefaultSelectionOffsets)(defaultContent,startReplacer,endReplacer),anchorOffset=_getDefaultSelectionO2.anchorOffset,focusOffset=_getDefaultSelectionO2.focusOffset;var newEditorState=_this.createNewEditorState(newContentState,defaultContent);var updatedSelection=(0,_helpers.getOffSets)(_this.getSelection()).start===0?_this.getSelection().merge({anchorOffset:anchorOffset,focusOffset:focusOffset}):new _draftJs.SelectionState({anchorKey:newBlock.getKey(),anchorOffset:anchorOffset,focusOffset:focusOffset,focusKey:newBlock.getKey(),isBackward:false});newEditorState=_draftJs.EditorState.acceptSelection(newEditorState,updatedSelection);// Update the parent reducer
_this.sendData(newEditorState);return _this.setState({editorState:_draftJs.EditorState.forceSelection(newEditorState,newEditorState.getSelection())});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"createNewEditorState",function(newContentState,text){var newEditorState;if((0,_helpers.getOffSets)(_this.getSelection()).start!==0){newEditorState=_draftJs.EditorState.push(_this.getEditorState(),newContentState);}else{var textWithEntity=_this.modifyBlockContent(text);newEditorState=_draftJs.EditorState.push(_this.getEditorState(),textWithEntity,'insert-characters');}return newEditorState;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"createNewBlockMap",function(newBlock,contentState){return contentState.getBlockMap().set(newBlock.key,newBlock);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"createNewContentStateFromBlock",function(newBlock){var contentState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.getEditorState().getCurrentContent();return _draftJs.ContentState.createFromBlockArray(_this.createNewBlockMap(newBlock,contentState).toArray()).set('selectionBefore',contentState.getSelectionBefore()).set('selectionAfter',contentState.getSelectionAfter());});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getCharactersNumber",function(){var editorState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this.getEditorState();var plainText=editorState.getCurrentContent().getPlainText();var spacesNumber=plainText.split(' ').length;return(0,_lodash.words)(plainText).join('').length+spacesNumber-1;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getEditorState",function(){return _this.state.editorState;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getSelection",function(){return _this.getEditorState().getSelection();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getCurrentAnchorKey",function(){return _this.getSelection().getAnchorKey();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getCurrentContentBlock",function(){return _this.getEditorState().getCurrentContent().getBlockForKey(_this.getSelection().getAnchorKey());});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getNextBlockKey",function(currentBlockKey){var editorState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.getEditorState();return editorState.getCurrentContent().getKeyAfter(currentBlockKey);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getSelectedText",function(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:(0,_helpers.getOffSets)(_this.getSelection()),start=_ref2.start,end=_ref2.end;return _this.getCurrentContentBlock().getText().slice(start,end);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleBlur",function(){var target={name:_this.props.name,type:'textarea',value:_this.getEditorState().getCurrentContent().getPlainText()};_this.props.onBlur({target:target});_this.blur();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChangeSelect",function(_ref3){var target=_ref3.target;_this.setState({headerValue:target.value});var selectedText=_this.getSelectedText();var title=selectedText===''?"".concat(target.value," "):"".concat(target.value," ").concat(selectedText);_this.addBlock(title);return _this.setState({headerValue:''});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleClickPreview",function(){return _this.setState({isPreviewMode:!_this.state.isPreviewMode});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleKeyCommand",function(command,editorState){var newState=_draftJs.RichUtils.handleKeyCommand(editorState,command);if(command==='bold'||command==='italic'||command==='underline'){var _getKeyCommandData=(0,_helpers.getKeyCommandData)(command),content=_getKeyCommandData.content,style=_getKeyCommandData.style;_this.addContent(content,style);return false;}if(newState&&command!=='backspace'){_this.onChange(newState);return true;}return false;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleOpenMediaLibrary",function(){return _this.setState({isMediaLibraryOpened:true,isFullscreen:false,selection:_this.getSelection()});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleReturn",function(e,editorState){var selection=editorState.getSelection();var currentBlock=editorState.getCurrentContent().getBlockForKey(selection.getStartKey());if(currentBlock.getText().split('')[0]==='-'){_this.addUlBlock();return true;}if(currentBlock.getText().split('.').length>1&&!(0,_lodash.isNaN)(parseInt(currentBlock.getText().split('.')[0],10))){_this.addOlBlock();return true;}return false;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"mapKeyToEditorCommand",function(e){if(e.keyCode===9/* TAB */){var newEditorState=_draftJs.RichUtils.onTab(e,_this.state.editorState,4/* maxDepth */);if(newEditorState!==_this.state.editorState){_this.onChange(newEditorState);}return;}return(0,_draftJs.getDefaultKeyBinding)(e);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"modifyBlockContent",function(text){var contentState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.getEditorState().getCurrentContent();return _draftJs.Modifier.replaceText(contentState,_this.getSelection(),text);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"onChange",function(editorState){var disabled=_this.props.disabled;if(!disabled){_this.sendData(editorState);_this.setState({editorState:editorState});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleTab",function(e){e.preventDefault();var newEditorState=(0,_utils.onTab)(_this.getEditorState());return _this.onChange(newEditorState);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleToggle",function(){_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isMediaLibraryOpened:!prevState.isMediaLibraryOpened});});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"sendData",function(editorState){if(_this.getEditorState().getCurrentContent()!==editorState.getCurrentContent()||editorState.getLastChangeType()==='remove-range'){_this.props.onChange({target:{value:editorState.getCurrentContent().getPlainText(),name:_this.props.name,type:'textarea'}});}else return;});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"toggleFullScreen",function(e){e.preventDefault();_this.setState({isFullscreen:!_this.state.isFullscreen,isPreviewMode:false});});_this.state={editorState:_draftJs.EditorState.createEmpty(),isFocused:false,isFullscreen:false,isMediaLibraryOpened:false,isPreviewMode:false,headerValue:'',selection:null};_this.focus=function(){_this.setState({isFocused:true});return _this.domEditor.focus();};_this.blur=function(){_this.setState({isFocused:false});return _this.domEditor.blur();};return _this;}(0,_createClass2["default"])(Wysiwyg,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.autoFocus){this.focus();}if(!(0,_lodash.isEmpty)(this.props.value)){this.setInitialValue(this.props);}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){if(nextProps.value!==this.props.value&&!this.state.isFocused){return true;}if(nextState.editorState!==this.state.editorState){return true;}if(nextProps.resetProps!==this.props.resetProps){return true;}if(nextState.isFocused!==this.state.isFocused){return true;}if(nextState.isFullscreen!==this.state.isFullscreen){return true;}if(nextState.isPreviewMode!==this.state.isPreviewMode){return true;}if(nextState.headerValue!==this.state.headerValue){return true;}if(nextProps.error!==this.props.error){return true;}if(nextState.isMediaLibraryOpened!==this.state.isMediaLibraryOpened){return true;}return false;}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){// Handle resetProps
if(prevProps.resetProps!==this.props.resetProps){this.setInitialValue(this.props);}// Update the content when used in a dynamiczone
if(prevProps.value!==this.props.value&&!this.state.isFocused){this.setInitialValue(this.props);}}/**
   * Init the editor with data from
   * @param {[type]} props [description]
   */},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,editorState=_this$state.editorState,isMediaLibraryOpened=_this$state.isMediaLibraryOpened,isPreviewMode=_this$state.isPreviewMode,isFullscreen=_this$state.isFullscreen;var editorStyle=isFullscreen?{marginTop:'0'}:this.props.style;var disabled=this.props.disabled;return/*#__PURE__*/_react["default"].createElement(_WysiwygProvider["default"],{handleChangeSelect:this.handleChangeSelect,headerValue:this.state.headerValue,html:this.props.value,isPreviewMode:this.state.isPreviewMode,isFullscreen:this.state.isFullscreen,placeholder:this.props.placeholder},/*#__PURE__*/_react["default"].createElement(_EditorWrapper["default"],{isFullscreen:isFullscreen,disabled:disabled},/*#__PURE__*/_react["default"].createElement("div",{className:(0,_classnames["default"])('editorWrapper',!this.props.deactivateErrorHighlight&&this.props.error&&'editorError',!(0,_lodash.isEmpty)(this.props.className)&&this.props.className),onClick:function onClick(e){if(isFullscreen){e.preventDefault();e.stopPropagation();}},style:editorStyle},/*#__PURE__*/_react["default"].createElement("div",{className:"controlsContainer"},/*#__PURE__*/_react["default"].createElement(_customSelect["default"],{disabled:isPreviewMode||disabled}),_constants.CONTROLS.map(function(value,key){return/*#__PURE__*/_react["default"].createElement(_WysiwygInlineControls["default"],{key:key,buttons:value,disabled:isPreviewMode||disabled,editorState:editorState,handlers:{addContent:_this2.addContent,addOlBlock:_this2.addOlBlock,addSimpleBlockWithSelection:_this2.addSimpleBlockWithSelection,addUlBlock:_this2.addUlBlock,handleOpenMediaLibrary:_this2.handleOpenMediaLibrary},onToggle:_this2.toggleInlineStyle,onToggleBlock:_this2.toggleBlockType});}),!isFullscreen?/*#__PURE__*/_react["default"].createElement(_toggleMode["default"],{isPreviewMode:isPreviewMode,onClick:this.handleClickPreview}):/*#__PURE__*/_react["default"].createElement("div",{style:{marginRight:'10px'}})),isPreviewMode?/*#__PURE__*/_react["default"].createElement(_PreviewWysiwyg["default"],{data:this.props.value}):/*#__PURE__*/_react["default"].createElement("div",{className:(0,_classnames["default"])('editor',isFullscreen&&'editorFullScreen'),onClick:this.focus},/*#__PURE__*/_react["default"].createElement(_WysiwygEditor["default"],{blockStyleFn:_helpers.getBlockStyle,editorState:editorState,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,keyBindingFn:this.mapKeyToEditorCommand,onBlur:this.handleBlur,onChange:this.onChange,onTab:this.handleTab,placeholder:this.props.placeholder,setRef:function setRef(editor){return _this2.domEditor=editor;},stripPastedStyles:true,tabIndex:this.props.tabIndex,spellCheck:true}),/*#__PURE__*/_react["default"].createElement("input",{className:"editorInput",tabIndex:"-1"})),!isFullscreen&&/*#__PURE__*/_react["default"].createElement(_WysiwygBottomControls["default"],{isPreviewMode:isPreviewMode,onClick:this.toggleFullScreen,onChange:this.handleDrop})),isFullscreen&&/*#__PURE__*/_react["default"].createElement("div",{className:(0,_classnames["default"])('editorWrapper'),onClick:function onClick(e){e.preventDefault();e.stopPropagation();},style:{marginTop:'0'}},/*#__PURE__*/_react["default"].createElement(_previewControl["default"],{onClick:this.toggleFullScreen,characters:this.getCharactersNumber()}),/*#__PURE__*/_react["default"].createElement(_PreviewWysiwyg["default"],{data:this.props.value}))),/*#__PURE__*/_react["default"].createElement(_MediaLib["default"],{onToggle:this.handleToggle,isOpen:isMediaLibraryOpened,onChange:this.addLink}));}}]);return Wysiwyg;}(_react["default"].Component);Wysiwyg.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,disabled:false,error:false,onBlur:function onBlur(){},onChange:function onChange(){},placeholder:'',resetProps:false,style:{},tabIndex:'0',value:''};Wysiwyg.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,disabled:_propTypes["default"].bool,error:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,style:_propTypes["default"].object,tabIndex:_propTypes["default"].string,value:_propTypes["default"].string};var _default=Wysiwyg;exports["default"]=_default;

/***/ }),

/***/ 2845:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _Wysiwyg=_interopRequireDefault(__webpack_require__(2638));function WysiwygProvider(_ref){var children=_ref.children,rest=(0,_objectWithoutProperties2["default"])(_ref,["children"]);return/*#__PURE__*/_react["default"].createElement(_Wysiwyg["default"].Provider,{value:rest},children);}WysiwygProvider.propTypes={children:_propTypes["default"].node.isRequired};var _default=WysiwygProvider;exports["default"]=_default;

/***/ }),

/***/ 2846:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _Button=_interopRequireDefault(__webpack_require__(2847));var _Wrapper=_interopRequireDefault(__webpack_require__(2859));/**
 *
 * WysiwygInlineControls
 *
 */var WysiwygInlineControls=function WysiwygInlineControls(_ref){var buttons=_ref.buttons,disabled=_ref.disabled,editorState=_ref.editorState,handlers=_ref.handlers,onToggle=_ref.onToggle,onToggleBlock=_ref.onToggleBlock;var selection=editorState.getSelection();var blockType=editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();var currentStyle=editorState.getCurrentInlineStyle();return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],null,buttons.map(function(type){return/*#__PURE__*/_react["default"].createElement(_Button["default"],{key:type.label,active:type.style===blockType||currentStyle.has(type.style),className:type.className,disabled:disabled,handler:type.handler,handlers:handlers,hideLabel:type.hideLabel||false,label:type.label,onToggle:onToggle,onToggleBlock:onToggleBlock,style:type.style,text:type.text});}));};WysiwygInlineControls.defaultProps={buttons:[],disabled:false,onToggle:function onToggle(){},onToggleBlock:function onToggleBlock(){}};WysiwygInlineControls.propTypes={buttons:_propTypes["default"].array,disabled:_propTypes["default"].bool,editorState:_propTypes["default"].object.isRequired,handlers:_propTypes["default"].object.isRequired,onToggle:_propTypes["default"].func,onToggleBlock:_propTypes["default"].func};var _default=WysiwygInlineControls;exports["default"]=_default;

/***/ }),

/***/ 2847:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _Bold=_interopRequireDefault(__webpack_require__(2848));var _Code=_interopRequireDefault(__webpack_require__(2849));var _Media=_interopRequireDefault(__webpack_require__(2850));var _Italic=_interopRequireDefault(__webpack_require__(2851));var _Link=_interopRequireDefault(__webpack_require__(2852));var _Ol=_interopRequireDefault(__webpack_require__(2853));var _Quote=_interopRequireDefault(__webpack_require__(2854));var _Striked=_interopRequireDefault(__webpack_require__(2855));var _Ul=_interopRequireDefault(__webpack_require__(2856));var _Underline=_interopRequireDefault(__webpack_require__(2857));var _StyledButton=_interopRequireDefault(__webpack_require__(2858));var icons={bold:_Bold["default"],italic:_Italic["default"],underline:_Underline["default"],ul:_Ul["default"],ol:_Ol["default"],link:_Link["default"],quote:_Quote["default"],code:_Code["default"],striked:_Striked["default"],img:_Media["default"]};var Button=function Button(_ref){var active=_ref.active,disabled=_ref.disabled,type=_ref.className,handler=_ref.handler,handlers=_ref.handlers,hideLabel=_ref.hideLabel,label=_ref.label,style=_ref.style,text=_ref.text;var handleClick=function handleClick(e){e.preventDefault();handlers[handler](text,style);};var Icon=icons[type];return/*#__PURE__*/_react["default"].createElement(_StyledButton["default"],{active:active,disabled:disabled,onClick:handleClick,type:type},icons[type]&&/*#__PURE__*/_react["default"].createElement(Icon,null),!hideLabel&&label);};Button.defaultProps={active:false,className:'',disabled:false,hideLabel:false,label:'',style:'',text:''};Button.propTypes={active:_propTypes["default"].bool,className:_propTypes["default"].string,disabled:_propTypes["default"].bool,handler:_propTypes["default"].string.isRequired,handlers:_propTypes["default"].object.isRequired,hideLabel:_propTypes["default"].bool,label:_propTypes["default"].string,style:_propTypes["default"].string,text:_propTypes["default"].string};var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2848:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Bold=function Bold(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"9",height:"10",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("text",{transform:"translate(-12 -10)",fill:"#333740",fillRule:"evenodd",fontSize:"13",fontFamily:"Baskerville-SemiBold, Baskerville",fontWeight:"500"},/*#__PURE__*/_react["default"].createElement("tspan",{x:"12",y:"20"},"B")));};var _default=Bold;exports["default"]=_default;

/***/ }),

/***/ 2849:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Code=function Code(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"12",height:"8",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("path",{d:"M3.653 7.385a.632.632 0 0 1-.452-.191L.214 4.154a.66.66 0 0 1 0-.922L3.201.19a.632.632 0 0 1 .905 0 .66.66 0 0 1 0 .921l-2.534 2.58 2.534 2.58a.66.66 0 0 1 0 .922.632.632 0 0 1-.453.19zM8.347 7.385a.632.632 0 0 0 .452-.191l2.987-3.04a.66.66 0 0 0 0-.922L8.799.19a.632.632 0 0 0-.905 0 .66.66 0 0 0 0 .921l2.534 2.58-2.534 2.58a.66.66 0 0 0 0 .922c.125.127.289.19.453.19z"})));};var _default=Code;exports["default"]=_default;

/***/ }),

/***/ 2850:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Media=function Media(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"12",height:"11",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("path",{d:"M9 4.286a1.286 1.286 0 1 0 0-2.572 1.286 1.286 0 0 0 0 2.572z"}),/*#__PURE__*/_react["default"].createElement("path",{d:"M11.25 0H.75C.332 0 0 .34 0 .758v8.77c0 .418.332.758.75.758h10.5c.418 0 .75-.34.75-.758V.758A.752.752 0 0 0 11.25 0zM8.488 5.296a.46.46 0 0 0-.342-.167c-.137 0-.234.065-.343.153l-.501.423c-.105.075-.188.126-.308.126a.443.443 0 0 1-.295-.11 3.5 3.5 0 0 1-.115-.11L5.143 4.054a.59.59 0 0 0-.897.008L.857 8.148V1.171a.353.353 0 0 1 .351-.314h9.581a.34.34 0 0 1 .346.322l.008 6.975-2.655-2.858z"})));};var _default=Media;exports["default"]=_default;

/***/ }),

/***/ 2851:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Italic=function Italic(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"6",height:"9",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("text",{transform:"translate(-13 -11)",fill:"#333740",fillRule:"evenodd",fontWeight:"500",fontSize:"13",fontFamily:"Baskerville-SemiBoldItalic, Baskerville",fontStyle:"italic"},/*#__PURE__*/_react["default"].createElement("tspan",{x:"13",y:"20"},"I")));};var _default=Italic;exports["default"]=_default;

/***/ }),

/***/ 2852:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Link=function Link(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"12",height:"6",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"none",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("path",{d:"M6.063 1.5H6h.063z",fill:"#000"}),/*#__PURE__*/_react["default"].createElement("path",{d:"M9.516 0H8s.813.531.988 1.5h.528c.55 0 .984.434.984.984v1c0 .55-.434 1.016-.984 1.016h-3.5A1.03 1.03 0 0 1 5 3.484V2.5H3.5v.984A2.518 2.518 0 0 0 6.016 6h3.5C10.896 6 12 4.866 12 3.484v-1A2.473 2.473 0 0 0 9.516 0z",fill:"#333740"}),/*#__PURE__*/_react["default"].createElement("path",{d:"M8.3 1.5A2.473 2.473 0 0 0 6.016 0h-3.5C1.134 0 0 1.103 0 2.484v1A2.526 2.526 0 0 0 2.516 6H4s-.806-.531-1.003-1.5h-.481A1.03 1.03 0 0 1 1.5 3.484v-1c0-.55.466-.984 1.016-.984h3.5c.55 0 .984.434.984.984V3.5h1.5V2.484c0-.35-.072-.684-.2-.984z",fill:"#333740"})));};var _default=Link;exports["default"]=_default;

/***/ }),

/***/ 2853:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Ol=function Ol(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"12",height:"8",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("path",{d:"M2.4 3H.594v-.214h.137c.123 0 .212-.01.266-.032.053-.022.086-.052.1-.092a.67.67 0 0 0 .018-.188V.74a.46.46 0 0 0-.03-.194C1.064.504 1.021.476.955.46A1.437 1.437 0 0 0 .643.435H.539V.23c.332-.035.565-.067.7-.096.135-.03.258-.075.37-.134h.275v2.507c0 .104.023.177.07.218.047.04.14.061.278.061H2.4V3zM2.736 6.695l-.132.528h-.246a.261.261 0 0 0 .015-.074c0-.058-.049-.087-.146-.087H.293v-.198c.258-.173.511-.367.76-.581.25-.215.457-.437.623-.667.166-.23.249-.447.249-.653a.49.49 0 0 0-.321-.478.794.794 0 0 0-.582-.006.482.482 0 0 0-.196.138.284.284 0 0 0-.07.182c0 .074.04.17.12.289.006.008.009.015.009.02 0 .012-.041.03-.123.053l-.19.057a.693.693 0 0 1-.115.03c-.031 0-.067-.038-.108-.114a.516.516 0 0 1 .071-.586.899.899 0 0 1 .405-.238c.18-.058.4-.087.657-.087.317 0 .566.044.749.132.183.087.306.187.37.3a.64.64 0 0 1 .094.312c0 .197-.089.389-.266.575a5.296 5.296 0 0 1-.916.74 62.947 62.947 0 0 1-.62.413h1.843zM4 0h8v1H4zM4 2h8v1H4zM4 4h8v1H4zM4 6h8v1H4z"})));};var _default=Ol;exports["default"]=_default;

/***/ }),

/***/ 2854:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Quote=function Quote(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"9",height:"9",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"#333740",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("path",{d:"M3 0C2.047 0 1.301.263.782.782.263 1.302 0 2.047 0 3v6h3.75V3H1.5c0-.54.115-.93.343-1.157C2.07 1.615 2.46 1.5 3 1.5M8.25 0c-.953 0-1.699.263-2.218.782-.519.52-.782 1.265-.782 2.218v6H9V3H6.75c0-.54.115-.93.343-1.157.227-.228.617-.343 1.157-.343"})));};var _default=Quote;exports["default"]=_default;

/***/ }),

/***/ 2855:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Striked=function Striked(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"19",height:"10",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"none",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("text",{fontFamily:"Lato-Semibold, Lato",fontSize:"11",fontWeight:"500",fill:"#41464E",transform:"translate(0 -2)"},/*#__PURE__*/_react["default"].createElement("tspan",{x:"1",y:"11"},"abc")),/*#__PURE__*/_react["default"].createElement("path",{d:"M.5 6.5h18",stroke:"#2C3039",strokeLinecap:"square"})));};var _default=Striked;exports["default"]=_default;

/***/ }),

/***/ 2856:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Ul=function Ul(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"13",height:"7",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("g",{fill:"none",fillRule:"evenodd"},/*#__PURE__*/_react["default"].createElement("path",{fill:"#333740",d:"M5 0h8v1H5zM5 2h8v1H5zM5 4h8v1H5zM5 6h8v1H5z"}),/*#__PURE__*/_react["default"].createElement("rect",{stroke:"#333740",x:".5",y:".5",width:"2",height:"2",rx:"1"}),/*#__PURE__*/_react["default"].createElement("rect",{stroke:"#333740",x:".5",y:"4.5",width:"2",height:"2",rx:"1"})));};var _default=Ul;exports["default"]=_default;

/***/ }),

/***/ 2857:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var Underline=function Underline(){return/*#__PURE__*/_react["default"].createElement("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg"},/*#__PURE__*/_react["default"].createElement("text",{transform:"translate(-10 -11)",fill:"#101622",fillRule:"evenodd",fontSize:"13",fontFamily:"Baskerville-SemiBold, Baskerville",fontWeight:"500"},/*#__PURE__*/_react["default"].createElement("tspan",{x:"10",y:"20"},"U")));};var _default=Underline;exports["default"]=_default;

/***/ }),

/***/ 2858:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireWildcard(__webpack_require__(3));function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        opacity: 0.7;\n        cursor: not-allowed;\n      "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        border: 0;\n        background: rgba(16, 22, 34, 0);\n        box-shadow: inset 0 -1px 0 0 rgba(16, 22, 34, 0.04), inset 0 1px 0 0 rgba(16, 22, 34, 0.04);\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  height: 32px;\n  min-width: 32px;\n  background-color: #ffffff;\n  border: 1px solid rgba(16, 22, 34, 0.1);\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 32px;\n  text-align: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f3f4f4;\n  }\n  &:active,\n  &:focus {\n    outline: 0;\n  }\n\n  ","\n\n  > svg {\n    margin: auto;\n    > text {\n      font-family: Baskerville-SemiBoldItalic, Baskerville;\n    }\n  }\n\n  background-position: center;\n  background-repeat: no-repeat;\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Button=_styledComponents["default"].button(_templateObject(),function(_ref){var active=_ref.active,disabled=_ref.disabled;if(active){return(0,_styledComponents.css)(_templateObject2());}if(disabled){return(0,_styledComponents.css)(_templateObject3());}return'';});var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2859:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 49px;\n  display: flex;\n  padding: 8px 3px 0 10px;\n  background-color: #f3f4f4;\n  user-select: none;\n  overflow-x: auto;\n  > button:nth-child(even) {\n    border-left: 0;\n    border-right: 0;\n  }\n  > button:first-child {\n    border-top-left-radius: 3px;\n    border-bottom-left-radius: 3px;\n  }\n  > button:last-child {\n    border-top-right-radius: 3px;\n    border-bottom-right-radius: 3px;\n    border-right: 1px solid rgba(16, 22, 34, 0.1);\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2860:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _useWysiwyg2=_interopRequireDefault(__webpack_require__(2639));var _mdRenderer=_interopRequireDefault(__webpack_require__(2861));var _satinizeHtml=_interopRequireDefault(__webpack_require__(3123));var _Wrapper=_interopRequireDefault(__webpack_require__(3167));/* eslint-disable react/no-danger */ /**
 *
 * PreviewWysiwyg
 *
 */var PreviewWysiwyg=function PreviewWysiwyg(_ref){var data=_ref.data;var _useWysiwyg=(0,_useWysiwyg2["default"])(),isFullscreen=_useWysiwyg.isFullscreen;var html=(0,_react.useMemo)(function(){return(0,_satinizeHtml["default"])(_mdRenderer["default"].render(data||''));},[data]);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{isFullscreen:isFullscreen},/*#__PURE__*/_react["default"].createElement("div",{dangerouslySetInnerHTML:{__html:html}}));};PreviewWysiwyg.defaultProps={data:''};PreviewWysiwyg.propTypes={data:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(PreviewWysiwyg);exports["default"]=_default;

/***/ }),

/***/ 2861:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _markdownIt=_interopRequireDefault(__webpack_require__(2862));__webpack_require__(2916);var _highlight=_interopRequireDefault(__webpack_require__(2918));var _markdownItAbbr=_interopRequireDefault(__webpack_require__(3109));var _markdownItContainer=_interopRequireDefault(__webpack_require__(3110));var _markdownItDeflist=_interopRequireDefault(__webpack_require__(3111));var _markdownItEmoji=_interopRequireDefault(__webpack_require__(3112));var _markdownItFootnote=_interopRequireDefault(__webpack_require__(3118));var _markdownItIns=_interopRequireDefault(__webpack_require__(3119));var _markdownItMark=_interopRequireDefault(__webpack_require__(3120));var _markdownItSub=_interopRequireDefault(__webpack_require__(3121));var _markdownItSup=_interopRequireDefault(__webpack_require__(3122));/* eslint-disable prefer-template */var md=new _markdownIt["default"]({html:true,// Enable HTML tags in source
xhtmlOut:false,breaks:false,langPrefix:'language-',linkify:true,typographer:true,// Code from: https://github.com/markdown-it/markdown-it/blob/master/support/demo_template/index.js#L83
highlight:function highlight(str,lang){if(lang&&lang!=='auto'&&_highlight["default"].getLanguage(lang)){return'<pre class="hljs language-'+md.utils.escapeHtml(lang.toLowerCase())+'"><code>'+_highlight["default"].highlight(lang,str,true).value+'</code></pre>';}if(lang==='auto'){var result=_highlight["default"].highlightAuto(str);return'<pre class="hljs language-'+md.utils.escapeHtml(result.language)+'"><code>'+result.value+'</code></pre>';}return'<pre class="hljs"><code>'+md.utils.escapeHtml(str)+'</code></pre>';}}).use(_markdownItAbbr["default"]).use(_markdownItContainer["default"],'warning').use(_markdownItContainer["default"],'tip').use(_markdownItDeflist["default"]).use(_markdownItEmoji["default"]).use(_markdownItFootnote["default"]).use(_markdownItIns["default"]).use(_markdownItMark["default"]).use(_markdownItSub["default"]).use(_markdownItSup["default"]);// Code from: https://github.com/markdown-it/markdown-it-footnote/blob/master/index.js#L29
md.renderer.rules.footnote_ref=function(tokens,idx,options,env,slf){var caption=slf.rules.footnote_caption(tokens,idx,options,env,slf);return'<sup class="footnote-ref"><span>'+caption+'</span></sup>';};md.renderer.rules.footnote_anchor=function(){/* ↩ with escape code to prevent display as Apple Emoji on iOS */return" <span class=\"footnote-backref\">\u21A9\uFE0E</span>";};var _default=md;exports["default"]=_default;

/***/ }),

/***/ 3123:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _sanitizeHtml=_interopRequireDefault(__webpack_require__(3124));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}// Options for the lib can be found here https://www.npmjs.com/package/sanitize-html
var options=_objectSpread(_objectSpread({},_sanitizeHtml["default"].defaults),{},{allowedTags:false,allowedAttributes:{'*':['href','align','alt','center','width','height','type','controls','target'],img:['src','alt'],source:['src','type']}});var clean=function clean(dirty){return(0,_sanitizeHtml["default"])(dirty,options);};var _default=clean;exports["default"]=_default;

/***/ }),

/***/ 3135:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3144:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3165:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3167:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  max-height: 555px;\n  min-height: 294px;\n  overflow: auto;\n  padding: 20px 20px 0 20px;\n  font-size: 16px;\n  background-color: #fff;\n  line-height: 24px !important;\n  font-family: 'Lato';\n  cursor: text;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-block-start: 10px;\n    margin-block-end: 10px;\n    font-family: 'Lato';\n  }\n\n  h1 {\n    font-size: 36px;\n    font-weight: 600;\n  }\n\n  h2 {\n    font-size: 30px;\n    font-weight: 500;\n  }\n\n  h3 {\n    font-size: 24px;\n    font-weight: 500;\n  }\n\n  h4 {\n    font-size: 20px;\n    font-weight: 500;\n  }\n\n  blockquote {\n    margin-top: 41px;\n    margin-bottom: 34px;\n    font-size: 16px;\n    font-weight: 400;\n    border-left: 5px solid #eee;\n    font-style: italic;\n    padding: 10px 20px;\n  }\n\n  img {\n    max-width: 100%;\n  }\n\n  table {\n    font-size: 13px;\n    thead {\n      background: rgb(243, 243, 243);\n      tr {\n        height: 43px;\n      }\n    }\n    tr {\n      border: 1px solid #c6cbd1;\n    }\n    th,\n    td {\n      padding: 0 25px;\n      border: 1px solid #c6cbd1;\n      border-bottom: 0;\n      border-top: 0;\n    }\n\n    tbody {\n      tr {\n        height: 54px;\n      }\n    }\n  }\n\n  pre,\n  code {\n    font-size: 13px;\n    font-family: 'Lato';\n    border-radius: 3px;\n    background-color: #002b36;\n  }\n\n  /* Inline code */\n  p,\n  pre,\n  td {\n    > code {\n      color: #839496;\n    }\n  }\n\n  .warning {\n    background-color: #faa684;\n    padding: 30px;\n    border-radius: 3px;\n  }\n  .tip {\n    background-color: ",";\n    padding: 30px;\n    border-radius: 3px;\n  }\n\n  .footnote-ref,\n  .footnote-backref {\n    color: #007bff;\n  }\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable */var Wrapper=_styledComponents["default"].div(_templateObject(),function(props){return props.theme.main.colors.darkBlue;},function(_ref){var isFullscreen=_ref.isFullscreen;if(isFullscreen){return"\n        max-height: calc(100% - 70px) !important;\n        margin-bottom: 0;\n        margin-top: 9px;\n        padding: 10px 20px;\n        overflow: auto;\n      ";}});var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 3168:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(13);var _components=__webpack_require__(3169);/* eslint-disable jsx-a11y/no-static-element-interactions */ /* eslint-disable jsx-a11y/click-events-have-key-events */ /**
 *
 * WysiwygBottomControls
 *
 */var WysiwygBottomControls=function WysiwygBottomControls(_ref){var onClick=_ref.onClick;return/*#__PURE__*/_react["default"].createElement(_components.Wrapper,null,/*#__PURE__*/_react["default"].createElement("div",null),/*#__PURE__*/_react["default"].createElement("div",{className:"fullScreenWrapper",onClick:onClick},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.WysiwygBottomControls.fullscreen"})));};WysiwygBottomControls.defaultProps={onClick:function onClick(){}};WysiwygBottomControls.propTypes={onClick:_propTypes["default"].func};var _default=WysiwygBottomControls;exports["default"]=_default;

/***/ }),

/***/ 3169:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.Wrapper=exports.Span=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  height: 30px;\n  width: 100%;\n  padding: 0 15px;\n  justify-content: space-between;\n  background-color: #fafafb;\n  line-height: 30px;\n  font-size: 13px;\n  font-family: Lato;\n  border-top: 1px dashed #e3e4e4;\n\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n\n  .fullScreenWrapper {\n    cursor: pointer;\n    &:after {\n      content: '\f065';\n      margin-left: 8px;\n      font-family: FontAwesome;\n      font-size: 12px;\n    }\n  }\n\n  .dropLabel {\n    > input {\n      display: none;\n    }\n  }\n"],["\n  display: flex;\n  height: 30px;\n  width: 100%;\n  padding: 0 15px;\n  justify-content: space-between;\n  background-color: #fafafb;\n  line-height: 30px;\n  font-size: 13px;\n  font-family: Lato;\n  border-top: 1px dashed #e3e4e4;\n\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n\n  .fullScreenWrapper {\n    cursor: pointer;\n    &:after {\n      content: '\\f065';\n      margin-left: 8px;\n      font-family: FontAwesome;\n      font-size: 12px;\n    }\n  }\n\n  .dropLabel {\n    > input {\n      display: none;\n    }\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #1c5de7;\n  text-decoration: underline;\n  cursor: pointer;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Span=_styledComponents["default"].span(_templateObject());exports.Span=Span;var Wrapper=_styledComponents["default"].div(_templateObject2());exports.Wrapper=Wrapper;

/***/ }),

/***/ 3170:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _classCallCheck2=_interopRequireDefault(__webpack_require__(18));var _createClass2=_interopRequireDefault(__webpack_require__(19));var _inherits2=_interopRequireDefault(__webpack_require__(21));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(22));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(23));var _react=_interopRequireDefault(__webpack_require__(1));var _draftJs=__webpack_require__(2559);var _propTypes=_interopRequireDefault(__webpack_require__(2));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var WysiwygEditor=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(WysiwygEditor,_React$Component);var _super=_createSuper(WysiwygEditor);function WysiwygEditor(){(0,_classCallCheck2["default"])(this,WysiwygEditor);return _super.apply(this,arguments);}(0,_createClass2["default"])(WysiwygEditor,[{key:"render",value:function render(){return/*#__PURE__*/_react["default"].createElement(_draftJs.Editor,(0,_extends2["default"])({},this.props,{ref:this.props.setRef}));}}]);return WysiwygEditor;}(_react["default"].Component);WysiwygEditor.defaultProps={setRef:function setRef(){}};WysiwygEditor.propTypes={setRef:_propTypes["default"].func};var _default=WysiwygEditor;exports["default"]=_default;

/***/ }),

/***/ 3171:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _strapiHelperPlugin=__webpack_require__(7);var _propTypes=_interopRequireDefault(__webpack_require__(2));var MediaLib=function MediaLib(_ref){var isOpen=_ref.isOpen,onChange=_ref.onChange,onToggle=_ref.onToggle;var _useStrapi=(0,_strapiHelperPlugin.useStrapi)(),getComponent=_useStrapi.strapi.componentApi.getComponent;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isDisplayed=_useState4[0],setIsDisplayed=_useState4[1];(0,_react.useEffect)(function(){if(isOpen){setIsDisplayed(true);}},[isOpen]);var Component=getComponent('media-library').Component;var handleInputChange=function handleInputChange(data){if(data){var name=data.name,alternativeText=data.alternativeText,url=data.url;var alt=alternativeText||name;setData({alt:alt,url:(0,_strapiHelperPlugin.prefixFileUrlWithBackendUrl)(url)});}};var handleClosed=function handleClosed(){if(data){onChange(data);}setData(null);setIsDisplayed(false);};if(Component&&isDisplayed){return/*#__PURE__*/_react["default"].createElement(Component,{allowedTypes:['images','videos','files'],isOpen:isOpen,multiple:false,noNavigation:true,onClosed:handleClosed,onInputMediaChange:handleInputChange,onToggle:onToggle});}return null;};MediaLib.defaultProps={isOpen:false,onChange:function onChange(){},onToggle:function onToggle(){}};MediaLib.propTypes={isOpen:_propTypes["default"].bool,onChange:_propTypes["default"].func,onToggle:_propTypes["default"].func};var _default=MediaLib;exports["default"]=_default;

/***/ }),

/***/ 3172:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _strapiHelperPlugin=__webpack_require__(7);var _useWysiwyg2=_interopRequireDefault(__webpack_require__(2639));var _constants=__webpack_require__(2583);var _SelectWrapper=_interopRequireDefault(__webpack_require__(3173));/**
 *
 *
 * CustomSelect
 *
 */var CustomSelect=function CustomSelect(_ref){var disabled=_ref.disabled;var _useWysiwyg=(0,_useWysiwyg2["default"])(),headerValue=_useWysiwyg.headerValue,isFullscreen=_useWysiwyg.isFullscreen,handleChangeSelect=_useWysiwyg.handleChangeSelect;return/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],{isFullscreen:isFullscreen},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.InputSelect,{disabled:disabled,name:"headerSelect",onChange:handleChangeSelect,value:headerValue,selectOptions:_constants.SELECT_OPTIONS}));};CustomSelect.defaultProps={disabled:false};CustomSelect.propTypes={disabled:_propTypes["default"].bool};var _default=CustomSelect;exports["default"]=_default;

/***/ }),

/***/ 3173:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireWildcard(__webpack_require__(3));function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n          margin-right: 5px;\n        "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n          min-width: 110px !important;\n        "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  min-width: ",";\n  margin-left: 15px;\n  > select {\n    ","\n    box-shadow: 0 0 0 rgba(0, 0, 0, 0) !important;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable */var SelectWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFullScreen=_ref.isFullScreen;return isFullScreen?'161px':'115px';},function(_ref2){var isFullScreen=_ref2.isFullScreen;if(isFullScreen){return(0,_styledComponents.css)(_templateObject2());}else{return(0,_styledComponents.css)(_templateObject3());}});var _default=SelectWrapper;exports["default"]=_default;

/***/ }),

/***/ 3174:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(13);var _PreviewControlWrapper=_interopRequireDefault(__webpack_require__(3175));/**
 *
 *
 * PreviewControl
 *
 */var PreviewControl=function PreviewControl(_ref){var onClick=_ref.onClick;return/*#__PURE__*/_react["default"].createElement(_PreviewControlWrapper["default"],{onClick:onClick},/*#__PURE__*/_react["default"].createElement("div",null),/*#__PURE__*/_react["default"].createElement("div",{className:"wysiwygCollapse"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.Wysiwyg.collapse"})));};PreviewControl.defaultProps={onClick:function onClick(){}};PreviewControl.propTypes={onClick:_propTypes["default"].func};var _default=PreviewControl;exports["default"]=_default;

/***/ }),

/***/ 3175:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  height: 49px;\n  width: 100%;\n  padding: 0 17px;\n  justify-content: space-between;\n  font-family: Lato;\n  background-color: #fff;\n  border-bottom: 1px solid #f3f4f4;\n  line-height: 49px;\n  font-size: 13px;\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n  cursor: pointer;\n\n  .wysiwygCollapse {\n    &:after {\n      content: '\f066';\n      font-family: FontAwesome;\n      margin-left: 8px;\n    }\n  }\n"],["\n  display: flex;\n  height: 49px;\n  width: 100%;\n  padding: 0 17px;\n  justify-content: space-between;\n  font-family: Lato;\n  background-color: #fff;\n  border-bottom: 1px solid #f3f4f4;\n  line-height: 49px;\n  font-size: 13px;\n  > div:first-child {\n    > span:last-child {\n      font-size: 12px;\n    }\n  }\n  cursor: pointer;\n\n  .wysiwygCollapse {\n    &:after {\n      content: '\\f066';\n      font-family: FontAwesome;\n      margin-left: 8px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var PreviewControlWrapper=_styledComponents["default"].div(_templateObject());var _default=PreviewControlWrapper;exports["default"]=_default;

/***/ }),

/***/ 3176:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _reactIntl=__webpack_require__(13);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _ToggleModeWrapper=_interopRequireDefault(__webpack_require__(3177));/**
 *
 *
 * ToggleMode
 */var ToggleMode=function ToggleMode(props){var label=props.isPreviewMode?'components.Wysiwyg.ToggleMode.markdown':'components.Wysiwyg.ToggleMode.preview';return/*#__PURE__*/_react["default"].createElement(_ToggleModeWrapper["default"],null,/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:label},function(msg){return/*#__PURE__*/_react["default"].createElement("button",{type:"button",className:"toggleModeButton",onClick:props.onClick},msg);}));};ToggleMode.defaultProps={isPreviewMode:false,onClick:function onClick(){}};ToggleMode.propTypes={isPreviewMode:_propTypes["default"].bool,onClick:_propTypes["default"].func};var _default=ToggleMode;exports["default"]=_default;

/***/ }),

/***/ 3177:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin-left: auto;\n  padding-right: 15px;\n  padding-top: 8px;\n\n  .toggleModeButton {\n    height: 32px;\n    min-width: 32px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border: 1px solid rgba(16, 22, 34, 0.1);\n    border-radius: 3px;\n    background: #f3f4f4;\n    font-size: 13px;\n    font-weight: 500;\n    text-align: center;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: pointer;\n    &:focus,\n    &:active {\n      outline: 0;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ToggleModeWrapper=_styledComponents["default"].div(_templateObject());var _default=ToggleModeWrapper;exports["default"]=_default;

/***/ }),

/***/ 3178:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.getBlockStyle=getBlockStyle;exports.getBlockContent=getBlockContent;exports.getOffSets=getOffSets;exports.getKeyCommandData=getKeyCommandData;exports.getDefaultSelectionOffsets=void 0;var _lodash=__webpack_require__(8);/**
 * Override the editor css
 * @param  {[type]} block [description]
 * @return {[type]}       [description]
 */function getBlockStyle(){return null;}function getBlockContent(style){switch(style){case'IMG':return{innerContent:'link',endReplacer:')',startReplacer:'![text]('};case'CODE':return{innerContent:'code block',endReplacer:'`',startReplacer:'`'};case'BLOCKQUOTE':return{innerContent:'quote',endReplacer:'',startReplacer:'> '};case'BOLD':return{innerContent:'bold text',endReplacer:'*',startReplacer:'*'};case'ITALIC':return{innerContent:'italic text',endReplacer:'*',startReplacer:'*'};case'STRIKED':return{innerContent:'striked out',endReplacer:'~',startReplacer:'~'};case'UNDERLINE':return{innerContent:'underlined text',endReplacer:'<u>',startReplacer:'</u>'};case'LINK':return{innerContent:'text',endReplacer:']',startReplacer:'['};default:return{innerContent:'',endReplacer:'',startReplacer:''};}}var getDefaultSelectionOffsets=function getDefaultSelectionOffsets(content,startReplacer,endReplacer){var initPosition=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return{anchorOffset:initPosition+content.length-(0,_lodash.trimStart)(content,startReplacer).length,focusOffset:initPosition+(0,_lodash.trimEnd)(content,endReplacer).length};};/**
 * Get the start and end offset
 * @param  {Object} selection
 * @return {Object}
 */exports.getDefaultSelectionOffsets=getDefaultSelectionOffsets;function getOffSets(selection){return{end:selection.getEndOffset(),start:selection.getStartOffset()};}function getKeyCommandData(command){var content;var style;switch(command){case'bold':content='**textToReplace**';style='BOLD';break;case'italic':content='*textToReplace*';style='ITALIC';break;case'underline':content='<u>textToReplace</u>';style='UNDERLINE';break;default:content='';style='';}return{content:content,style:style};}

/***/ }),

/***/ 3179:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.createNewBlock=createNewBlock;exports.getNextBlocksList=getNextBlocksList;exports.updateSelection=updateSelection;exports.getSelectedBlocksList=getSelectedBlocksList;exports.onTab=onTab;var _draftJs=__webpack_require__(2559);var _immutable=__webpack_require__(51);var _constants=__webpack_require__(2583);/**
 *
 * Utils
 *
 */function createNewBlock(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'unstyled';var key=arguments.length>2&&arguments[2]!==undefined?arguments[2]:(0,_draftJs.genKey)();return new _draftJs.ContentBlock({key:key,type:type,text:text,charaterList:(0,_immutable.List)([])});}function getNextBlocksList(editorState,startKey){return editorState.getCurrentContent().getBlockMap().toSeq().skipUntil(function(_,k){return k===startKey;}).toList().shift().concat([createNewBlock()]);}function updateSelection(selection,blocks,offset){return selection.merge({anchorKey:blocks.get(0).getKey(),focusKey:blocks.get(0).getKey(),anchorOffset:offset,focusOffset:offset});}function getSelectedBlocksList(editorState){var selectionState=editorState.getSelection();var contentState=editorState.getCurrentContent();var startKey=selectionState.getStartKey();var endKey=selectionState.getEndKey();var blockMap=contentState.getBlockMap();return blockMap.toSeq().skipUntil(function(_,k){return k===startKey;}).takeUntil(function(_,k){return k===endKey;}).concat([[endKey,blockMap.get(endKey)]]).toList();}function onTab(editorState){var contentState=editorState.getCurrentContent();var selection=editorState.getSelection();var newContentState;if(selection.isCollapsed()){newContentState=_draftJs.Modifier.insertText(contentState,selection,_constants.DEFAULT_INDENTATION);}else{newContentState=_draftJs.Modifier.replaceText(contentState,selection,_constants.DEFAULT_INDENTATION);}return _draftJs.EditorState.push(editorState,newContentState,'insert-characters');}

/***/ }),

/***/ 3180:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireWildcard(__webpack_require__(3));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        position: fixed;\n        z-index: 1040;\n        top: calc(6rem + 90px);\n        left: calc(24rem + 28px);\n        right: 28px;\n        bottom: 32px;\n        display: flex;\n        background-color: transparent;\n        z-index: 99999;\n\n        > div {\n          min-width: 50%;\n        }\n        > div:first-child {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n        > div:last-child {\n          border-left: 0;\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n        .editorWrapper {\n          border-color: #f3f4f4 !important;\n        }\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  ","\n\n  .controlsContainer {\n    display: flex;\n    box-sizing: border-box;\n    background-color: #f3f4f4;\n\n    select {\n      min-height: 31px !important;\n      min-width: 161px !important;\n      font-weight: 600;\n      outline: none;\n\n      &:focus,\n      &:active {\n        border: 1px solid #e3e9f3;\n      }\n    }\n  }\n\n  .editorWrapper {\n    min-height: 320px;\n    margin-top: 0.9rem;\n    border: 1px solid #f3f4f4;\n    border-radius: 0.25rem;\n    line-height: 18px !important;\n    font-size: 13px;\n    box-shadow: 0px 1px 1px rgba(104, 118, 142, 0.05);\n    background-color: #fff;\n    position: relative;\n  }\n\n  .editorError {\n    border-color: #ff203c !important;\n  }\n\n  .editor {\n    min-height: 294px;\n    max-height: 555px;\n    padding: 20px 20px 0 20px;\n    font-size: 13px;\n    background-color: #fff;\n    line-height: 18px !important;\n    cursor: ",";\n    color: ",";\n    overflow: auto;\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin: 0;\n      line-height: 18px !important;\n    }\n    h1 {\n      margin-top: 13px !important;\n      margin-bottom: 22px;\n    }\n    > div {\n      > div {\n        > div {\n          margin-bottom: 32px;\n        }\n      }\n    }\n    li {\n      margin-top: 0;\n    }\n    ul,\n    ol {\n      margin-bottom: 18px;\n    }\n  }\n\n  .editorFullScreen {\n    max-height: calc(100% - 70px) !important;\n    margin-bottom: 0;\n    overflow: auto;\n  }\n\n  .editorInput {\n    height: 0;\n    width: 0;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable */var EditorWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFullscreen=_ref.isFullscreen;if(isFullscreen){return(0,_styledComponents.css)(_templateObject2());}},function(_ref2){var disabled=_ref2.disabled;return disabled?'not-allowed':'text';},function(_ref3){var disabled=_ref3.disabled;return disabled?'#9ea7b8':'#333740';});var _default=EditorWrapper;exports["default"]=_default;

/***/ }),

/***/ 3181:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-bottom: 2.8rem;\n  font-size: 1.3rem;\n  font-family: 'Lato';\n  label {\n    display: block;\n    margin-bottom: 1rem;\n  }\n  &.bordered {\n    .editorWrapper {\n      border-color: red;\n    }\n  }\n  > div + p {\n    width: 100%;\n    padding-top: 12px;\n    font-size: 1.2rem;\n    line-height: normal;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: -9px;\n  }\n\n  div,\n  pre,\n  code {\n    ::-webkit-scrollbar {\n      height: 5px;\n      width: 5px;\n      cursor: default;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 3182:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _regenerator=_interopRequireDefault(__webpack_require__(29));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(30));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _icons=__webpack_require__(43);var _styles=__webpack_require__(44);var _core=__webpack_require__(10);var _hooks=__webpack_require__(153);var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _strapiHelperPlugin=__webpack_require__(7);var _reactIntl=__webpack_require__(13);var _lodash=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _getRequestUrl=_interopRequireDefault(__webpack_require__(411));var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _RightLabel=_interopRequireDefault(__webpack_require__(3183));var _Options=_interopRequireDefault(__webpack_require__(3184));var _RegenerateButton=_interopRequireDefault(__webpack_require__(3189));var _RightContent=_interopRequireDefault(__webpack_require__(3190));var _InputUID=_interopRequireDefault(__webpack_require__(3191));var _Wrapper=_interopRequireDefault(__webpack_require__(3192));var _SubLabel=_interopRequireDefault(__webpack_require__(3193));var _regex=_interopRequireDefault(__webpack_require__(3194));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: block;\n  text-transform: capitalize;\n  margin-bottom: 1rem;\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n"]);_templateObject=function _templateObject(){return data;};return data;}var InputContainer=_styledComponents["default"].div(_templateObject());var Name=(0,_styledComponents["default"])(_core.Label)(_templateObject2());// This component should be in buffetjs. It will be used in the media lib.
// This component will be the strapi custom dropdown component.
// TODO : Make this component generic -> InputDropdown.
// TODO : Use the Compounds components pattern
// https://blog.bitsrc.io/understanding-compound-components-in-react-23c4b84535b5
var InputUID=function InputUID(_ref){var attribute=_ref.attribute,contentTypeUID=_ref.contentTypeUID,description=_ref.description,inputError=_ref.error,name=_ref.name,onChange=_ref.onChange,validations=_ref.validations,value=_ref.value,editable=_ref.editable,inputProps=(0,_objectWithoutProperties2["default"])(_ref,["attribute","contentTypeUID","description","error","name","onChange","validations","value","editable"]);var _useDataManager=(0,_useDataManager2["default"])(),modifiedData=_useDataManager.modifiedData,initialData=_useDataManager.initialData,layout=_useDataManager.layout;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=(0,_slicedToArray2["default"])(_useState3,2),availability=_useState4[0],setAvailability=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isSuggestionOpen=_useState6[0],setIsSuggestionOpen=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2["default"])(_useState7,2),isCustomized=_useState8[0],setIsCustomized=_useState8[1];var _useState9=(0,_react.useState)(),_useState10=(0,_slicedToArray2["default"])(_useState9,2),label=_useState10[0],setLabel=_useState10[1];var debouncedValue=(0,_hooks.useDebounce)(value,300);var debouncedTargetFieldValue=(0,_hooks.useDebounce)(modifiedData[attribute.targetField],300);var wrapperRef=(0,_react.useRef)(null);var generateUid=(0,_react.useRef)();var initialValue=initialData[name];var createdAtName=(0,_lodash.get)(layout,['schema','options','timestamps',0]);var isCreation=!initialData[createdAtName];generateUid.current=/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var shouldSetInitialValue,requestURL,_yield$request,data,_args=arguments;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:shouldSetInitialValue=_args.length>0&&_args[0]!==undefined?_args[0]:false;setIsLoading(true);requestURL=(0,_getRequestUrl["default"])('explorer/uid/generate');_context.prev=3;_context.next=6;return(0,_strapiHelperPlugin.request)(requestURL,{method:'POST',body:{contentTypeUID:contentTypeUID,field:name,data:modifiedData}});case 6:_yield$request=_context.sent;data=_yield$request.data;onChange({target:{name:name,value:data,type:'text'}},shouldSetInitialValue);setIsLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](3);console.error({err:_context.t0});setIsLoading(false);case 16:case"end":return _context.stop();}}},_callee,null,[[3,12]]);}));var checkAvailability=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var requestURL,data;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);requestURL=(0,_getRequestUrl["default"])('explorer/uid/check-availability');_context2.prev=2;_context2.next=5;return(0,_strapiHelperPlugin.request)(requestURL,{method:'POST',body:{contentTypeUID:contentTypeUID,field:name,value:value?value.trim():null}});case 5:data=_context2.sent;setAvailability(data);if(data.suggestion){setIsSuggestionOpen(true);}setIsLoading(false);_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](2);console.error({err:_context2.t0});setIsLoading(false);case 15:case"end":return _context2.stop();}}},_callee2,null,[[2,11]]);}));return function checkAvailability(){return _ref3.apply(this,arguments);};}();(0,_react.useEffect)(function(){if(!value&&validations.required){generateUid.current(true);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);(0,_react.useEffect)(function(){if(debouncedValue&&debouncedValue.trim().match(_regex["default"])&&debouncedValue!==initialValue){checkAvailability();}if(!debouncedValue){setAvailability(null);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[debouncedValue,initialValue]);(0,_react.useEffect)(function(){var timer;if(availability&&availability.isAvailable){timer=setTimeout(function(){setAvailability(null);},4000);}return function(){if(timer){clearTimeout(timer);}};},[availability]);(0,_react.useEffect)(function(){if(!isCustomized&&isCreation&&debouncedTargetFieldValue&&modifiedData[attribute.targetField]){generateUid.current(true);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[debouncedTargetFieldValue,isCustomized,isCreation]);(0,_hooks.useClickAwayListener)(wrapperRef,function(){return setIsSuggestionOpen(false);});var handleFocus=function handleFocus(){if(availability&&availability.suggestion){setIsSuggestionOpen(true);}};var handleSuggestionClick=function handleSuggestionClick(){setIsSuggestionOpen(false);onChange({target:{name:name,value:availability.suggestion,type:'text'}});};var handleGenerateMouseEnter=function handleGenerateMouseEnter(){setLabel('regenerate');};var handleGenerateMouseLeave=function handleGenerateMouseLeave(){setLabel(null);};var handleChange=function handleChange(e,canCheck,dispatch){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});if(e.target.value&&isCreation){setIsCustomized(true);}onChange(e);};return/*#__PURE__*/_react["default"].createElement(_core.Error,{name:name,inputError:inputError,type:"text",validations:_objectSpread(_objectSpread({},validations),{},{regex:_regex["default"]})},function(_ref4){var canCheck=_ref4.canCheck,onBlur=_ref4.onBlur,error=_ref4.error,dispatch=_ref4.dispatch;var hasError=Boolean(error);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{ref:wrapperRef},/*#__PURE__*/_react["default"].createElement(Name,{htmlFor:name},name),/*#__PURE__*/_react["default"].createElement(InputContainer,null,/*#__PURE__*/_react["default"].createElement(_InputUID["default"],(0,_extends2["default"])({},inputProps,{containsEndAdornment:editable,editable:editable,error:hasError,onFocus:handleFocus,name:name,onChange:function onChange(e){return handleChange(e,canCheck,dispatch);},type:"text",onBlur:onBlur// eslint-disable-next-line no-irregular-whitespace
,value:value||''})),/*#__PURE__*/_react["default"].createElement(_RightContent["default"],null,/*#__PURE__*/_react["default"].createElement(_RightLabel["default"],{availability:availability,label:label}),editable&&/*#__PURE__*/_react["default"].createElement(_RegenerateButton["default"],{onMouseEnter:handleGenerateMouseEnter,onMouseLeave:handleGenerateMouseLeave,onClick:function onClick(){return generateUid.current();}},isLoading?/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LoadingIndicator,{small:true}):/*#__PURE__*/_react["default"].createElement(_icons.Sync,{fill:label?'#007EFF':'#B5B7BB',width:"11px",height:"11px"}))),availability&&availability.suggestion&&isSuggestionOpen&&/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.uid.suggested")},function(msg){return/*#__PURE__*/_react["default"].createElement(_Options["default"],{title:msg,options:[{id:'suggestion',label:availability.suggestion,onClick:handleSuggestionClick}]});})),!hasError&&description&&/*#__PURE__*/_react["default"].createElement(_SubLabel["default"],{as:_styles.Description},description),hasError&&/*#__PURE__*/_react["default"].createElement(_SubLabel["default"],{as:_styles.ErrorMessage},error));});};InputUID.propTypes={attribute:_propTypes["default"].object.isRequired,contentTypeUID:_propTypes["default"].string.isRequired,description:_propTypes["default"].string,editable:_propTypes["default"].bool,error:_propTypes["default"].string,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,validations:_propTypes["default"].object,value:_propTypes["default"].string};InputUID.defaultProps={description:'',editable:false,error:null,validations:{},value:''};var _default=InputUID;exports["default"]=_default;

/***/ }),

/***/ 3183:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _react=_interopRequireDefault(__webpack_require__(1));var _icons=__webpack_require__(43);var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _strapiHelperPlugin=__webpack_require__(7);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _getTrad=_interopRequireDefault(__webpack_require__(807));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 0 5px;\n  text-transform: capitalize;\n  font-size: 1.3rem;\n  color: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}// Note you don't need to create a specific file for this one
// as it will soon be replaced by the Text one so you can leave it in this file.
var RightContentLabel=_styledComponents["default"].div(_templateObject(),function(_ref){var theme=_ref.theme,color=_ref.color;return theme.main.colors[color];});var RightLabel=function RightLabel(_ref2){var label=_ref2.label,availability=_ref2.availability;var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),formatMessage=_useGlobalContext.formatMessage;if(label){return/*#__PURE__*/_react["default"].createElement(RightContentLabel,{color:"blue"},formatMessage({id:(0,_getTrad["default"])('components.uid.regenerate')}));}if(availability!==null){// This should be more generic in the futur.
return availability.isAvailable?/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_icons.Success,{fill:"#27b70f",width:"20px",height:"20px"}),/*#__PURE__*/_react["default"].createElement(RightContentLabel,{color:"green"},formatMessage({id:"".concat(_pluginId["default"],".components.uid.available")}))):/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_icons.Remove,{fill:"#ff203c",width:"9px",height:"9px"}),/*#__PURE__*/_react["default"].createElement(RightContentLabel,{color:"red"},formatMessage({id:(0,_getTrad["default"])('components.uid.unavailable')})));}return null;};RightLabel.propTypes={label:_propTypes["default"].string,availability:_propTypes["default"].shape({isAvailable:_propTypes["default"].bool})};RightLabel.defaultProps={label:null,availability:null};var _default=RightLabel;exports["default"]=_default;

/***/ }),

/***/ 3184:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(13);var _getTrad=_interopRequireDefault(__webpack_require__(807));var _wrapper=_interopRequireDefault(__webpack_require__(3185));var _Option=_interopRequireDefault(__webpack_require__(3186));var _OptionsTitle=_interopRequireDefault(__webpack_require__(3187));var _RightOptionLabel=_interopRequireDefault(__webpack_require__(3188));var Options=function Options(_ref){var options=_ref.options,title=_ref.title;return/*#__PURE__*/_react["default"].createElement(_wrapper["default"],null,title&&/*#__PURE__*/_react["default"].createElement(_OptionsTitle["default"],null,title),options.map(function(option){return/*#__PURE__*/_react["default"].createElement(_Option["default"],{key:option.id,onClick:option.onClick},/*#__PURE__*/_react["default"].createElement("div",null,option.label),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:(0,_getTrad["default"])('components.uid.apply')},function(msg){return/*#__PURE__*/_react["default"].createElement(_RightOptionLabel["default"],{className:"right-label"},msg);}));}));};Options.propTypes={options:_propTypes["default"].array.isRequired,title:_propTypes["default"].string};Options.defaultProps={title:null};var _default=Options;exports["default"]=_default;

/***/ }),

/***/ 3185:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  width: 100%;\n  margin-top: 3px;\n  border: 1px solid ",";\n  border-radius: 2px;\n  background-color: white;\n  z-index: 11;\n"]);_templateObject=function _templateObject(){return data;};return data;}var wrapper=_styledComponents["default"].div(_templateObject(),function(props){return props.theme.main.colors.border;});var _default=wrapper;exports["default"]=_default;

/***/ }),

/***/ 3186:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  padding: 0.5rem 1rem;\n  font-size: 1.5rem;\n  line-height: 3rem;\n  cursor: pointer;\n  &:hover {\n    background-color: #e4f0fc;\n    .right-label {\n      display: block;\n    }\n  }\n  .right-label {\n    display: block;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Option=_styledComponents["default"].div(_templateObject());var _default=Option;exports["default"]=_default;

/***/ }),

/***/ 3187:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 0.7rem 1rem;\n  font-size: 1.2rem;\n  font-weight: bold;\n  line-height: 2.1rem;\n  text-transform: uppercase;\n  color: #9ea7b8;\n"]);_templateObject=function _templateObject(){return data;};return data;}var OptionsTitle=_styledComponents["default"].div(_templateObject());var _default=OptionsTitle;exports["default"]=_default;

/***/ }),

/***/ 3188:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #007dff;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 1.1rem;\n"]);_templateObject=function _templateObject(){return data;};return data;}var RightOptionLabel=_styledComponents["default"].div(_templateObject());var _default=RightOptionLabel;exports["default"]=_default;

/***/ }),

/***/ 3189:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 32px;\n  background-color: #fafafb;\n  z-index: 10;\n\n  &:hover {\n    cursor: pointer;\n    background-color: #aed4fb;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var RegenerateButton=_styledComponents["default"].div(_templateObject());var _default=RegenerateButton;exports["default"]=_default;

/***/ }),

/***/ 3190:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  z-index: 10;\n  background-color: ",";\n  align-items: center;\n  line-height: 32px;\n  right: 1px;\n  top: 1px;\n  position: absolute;\n"]);_templateObject=function _templateObject(){return data;};return data;}var RightContent=_styledComponents["default"].div(_templateObject(),function(_ref){var theme=_ref.theme;return theme.main.colors.white;});var _default=RightContent;exports["default"]=_default;

/***/ }),

/***/ 3191:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _core=__webpack_require__(10);var _styles=__webpack_require__(44);function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  width: 100%;\n\n  ","\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var InputUID=(0,_styledComponents["default"])(_core.InputText)(_templateObject(),function(_ref){var containsEndAdornment=_ref.containsEndAdornment;return containsEndAdornment&&"\n      > input {\n        padding-right: calc(40px + 1rem);\n      }\n    ";},function(_ref2){var error=_ref2.error;return error&&"\n      > input {\n        border-color: ".concat(_styles.colors.darkOrange,";\n      }\n    ");});var _default=InputUID;exports["default"]=_default;

/***/ }),

/***/ 3192:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-bottom: 23px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 3193:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 10px;\n  line-height: normal;\n  font-size: 1.3rem;\n"]);_templateObject=function _templateObject(){return data;};return data;}var SubLabel=_styledComponents["default"].p(_templateObject());var _default=SubLabel;exports["default"]=_default;

/***/ }),

/***/ 3194:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var UID_REGEX=new RegExp(/^[A-Za-z0-9-_.~]*$/);var _default=UID_REGEX;exports["default"]=_default;

/***/ }),

/***/ 3195:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(3196));var _select=_interopRequireDefault(__webpack_require__(3197));

/***/ }),

/***/ 3196:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props.keys);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3197:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(8);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));function useSelect(keys){var _useDataManager=(0,_useDataManager2["default"])(),createActionAllowedFields=_useDataManager.createActionAllowedFields,formErrors=_useDataManager.formErrors,isCreatingEntry=_useDataManager.isCreatingEntry,modifiedData=_useDataManager.modifiedData,onChange=_useDataManager.onChange,readActionAllowedFields=_useDataManager.readActionAllowedFields,shouldNotRunValidations=_useDataManager.shouldNotRunValidations,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var _useEditView=(0,_useEditView2["default"])(),currentContentTypeLayout=_useEditView.layout;var allowedFields=(0,_react.useMemo)(function(){return isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;},[isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var readableFields=(0,_react.useMemo)(function(){return isCreatingEntry?[]:readActionAllowedFields;},[isCreatingEntry,readActionAllowedFields]);var value=(0,_lodash.get)(modifiedData,keys,null);return{allowedFields:allowedFields,currentContentTypeLayout:currentContentTypeLayout,formErrors:formErrors,isCreatingEntry:isCreatingEntry,onChange:onChange,readableFields:readableFields,shouldNotRunValidations:shouldNotRunValidations,value:value};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3198:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.RepeatableComponent=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactDnd=__webpack_require__(117);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactIntl=__webpack_require__(13);var _styles=__webpack_require__(44);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _ItemTypes=_interopRequireDefault(__webpack_require__(408));var _connect=_interopRequireDefault(__webpack_require__(3199));var _select=_interopRequireDefault(__webpack_require__(3200));var _AddFieldButton=_interopRequireDefault(__webpack_require__(3201));var _DraggedItem=_interopRequireDefault(__webpack_require__(3202));var _EmptyComponent=_interopRequireDefault(__webpack_require__(3207));var _init=_interopRequireDefault(__webpack_require__(3208));var _reducer=_interopRequireWildcard(__webpack_require__(3209));/* eslint-disable import/no-cycle */var RepeatableComponent=function RepeatableComponent(_ref){var addRepeatableComponentToField=_ref.addRepeatableComponentToField,formErrors=_ref.formErrors,componentUid=_ref.componentUid,componentValue=_ref.componentValue,componentValueLength=_ref.componentValueLength,fields=_ref.fields,isNested=_ref.isNested,isReadOnly=_ref.isReadOnly,max=_ref.max,min=_ref.min,name=_ref.name,schema=_ref.schema;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var componentErrorKeys=Object.keys(formErrors).filter(function(errorKey){return(0,_lodash.take)(errorKey.split('.'),isNested?3:1).join('.')===name;}).map(function(errorKey){return errorKey.split('.').slice(0,name.split('.').length+1).join('.');});// We need to synchronize the collapses array with the data
// The key needed for react in the list will be the one from the collapses data
// This way we don't have to mutate the data when it is received and we can use a unique key
var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState,componentValue);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _state$toJS=state.toJS(),collapses=_state$toJS.collapses;var toggleCollapses=function toggleCollapses(index){dispatch({type:'TOGGLE_COLLAPSE',index:index});};var missingComponentsValue=min-componentValueLength;var errorsArray=componentErrorKeys.map(function(key){return(0,_lodash.get)(formErrors,[key,'id'],'');});var hasMinError=(0,_lodash.get)(errorsArray,[0],'').includes('min')&&!collapses.some(function(obj){return obj.isOpen===true;});return/*#__PURE__*/_react["default"].createElement("div",null,componentValueLength===0&&/*#__PURE__*/_react["default"].createElement(_EmptyComponent["default"],{hasMinError:hasMinError},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.empty-repeatable")},function(msg){return/*#__PURE__*/_react["default"].createElement("p",null,msg);})),/*#__PURE__*/_react["default"].createElement("div",{ref:drop},componentValueLength>0&&componentValue.map(function(data,index){var componentFieldName="".concat(name,".").concat(index);var doesPreviousFieldContainErrorsAndIsOpen=componentErrorKeys.includes("".concat(name,".").concat(index-1))&&index!==0&&(0,_lodash.get)(collapses,[index-1,'isOpen'],false)===false;var hasErrors=componentErrorKeys.includes(componentFieldName);return/*#__PURE__*/_react["default"].createElement(_DraggedItem["default"],{fields:fields,componentFieldName:componentFieldName,componentUid:componentUid,doesPreviousFieldContainErrorsAndIsOpen:doesPreviousFieldContainErrorsAndIsOpen,hasErrors:hasErrors,hasMinError:hasMinError,isFirst:index===0,isReadOnly:isReadOnly,isOpen:(0,_lodash.get)(collapses,[index,'isOpen'],false),key:(0,_lodash.get)(collapses,[index,'_temp__id'],null),onClickToggle:function onClickToggle(){// Close all other collapses and open the selected one
toggleCollapses(index);},removeCollapse:function removeCollapse(){dispatch({type:'REMOVE_COLLAPSE',index:index});},moveCollapse:function moveCollapse(dragIndex,hoverIndex){dispatch({type:'MOVE_COLLAPSE',dragIndex:dragIndex,hoverIndex:hoverIndex});},parentName:name,schema:schema,toggleCollapses:toggleCollapses});})),/*#__PURE__*/_react["default"].createElement(_AddFieldButton["default"],{hasMinError:hasMinError,disabled:isReadOnly,withBorderRadius:false,doesPreviousFieldContainErrorsAndIsClosed:componentValueLength>0&&componentErrorKeys.includes("".concat(name,".").concat(componentValueLength-1))&&collapses[componentValueLength-1].isOpen===false,type:"button",onClick:function onClick(){if(!isReadOnly){if(componentValueLength<max){var shouldCheckErrors=hasMinError;addRepeatableComponentToField(name,componentUid,shouldCheckErrors);dispatch({type:'ADD_NEW_FIELD'});}else if(componentValueLength>=max){strapi.notification.toggle({type:'info',message:{id:"".concat(_pluginId["default"],".components.notification.info.maximum-requirement")}});}}}},/*#__PURE__*/_react["default"].createElement("i",{className:"fa fa-plus"}),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".containers.EditView.add.new")})),hasMinError&&/*#__PURE__*/_react["default"].createElement(_styles.ErrorMessage,null,/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.missing").concat(missingComponentsValue>1?'.plural':'.singular'),values:{count:missingComponentsValue}})));};exports.RepeatableComponent=RepeatableComponent;RepeatableComponent.defaultProps={componentValue:null,componentValueLength:0,fields:[],formErrors:{},isNested:false,max:Infinity,min:-Infinity};RepeatableComponent.propTypes={addRepeatableComponentToField:_propTypes["default"].func.isRequired,componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object]),componentValueLength:_propTypes["default"].number,fields:_propTypes["default"].array,formErrors:_propTypes["default"].object,isNested:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].object.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(RepeatableComponent);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports["default"]=_default;

/***/ }),

/***/ 3199:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3200:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));function useSelect(){var _useDataManager=(0,_useDataManager2["default"])(),addRepeatableComponentToField=_useDataManager.addRepeatableComponentToField,formErrors=_useDataManager.formErrors;return{addRepeatableComponentToField:addRepeatableComponentToField,formErrors:formErrors};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3201:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireWildcard(__webpack_require__(3));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        border-radius: 2px;\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  width: 100%;\n  height: 37px;\n  margin-bottom: 25px;\n  padding: 0 0 3px 0;\n  text-align: center;\n  border: 1px solid rgba(227, 233, 243, 0.75);\n  border-top: 1px solid\n    ",";\n\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  ","\n\n  ","\n\n  color: ",";\n  font-size: 12px;\n  font-weight: 700;\n  -webkit-font-smoothing: antialiased;\n  line-height: normal;\n  cursor: ",";\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  background-color: #fff;\n  &:focus {\n    outline: 0;\n  }\n  > i,\n  svg {\n    margin-right: 10px;\n  }\n  & + p {\n    margin-bottom: 17px;\n    margin-top: -18px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Button=_styledComponents["default"].button(_templateObject(),function(_ref){var doesPreviousFieldContainErrorsAndIsClosed=_ref.doesPreviousFieldContainErrorsAndIsClosed;return doesPreviousFieldContainErrorsAndIsClosed?'#FFA784':'rgba(227, 233, 243, 0.75)';},function(_ref2){var withBorderRadius=_ref2.withBorderRadius;if(withBorderRadius){return(0,_styledComponents.css)(_templateObject2());}return'';},function(_ref3){var hasMinError=_ref3.hasMinError;if(hasMinError){return"\n        border-color: #FAA684;\n        border-top-color: rgba(227, 233, 243, 0.75);\n      ";}return'';},function(_ref4){var disabled=_ref4.disabled;return disabled?'#9EA7B8':' #007eff';},function(_ref5){var disabled=_ref5.disabled;return disabled?'not-allowed':'pointer';});Button.defaultProps={disabled:false};var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 3202:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.DraggedItem=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(8);var _reactstrap=__webpack_require__(39);var _reactDnd=__webpack_require__(117);var _reactDndHtml5Backend=__webpack_require__(281);var _useEditView2=_interopRequireDefault(__webpack_require__(2517));var _ItemTypes=_interopRequireDefault(__webpack_require__(408));var _Inputs=_interopRequireDefault(__webpack_require__(2558));var _FieldComponent=_interopRequireDefault(__webpack_require__(2533));var _Banner=_interopRequireDefault(__webpack_require__(816));var _FormWrapper=_interopRequireDefault(__webpack_require__(3203));var _utils=__webpack_require__(3204);/* eslint-disable import/no-cycle */ /* eslint-disable react/no-array-index-key */ // Issues:
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
var DraggedItem=function DraggedItem(_ref){var componentFieldName=_ref.componentFieldName,componentUid=_ref.componentUid,doesPreviousFieldContainErrorsAndIsOpen=_ref.doesPreviousFieldContainErrorsAndIsOpen,fields=_ref.fields,hasErrors=_ref.hasErrors,hasMinError=_ref.hasMinError,isFirst=_ref.isFirst,isReadOnly=_ref.isReadOnly,isOpen=_ref.isOpen,moveCollapse=_ref.moveCollapse,onClickToggle=_ref.onClickToggle,removeCollapse=_ref.removeCollapse,schema=_ref.schema,toggleCollapses=_ref.toggleCollapses,moveComponentField=_ref.moveComponentField,removeRepeatableField=_ref.removeRepeatableField,triggerFormValidation=_ref.triggerFormValidation,checkFormErrors=_ref.checkFormErrors,displayedValue=_ref.displayedValue;var _useEditView=(0,_useEditView2["default"])(),setIsDraggingComponent=_useEditView.setIsDraggingComponent,unsetIsDraggingComponent=_useEditView.unsetIsDraggingComponent;var dragRef=(0,_react.useRef)(null);var dropRef=(0,_react.useRef)(null);var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showForm=_useState2[0],setShowForm=_useState2[1];(0,_react.useEffect)(function(){if(isOpen){setShowForm(true);}},[isOpen]);var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT,canDrop:function canDrop(){return false;},hover:function hover(item,monitor){if(!dropRef.current){return;}var dragPath=item.originalPath;var hoverPath=componentFieldName;var fullPathToComponentArray=dragPath.split('.');var dragIndexString=fullPathToComponentArray.slice().splice(-1).join('');var hoverIndexString=hoverPath.split('.').splice(-1).join('');var pathToComponentArray=fullPathToComponentArray.slice(0,fullPathToComponentArray.length-1);var dragIndex=parseInt(dragIndexString,10);var hoverIndex=parseInt(hoverIndexString,10);// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}// Determine rectangle on screen
var hoverBoundingRect=dropRef.current.getBoundingClientRect();// Get vertical middle
var hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2;// Determine mouse position
var clientOffset=monitor.getClientOffset();// Get pixels to the top
var hoverClientY=clientOffset.y-hoverBoundingRect.top;// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
if(dragIndex<hoverIndex&&hoverClientY<hoverMiddleY){return;}// Dragging upwards
if(dragIndex>hoverIndex&&hoverClientY>hoverMiddleY){return;}// Time to actually perform the action in the data
moveComponentField(pathToComponentArray,dragIndex,hoverIndex);// Time to actually perform the action in the synchronized collapses
moveCollapse(dragIndex,hoverIndex);// Note: we're mutating the monitor item here!
// Generally it's better to avoid mutations,
// but it's good here for the sake of performance
// to avoid expensive index searches.
item.originalPath=hoverPath;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({item:{type:_ItemTypes["default"].COMPONENT,displayedValue:displayedValue,originalPath:componentFieldName},begin:function begin(){// Close all collapses
toggleCollapses(-1);// Prevent the relations select from firing requests
setIsDraggingComponent();},end:function end(){// Enable the relations select to fire requests
unsetIsDraggingComponent();// Update the errors
triggerFormValidation();},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:false});},[preview]);var getField=function getField(fieldName){return(0,_lodash.get)(schema,['schema','attributes',fieldName],{});};var getMeta=function getMeta(fieldName){return(0,_lodash.get)(schema,['metadatas',fieldName,'edit'],{});};// Create the refs
// We need 1 for the drop target
// 1 for the drag target
var refs={dragRef:drag(dragRef),dropRef:drop(dropRef)};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Banner["default"],{componentFieldName:componentFieldName,hasErrors:hasErrors,hasMinError:hasMinError,isFirst:isFirst,displayedValue:displayedValue,doesPreviousFieldContainErrorsAndIsOpen:doesPreviousFieldContainErrorsAndIsOpen,isDragging:isDragging,isOpen:isOpen,isReadOnly:isReadOnly,onClickToggle:onClickToggle,onClickRemove:function onClickRemove(){removeRepeatableField(componentFieldName);removeCollapse();},ref:refs}),/*#__PURE__*/_react["default"].createElement(_reactstrap.Collapse,{isOpen:isOpen,style:{backgroundColor:'#FAFAFB'},onExited:function onExited(){return setShowForm(false);}},!isDragging&&/*#__PURE__*/_react["default"].createElement(_FormWrapper["default"],{hasErrors:hasErrors,isOpen:isOpen,isReadOnly:isReadOnly},showForm&&fields.map(function(fieldRow,key){return/*#__PURE__*/_react["default"].createElement("div",{className:"row",key:key},fieldRow.map(function(field){var currentField=getField(field.name);var isComponent=(0,_lodash.get)(currentField,'type','')==='component';var keys="".concat(componentFieldName,".").concat(field.name);if(isComponent){var _componentUid=currentField.component;var metas=getMeta(field.name);return/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:_componentUid,isRepeatable:currentField.repeatable,key:field.name,label:metas.label,isNested:true,name:keys,max:currentField.max,min:currentField.min});}return/*#__PURE__*/_react["default"].createElement("div",{key:field.name,className:"col-".concat(field.size)},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{autoFocus:false,componentUid:componentUid,keys:keys,layout:schema,name:field.name,onBlur:hasErrors?checkFormErrors:null}));}));}))));};exports.DraggedItem=DraggedItem;DraggedItem.defaultProps={doesPreviousFieldContainErrorsAndIsOpen:false,fields:[],hasErrors:false,hasMinError:false,isFirst:false,isOpen:false,moveCollapse:function moveCollapse(){},toggleCollapses:function toggleCollapses(){}};DraggedItem.propTypes={componentFieldName:_propTypes["default"].string.isRequired,componentUid:_propTypes["default"].string.isRequired,doesPreviousFieldContainErrorsAndIsOpen:_propTypes["default"].bool,fields:_propTypes["default"].array,hasErrors:_propTypes["default"].bool,hasMinError:_propTypes["default"].bool,isFirst:_propTypes["default"].bool,isOpen:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool.isRequired,moveCollapse:_propTypes["default"].func,onClickToggle:_propTypes["default"].func.isRequired,removeCollapse:_propTypes["default"].func.isRequired,schema:_propTypes["default"].object.isRequired,toggleCollapses:_propTypes["default"].func,moveComponentField:_propTypes["default"].func.isRequired,removeRepeatableField:_propTypes["default"].func.isRequired,triggerFormValidation:_propTypes["default"].func.isRequired,checkFormErrors:_propTypes["default"].func.isRequired,displayedValue:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DraggedItem);var _default=(0,_utils.connect)(Memoized,_utils.select);exports["default"]=_default;

/***/ }),

/***/ 3203:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 24px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 10px;\n  border-top: 1px solid\n    ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var FormWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var hasErrors=_ref.hasErrors,isOpen=_ref.isOpen,isReadOnly=_ref.isReadOnly;if(hasErrors){return'#ffa784';}if(isOpen&&!isReadOnly){return'#AED4FB';}return'rgba(227, 233, 243, 0.75)';});FormWrapper.defaultProps={isReadOnly:false};var _default=FormWrapper;exports["default"]=_default;

/***/ }),

/***/ 3204:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(3205));var _select=_interopRequireDefault(__webpack_require__(3206));

/***/ }),

/***/ 3205:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3206:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(24));var _react=__webpack_require__(1);var _lodash=__webpack_require__(8);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));function useSelect(_ref){var schema=_ref.schema,componentFieldName=_ref.componentFieldName;var _useDataManager=(0,_useDataManager2["default"])(),checkFormErrors=_useDataManager.checkFormErrors,modifiedData=_useDataManager.modifiedData,moveComponentField=_useDataManager.moveComponentField,removeRepeatableField=_useDataManager.removeRepeatableField,triggerFormValidation=_useDataManager.triggerFormValidation;var mainField=(0,_react.useMemo)(function(){return(0,_lodash.get)(schema,['settings','mainField'],'id');},[schema]);var displayedValue=(0,_lodash.toString)((0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(componentFieldName.split('.')),[mainField]),''));return{displayedValue:displayedValue,mainField:mainField,checkFormErrors:checkFormErrors,moveComponentField:moveComponentField,removeRepeatableField:removeRepeatableField,triggerFormValidation:triggerFormValidation};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3207:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 71px;\n  border: 1px solid rgba(227, 233, 243, 0.75);\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  border-bottom: 0;\n  line-height: 66px;\n  text-align: center;\n  background-color: #fff;\n\n  ","\n\n  > p {\n    color: #9ea7b8;\n    font-size: 13px;\n    font-weight: 500;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var EmptyComponent=_styledComponents["default"].div(_templateObject(),function(_ref){var hasMinError=_ref.hasMinError;return hasMinError&&"\n    border-color: #FAA684\n  ";});var _default=EmptyComponent;exports["default"]=_default;

/***/ }),

/***/ 3208:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _immutable=__webpack_require__(51);var _lodash=__webpack_require__(8);// Initialize all the fields of the component is the isOpen key to false
// The key will be used to control the open close state of the banner
function init(initialState,componentValue){return initialState.update('collapses',function(list){if((0,_lodash.isArray)(componentValue)){return(0,_immutable.fromJS)(componentValue.map(function(_,i){return{isOpen:false,_temp__id:i};}));}return list;});}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 3209:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _immutable=__webpack_require__(51);var _getTrad=_interopRequireDefault(__webpack_require__(807));var initialState=(0,_immutable.fromJS)({collapses:[]});exports.initialState=initialState;var getMax=function getMax(arr){if(arr.size===0){return-1;}return Math.max.apply(Math,arr.toJS().map(function(o){return o._temp__id;}));};var reducer=function reducer(state,action){switch(action.type){case'ADD_NEW_FIELD':return state.update('collapses',function(list){return list.map(function(obj){return obj.update('isOpen',function(){return false;});}).push((0,_immutable.fromJS)({isOpen:true,_temp__id:getMax(list)+1}));});case'MOVE_COLLAPSE':return state.updateIn(['collapses'],function(list){var oldList=list;var newList=list["delete"](action.dragIndex).insert(action.hoverIndex,state.getIn(['collapses',action.dragIndex]));// Fix for
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
if(oldList.size!==newList.size){strapi.notification.toggle({type:'warning',message:(0,_getTrad["default"])('components.repeatable.reorder.error')});return oldList;}return newList;});case'TOGGLE_COLLAPSE':return state.update('collapses',function(list){return list.map(function(obj,index){if(index===action.index){return obj.update('isOpen',function(v){return!v;});}return obj.update('isOpen',function(){return false;});});});case'REMOVE_COLLAPSE':return state.removeIn(['collapses',action.index]).update('collapses',function(list){return list.map(function(obj){return obj.set('isOpen',false);});}).update('collapses',function(list){if(action.shouldAddEmptyField){return list.push((0,_immutable.fromJS)({isOpen:true}));}return list;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 3210:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3211:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(8);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _utils=__webpack_require__(806);function useSelect(_ref){var isFromDynamicZone=_ref.isFromDynamicZone,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),allDynamicZoneFields=_useDataManager.allDynamicZoneFields,createActionAllowedFields=_useDataManager.createActionAllowedFields,isCreatingEntry=_useDataManager.isCreatingEntry,modifiedData=_useDataManager.modifiedData,removeComponentFromField=_useDataManager.removeComponentFromField,readActionAllowedFields=_useDataManager.readActionAllowedFields,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var allowedFields=(0,_react.useMemo)(function(){return isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;},[isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var componentValue=(0,_lodash.get)(modifiedData,name,null);var compoName=(0,_react.useMemo)(function(){return(0,_utils.getFieldName)(name);},[name]);var hasChildrenAllowedFields=(0,_react.useMemo)(function(){if(isFromDynamicZone&&isCreatingEntry){return true;}var includedDynamicZoneFields=allowedFields.filter(function(name){return name===compoName[0];});if(includedDynamicZoneFields.length>0){return true;}var relatedChildrenAllowedFields=allowedFields.map(function(fieldName){return fieldName.split('.');}).filter(function(fieldName){if(fieldName.length<compoName.length){return false;}var joined=(0,_lodash.take)(fieldName,compoName.length).join('.');return joined===compoName.join('.');});return relatedChildrenAllowedFields.length>0;},[isFromDynamicZone,isCreatingEntry,allowedFields,compoName]);// This is used only when updating an entry
var hasChildrenReadableFields=(0,_react.useMemo)(function(){if(isFromDynamicZone){return true;}if(allDynamicZoneFields.includes(compoName[0])){return true;}var allowedFields=isCreatingEntry?[]:readActionAllowedFields;var relatedChildrenAllowedFields=allowedFields.map(function(fieldName){return fieldName.split('.');}).filter(function(fieldName){if(fieldName.length<compoName.length){return false;}var joined=(0,_lodash.take)(fieldName,compoName.length).join('.');return joined===compoName.join('.');});return relatedChildrenAllowedFields.length>0;},[isFromDynamicZone,allDynamicZoneFields,compoName,isCreatingEntry,readActionAllowedFields]);var isReadOnly=(0,_react.useMemo)(function(){if(isCreatingEntry){return false;}if(hasChildrenAllowedFields){return false;}return hasChildrenReadableFields;},[hasChildrenAllowedFields,hasChildrenReadableFields,isCreatingEntry]);return{hasChildrenAllowedFields:hasChildrenAllowedFields,hasChildrenReadableFields:hasChildrenReadableFields,isCreatingEntry:isCreatingEntry,isReadOnly:isReadOnly,removeComponentFromField:removeComponentFromField,componentValue:componentValue};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3212:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: -16px;\n  left: 10px;\n  display: flex;\n\n  > .component_name {\n    overflow: hidden;\n    position: relative;\n    width: 31px;\n    height: 31px;\n    padding: 0 11px 0 0px;\n    color: #007eff;\n    font-size: 13px;\n    font-weight: 600;\n    line-height: 26px;\n    border-radius: 31px;\n    border: 2px solid white;\n    background-color: #e6f0fb;\n    transition: all 0.2s ease-out;\n\n    .component_icon {\n      z-index: 1;\n      display: flex;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      width: 29px;\n      height: 29px;\n      border-radius: 31px;\n      border: 1px solid white;\n      background-color: #e6f0fb;\n\n      svg {\n        margin: auto;\n        color: #007eff;\n        font-size: 11px;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n      width: auto !important;\n      padding-left: 39px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentIcon=_styledComponents["default"].div(_templateObject());var _default=ComponentIcon;exports["default"]=_default;

/***/ }),

/***/ 3213:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  font-weight: 500;\n  font-size: 13px;\n  margin-bottom: 1rem;\n  display: block;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].label(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 3214:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  display: flex;\n\n  cursor: pointer;\n  color: #4b515a;\n\n  > span {\n    margin-right: 10px;\n    display: none;\n  }\n\n  &:hover {\n    > div {\n      background-color: #faa684;\n    }\n    color: #f64d0a;\n    > span {\n      display: initial;\n    }\n  }\n\n  > div {\n    width: 24px;\n    height: 24px;\n    background-color: #f3f4f4;\n    text-align: center;\n    border-radius: 2px;\n    &:after {\n      content: '\f2ed';\n      font-size: 10px;\n      font-family: FontAwesome;\n    }\n  }\n"],["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  display: flex;\n\n  cursor: pointer;\n  color: #4b515a;\n\n  > span {\n    margin-right: 10px;\n    display: none;\n  }\n\n  &:hover {\n    > div {\n      background-color: #faa684;\n    }\n    color: #f64d0a;\n    > span {\n      display: initial;\n    }\n  }\n\n  > div {\n    width: 24px;\n    height: 24px;\n    background-color: #f3f4f4;\n    text-align: center;\n    border-radius: 2px;\n    &:after {\n      content: '\\f2ed';\n      font-size: 10px;\n      font-family: FontAwesome;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ResetComponent=_styledComponents["default"].div(_templateObject());var _default=ResetComponent;exports["default"]=_default;

/***/ }),

/***/ 3215:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Wrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFromDynamicZone=_ref.isFromDynamicZone;if(isFromDynamicZone){return"\n        background-color: #fff;\n      ";}return'';});var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 3216:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props.name);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3217:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(8);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));function useSelect(name){var _useDataManager=(0,_useDataManager2["default"])(),addComponentToDynamicZone=_useDataManager.addComponentToDynamicZone,createActionAllowedFields=_useDataManager.createActionAllowedFields,isCreatingEntry=_useDataManager.isCreatingEntry,formErrors=_useDataManager.formErrors,layout=_useDataManager.layout,modifiedData=_useDataManager.modifiedData,moveComponentUp=_useDataManager.moveComponentUp,moveComponentDown=_useDataManager.moveComponentDown,removeComponentFromDynamicZone=_useDataManager.removeComponentFromDynamicZone,readActionAllowedFields=_useDataManager.readActionAllowedFields,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var dynamicDisplayedComponents=(0,_react.useMemo)(function(){return(0,_lodash.get)(modifiedData,[name],[]).map(function(data){return data.__component;});},[modifiedData,name]);var isFieldAllowed=(0,_react.useMemo)(function(){var allowedFields=isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;return allowedFields.includes(name);},[name,isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var isFieldReadable=(0,_react.useMemo)(function(){var allowedFields=isCreatingEntry?[]:readActionAllowedFields;return allowedFields.includes(name);},[name,isCreatingEntry,readActionAllowedFields]);return{addComponentToDynamicZone:addComponentToDynamicZone,formErrors:formErrors,layout:layout,isCreatingEntry:isCreatingEntry,isFieldAllowed:isFieldAllowed,isFieldReadable:isFieldReadable,moveComponentUp:moveComponentUp,moveComponentDown:moveComponentDown,removeComponentFromDynamicZone:removeComponentFromDynamicZone,dynamicDisplayedComponents:dynamicDisplayedComponents};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3218:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var BaselineAlignement=_styledComponents["default"].div(_templateObject(),function(_ref){var top=_ref.top;return top;});BaselineAlignement.defaultProps={top:'1px'};var _default=BaselineAlignement;exports["default"]=_default;

/***/ }),

/***/ 3219:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _PlusButton=_interopRequireDefault(__webpack_require__(2598));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  transform: rotate(-90deg);\n  transition: background-color 0.1s linear;\n  transition: transform 0.1s ease-in-out;\n  &:hover {\n    background-color: #aed4fb;\n    :before,\n    :after {\n      background-color: #007eff;\n    }\n  }\n\n  ","\n\n  &.isOpen {\n    transform: rotate(-45deg);\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Button=(0,_styledComponents["default"])(_PlusButton["default"])(_templateObject(),function(_ref){var hasError=_ref.hasError;return hasError&&"\n    background-color: #FAA684;\n    :before, :after {\n      background-color: #F64D0A;\n    }\n  ";});var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 3220:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  overflow: hidden;\n  max-height: 0;\n  transition: max-height 0.2s ease-out;\n\n  > div {\n    margin-top: 15px;\n    padding: 23px 18px 21px 18px;\n    background-color: #f2f3f4;\n  }\n\n  ","\n\n  .componentPickerTitle {\n    margin-bottom: 15px;\n    color: #919bae;\n    font-weight: 600;\n    font-size: 13px;\n    line-height: normal;\n  }\n  .componentsList {\n    display: flex;\n    overflow-x: auto;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var ComponentsPicker=_styledComponents["default"].div(_templateObject(),function(_ref){var isOpen=_ref.isOpen;return isOpen&&"\n    max-height: 260px;\n  ";});var _default=ComponentsPicker;exports["default"]=_default;

/***/ }),

/***/ 3221:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  > div {\n    position: relative;\n    box-shadow: 0 2px 4px #e3e9f3;\n    border-radius: 2px;\n    .arrow-icons {\n      position: absolute;\n      top: -12px;\n      right: 49px;\n      z-index: 9;\n      .arrow-btn {\n        display: inline-flex;\n        svg {\n          margin-left: 5px;\n          margin-top: 5px;\n        }\n      }\n    }\n    &:not(:first-of-type) {\n      margin-top: 32px;\n      &:before {\n        content: '&';\n        position: absolute;\n        top: -30px;\n        left: 24.5px;\n        height: 100%;\n        width: 2px;\n        background-color: #e6f0fb;\n        color: transparent;\n      }\n    }\n    > div:last-of-type {\n      padding-top: 6px;\n      padding-bottom: 5px;\n      margin-bottom: 22px;\n      border-radius: 2px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentWrapper=_styledComponents["default"].div(_templateObject());var _default=ComponentWrapper;exports["default"]=_default;

/***/ }),

/***/ 3222:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-top: 10px;\n  margin-bottom: 15px;\n  & + & {\n    padding-top: 13px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var DynamicZoneWrapper=_styledComponents["default"].div(_templateObject());var _default=DynamicZoneWrapper;exports["default"]=_default;

/***/ }),

/***/ 3223:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 9px 20px;\n  font-size: 13px;\n  font-weight: 600;\n  position: relative;\n  min-height: 64px;\n  &:after {\n    content: '\u2022';\n    position: absolute;\n    top: 15px;\n    left: 21.5px;\n    font-size: 15px;\n    width: 8px;\n    height: 8px;\n    background-color: #aed4fb;\n    color: transparent;\n    border-radius: 4px;\n    border: 1px solid white;\n  }\n  &:before {\n    content: '&';\n    position: absolute;\n    top: 22px;\n    left: 24.5px;\n    height: 100%;\n    width: 2px;\n    background-color: #e6f0fb;\n    color: transparent;\n  }\n  p {\n    padding-left: 18px;\n    margin-bottom: 0;\n  }\n  p:last-of-type:not(:first-of-type) {\n    color: #9ea7b8;\n    font-weight: 400;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].div(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 3224:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 31px;\n  width: 31px;\n  border-radius: 50%;\n  background-color: #f2f3f4;\n  border: 2px solid #ffffff;\n  cursor: pointer;\n  display: flex;\n  z-index: 9;\n  svg {\n    font-size: 10px;\n    line-height: 29px;\n    margin: auto;\n  }\n  &:not(.arrow-btn) {\n    position: absolute;\n    top: -16px;\n    right: 10px;\n    transition: all 200ms ease-in;\n    &:hover {\n      background-color: #faa684;\n      color: #f64d0a;\n    }\n  }\n  &.arrow-btn {\n    height: 22px;\n    width: 22px;\n    background-color: #ffffff;\n    border: 2px solid #ffffff;\n    svg {\n      font-size: 10px;\n      line-height: 22px;\n    }\n    &:hover {\n      background-color: #f2f3f4;\n    }\n    &.arrow-down {\n      transform: rotate(180deg);\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var RoundCTA=_styledComponents["default"].div(_templateObject());var _default=RoundCTA;exports["default"]=_default;

/***/ }),

/***/ 3225:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-top: 5px;\n  text-align: center;\n  .info {\n    position: absolute;\n    display: none;\n    top: 10px;\n    left: calc(50% + 28px);\n    > span {\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n      color: #007eff;\n      font-size: 11px;\n      font-weight: 700;\n    }\n  }\n  button {\n    &:not(.isOpen):hover + .info {\n      display: block;\n    }\n  }\n  .error-label {\n    color: #f64d0a;\n    font-size: 13px;\n    margin-top: 4px;\n    margin-bottom: -5px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 3226:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 22px 10px 0 10px;\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  margin-bottom: 17px;\n  > div {\n    margin-right: 0;\n    margin-left: 0;\n  }\n  .row {\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var FormWrapper=_styledComponents["default"].div(_templateObject());var _default=FormWrapper;exports["default"]=_default;

/***/ }),

/***/ 3227:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _regenerator=_interopRequireDefault(__webpack_require__(29));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(30));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _lodash=__webpack_require__(8);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactRouterDom=__webpack_require__(20);var _strapiHelperPlugin=__webpack_require__(7);var _EditViewDataManager=_interopRequireDefault(__webpack_require__(2596));var _utils=__webpack_require__(806);var _pluginId=_interopRequireDefault(__webpack_require__(105));var _init=_interopRequireDefault(__webpack_require__(3228));var _reducer=_interopRequireWildcard(__webpack_require__(3229));var _utils2=__webpack_require__(3230);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getRequestUrl=function getRequestUrl(path){return"/".concat(_pluginId["default"],"/explorer/").concat(path);};var EditViewDataManagerProvider=function EditViewDataManagerProvider(_ref){var allLayoutData=_ref.allLayoutData,children=_ref.children,isSingleType=_ref.isSingleType,redirectToPreviousPage=_ref.redirectToPreviousPage,slug=_ref.slug;var _useParams=(0,_reactRouterDom.useParams)(),id=_useParams.id;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,_init["default"]),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var _useLocation=(0,_reactRouterDom.useLocation)(),state=_useLocation.state;var abortController=new AbortController();var signal=abortController.signal;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push,replace=_useHistory.replace;// Here in case of a 403 response when fetching data we will either redirect to the previous page
// Or to the homepage if there's no state in the history stack
var from=(0,_lodash.get)(state,'from','/');var _reducerState$toJS=reducerState.toJS(),formErrors=_reducerState$toJS.formErrors,initialData=_reducerState$toJS.initialData,isLoading=_reducerState$toJS.isLoading,modifiedData=_reducerState$toJS.modifiedData,modifiedDZName=_reducerState$toJS.modifiedDZName,shouldCheckErrors=_reducerState$toJS.shouldCheckErrors;var _useState=(0,_react.useState)(id==='create'),_useState2=(0,_slicedToArray2["default"])(_useState,2),isCreatingEntry=_useState2[0],setIsCreatingEntry=_useState2[1];var _useState3=(0,_react.useState)('resolved'),_useState4=(0,_slicedToArray2["default"])(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var currentContentTypeLayout=(0,_lodash.get)(allLayoutData,['contentType'],{});var hasDraftAndPublish=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayout,['schema','options','draftAndPublish'],false);},[currentContentTypeLayout]);var shouldNotRunValidations=(0,_react.useMemo)(function(){return hasDraftAndPublish&&!initialData.published_at;},[hasDraftAndPublish,initialData.published_at]);var _useRouteMatch=(0,_reactRouterDom.useRouteMatch)('/plugins/content-manager/:contentType'),contentType=_useRouteMatch.params.contentType;// This is used for the readonly mode when updating an entry
var allDynamicZoneFields=(0,_react.useMemo)(function(){var attributes=(0,_lodash.get)(currentContentTypeLayout,['schema','attributes'],{});var dynamicZoneFields=Object.keys(attributes).filter(function(attrName){return(0,_lodash.get)(attributes,[attrName,'type'],'')==='dynamiczone';});return dynamicZoneFields;},[currentContentTypeLayout]);var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent,formatMessage=_useGlobalContext.formatMessage;var emitEventRef=(0,_react.useRef)(emitEvent);var userPermissions=(0,_strapiHelperPlugin.useUser)();var generatedPermissions=(0,_react.useMemo)(function(){return(0,_utils.generatePermissionsObject)(slug);},[slug]);var permissionsToApply=(0,_react.useMemo)(function(){var fieldsToPick=isCreatingEntry?['create']:['read','update'];return(0,_lodash.pick)(generatedPermissions,fieldsToPick);},[isCreatingEntry,generatedPermissions]);var _useUserPermissions=(0,_strapiHelperPlugin.useUserPermissions)(permissionsToApply),isLoadingForPermissions=_useUserPermissions.isLoading,_useUserPermissions$a=_useUserPermissions.allowedActions,canCreate=_useUserPermissions$a.canCreate,canRead=_useUserPermissions$a.canRead,canUpdate=_useUserPermissions$a.canUpdate;var _useMemo=(0,_react.useMemo)(function(){return(0,_utils2.getFieldsActionMatchingPermissions)(userPermissions,slug);},[userPermissions,slug]),createActionAllowedFields=_useMemo.createActionAllowedFields,readActionAllowedFields=_useMemo.readActionAllowedFields,updateActionAllowedFields=_useMemo.updateActionAllowedFields;var shouldRedirectToHomepageWhenCreatingEntry=(0,_react.useMemo)(function(){if(isLoadingForPermissions||isLoading){return false;}if(!isCreatingEntry){return false;}if(canCreate===false){return true;}return false;},[isLoadingForPermissions,isCreatingEntry,canCreate,isLoading]);var shouldRedirectToHomepageWhenEditingEntry=(0,_react.useMemo)(function(){if(isLoadingForPermissions||isLoading){return false;}if(isCreatingEntry){return false;}if(canRead===false&&canUpdate===false){return true;}return false;},[isLoadingForPermissions,isLoading,isCreatingEntry,canRead,canUpdate]);(0,_react.useEffect)(function(){if(!isLoading){checkFormErrors();}// eslint-disable-next-line react-hooks/exhaustive-deps
},[shouldCheckErrors]);(0,_react.useEffect)(function(){if(shouldRedirectToHomepageWhenEditingEntry){strapi.notification.toggle({type:'info',message:{id:(0,_utils.getTrad)('permissions.not-allowed.update')}});}},[shouldRedirectToHomepageWhenEditingEntry]);(0,_react.useEffect)(function(){if(shouldRedirectToHomepageWhenCreatingEntry){strapi.notification.toggle({type:'info',message:{id:(0,_utils.getTrad)('permissions.not-allowed.create')}});}},[shouldRedirectToHomepageWhenCreatingEntry]);(0,_react.useEffect)(function(){var fetchData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var data,resStatus;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/").concat(id||'')),{method:'GET',signal:signal});case 3:data=_context.sent;dispatch({type:'GET_DATA_SUCCEEDED',data:(0,_utils2.removePasswordFieldsFromData)(data,allLayoutData.contentType,allLayoutData.components)});_context.next=23;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);console.log(_context.t0);resStatus=(0,_lodash.get)(_context.t0,'response.status',null);// The record does not exists
// Redirect the user to the previous page
if(!(id&&resStatus===404)){_context.next=14;break;}push(from);return _context.abrupt("return");case 14:if(!(id&&resStatus===403)){_context.next=18;break;}strapi.notification.toggle({type:'info',message:{id:(0,_utils.getTrad)('permissions.not-allowed.update')}});push(from);return _context.abrupt("return");case 18:if(id&&_context.t0.code!==20){strapi.notification.toggle({type:'warning',message:{id:"".concat(_pluginId["default"],".error.record.fetch")}});}// Create a single type
if(!(!id&&resStatus===404)){_context.next=22;break;}setIsCreatingEntry(true);return _context.abrupt("return");case 22:// Not allowed to update or read a ST
if(!id&&resStatus===403){strapi.notification.toggle({type:'info',message:{id:(0,_utils.getTrad)('permissions.not-allowed.update')}});push(from);}case 23:case"end":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var componentsDataStructure=Object.keys(allLayoutData.components).reduce(function(acc,current){acc[current]=(0,_utils2.createDefaultForm)((0,_lodash.get)(allLayoutData,['components',current,'schema','attributes'],{}),allLayoutData.components);return acc;},{});var contentTypeDataStructure=(0,_utils2.createDefaultForm)(currentContentTypeLayout.schema.attributes,allLayoutData.components);if(!isLoadingForPermissions){// Force state to be cleared when navigation from one entry to another
dispatch({type:'RESET_PROPS'});dispatch({type:'SET_DEFAULT_DATA_STRUCTURES',componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure});if(!isCreatingEntry){fetchData();}else{// Will create default form
dispatch({type:'SET_DEFAULT_MODIFIED_DATA_STRUCTURE',contentTypeDataStructure:contentTypeDataStructure});}}return function(){abortController.abort();};// eslint-disable-next-line react-hooks/exhaustive-deps
},[id,slug,isLoadingForPermissions]);var addComponentToDynamicZone=(0,_react.useCallback)(function(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;emitEvent('didAddComponentToDynamicZone');dispatch({type:'ADD_COMPONENT_TO_DYNAMIC_ZONE',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);var addNonRepeatableComponentToField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var addRelation=(0,_react.useCallback)(function(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;dispatch({type:'ADD_RELATION',keys:name.split('.'),value:value});},[]);var addRepeatableComponentToField=(0,_react.useCallback)(function(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;dispatch({type:'ADD_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});},[]);var checkFormErrors=/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var dataToSet,schema,errors,updatedData,_args2=arguments;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataToSet=_args2.length>0&&_args2[0]!==undefined?_args2[0]:{};schema=(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})},{isCreatingEntry:isCreatingEntry,isDraft:shouldNotRunValidations,isFromComponent:false});errors={};updatedData=(0,_lodash.cloneDeep)(modifiedData);if(!(0,_lodash.isEmpty)(updatedData)){(0,_lodash.set)(updatedData,dataToSet.path,dataToSet.value);}_context2.prev=5;_context2.next=8;return schema.validate(updatedData,{abortEarly:false});case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](5);errors=(0,_utils2.getYupInnerErrors)(_context2.t0);if(modifiedDZName){errors=Object.keys(errors).reduce(function(acc,current){var dzName=current.split('.')[0];if(dzName!==modifiedDZName){acc[current]=errors[current];}return acc;},{});}case 14:dispatch({type:'SET_ERRORS',errors:errors});case 15:case"end":return _context2.stop();}}},_callee2,null,[[5,10]]);}));return function checkFormErrors(){return _ref4.apply(this,arguments);};}();var handleChange=(0,_react.useCallback)(function(_ref5){var _ref5$target=_ref5.target,name=_ref5$target.name,value=_ref5$target.value,type=_ref5$target.type;var shouldSetInitialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var inputValue=value;// Empty string is not a valid date,
// Set the date to null when it's empty
if(type==='date'&&value===''){inputValue=null;}if(type==='password'&&!value){dispatch({type:'REMOVE_PASSWORD_FIELD',keys:name.split('.')});return;}// Allow to reset enum
if(type==='select-one'&&value===''){inputValue=null;}// Allow to reset number input
if(type==='number'&&value===''){inputValue=null;}dispatch({type:'ON_CHANGE',keys:name.split('.'),value:inputValue,shouldSetInitialValue:shouldSetInitialValue});},[]);var handleSubmit=/*#__PURE__*/function(){var _ref6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(e){var trackerProperty,schema,filesToUpload,cleanedData,formData,headers,method,endPoint,res,error,errors,formattedErrors,_errors;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();trackerProperty=hasDraftAndPublish?{status:'draft'}:{};// Create yup schema
schema=(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})},{isCreatingEntry:isCreatingEntry,isDraft:shouldNotRunValidations,isFromComponent:false});_context3.prev=3;_context3.next=6;return schema.validate(modifiedData,{abortEarly:false});case 6:// Show a loading button in the EditView/Header.js
setStatus('submit-pending');// Set the loading state in the plugin header
filesToUpload=(0,_utils2.getFilesToUpload)(modifiedData);// Remove keys that are not needed
// Clean relations
cleanedData=(0,_utils2.cleanData)((0,_lodash.cloneDeep)(modifiedData),currentContentTypeLayout,allLayoutData.components);formData=new FormData();formData.append('data',JSON.stringify(cleanedData));Object.keys(filesToUpload).forEach(function(key){var files=filesToUpload[key];files.forEach(function(file){formData.append("files.".concat(key),file);});});// Change the request helper default headers so we can pass a FormData
headers={};method=isCreatingEntry?'POST':'PUT';// All endpoints for creation and edition are the same for both content types
// But, the id from the URL didn't exist for the single types.
// So, we use the id of the modified data if this one is setted.
if(isCreatingEntry){endPoint=slug;}else if(modifiedData){endPoint="".concat(slug,"/").concat(modifiedData.id);}else{endPoint="".concat(slug,"/").concat(id);}if(!isCreatingEntry){emitEvent('willEditEntry',trackerProperty);}_context3.prev=16;_context3.next=19;return(0,_strapiHelperPlugin.request)(getRequestUrl(endPoint),{method:method,headers:headers,body:formData,signal:signal},false,false);case 19:res=_context3.sent;emitEvent(isCreatingEntry?'didCreateEntry':'didEditEntry',trackerProperty);setStatus('resolved');dispatch({type:'SUBMIT_SUCCESS'});strapi.notification.toggle({type:'success',message:{id:"".concat(_pluginId["default"],".success.record.save")}});setIsCreatingEntry(false);if(!isSingleType){replace("/plugins/".concat(_pluginId["default"],"/").concat(contentType,"/").concat(slug,"/").concat(res.id));}_context3.next=35;break;case 28:_context3.prev=28;_context3.t0=_context3["catch"](16);console.error({err:_context3.t0});setStatus('resolved');error=(0,_lodash.get)(_context3.t0,['response','payload','message','0','messages','0','id'],'SERVER ERROR');// Handle validations errors from the API
if(error==='ValidationError'){errors=(0,_lodash.get)(_context3.t0,['response','payload','data','0','errors'],{});formattedErrors=Object.keys(errors).reduce(function(acc,current){acc[current]={id:errors[current][0]};return acc;},{});dispatch({type:'SUBMIT_ERRORS',errors:formattedErrors});}else{emitEvent(isCreatingEntry?'didNotCreateEntry':'didNotEditEntry',_objectSpread({error:_context3.t0},trackerProperty));}strapi.notification.toggle({type:'warning',message:{id:"".concat(_pluginId["default"],".error.record.fetch")}});case 35:_context3.next=43;break;case 37:_context3.prev=37;_context3.t1=_context3["catch"](3);console.error({err:_context3.t1});_errors=(0,_utils2.getYupInnerErrors)(_context3.t1);setStatus('resolved');dispatch({type:'SUBMIT_ERRORS',errors:_errors});case 43:case"end":return _context3.stop();}}},_callee3,null,[[3,37],[16,28]]);}));return function handleSubmit(_x){return _ref6.apply(this,arguments);};}();var handlePublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(){var schema,data,error,errors,formattedErrors,errorMessage,_errors2;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// Create yup schema
schema=(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})},{isCreatingEntry:isCreatingEntry,isDraft:false,isFromComponent:false});_context4.prev=1;_context4.next=4;return schema.validate(modifiedData,{abortEarly:false});case 4:// Show a loading button in the EditView/Header.js
setStatus('publish-pending');_context4.prev=5;emitEventRef.current('willPublishEntry');// Time to actually send the data
_context4.next=9;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/publish/").concat(id||modifiedData.id)),{method:'POST'},false,false);case 9:data=_context4.sent;emitEventRef.current('didPublishEntry');setStatus('resolved');dispatch({type:'PUBLISH_SUCCESS',data:data});strapi.notification.toggle({type:'success',message:{id:"".concat(_pluginId["default"],".success.record.publish")}});_context4.next=24;break;case 16:_context4.prev=16;_context4.t0=_context4["catch"](5);// ---------- @Soupette Is this error handling still mandatory? ----------
// The api error send response.payload.message: 'The error message'.
// There isn't : response.payload.message[0].messages[0].id
console.error({err:_context4.t0});setStatus('resolved');error=(0,_lodash.get)(_context4.t0,['response','payload','message','0','messages','0','id'],'SERVER ERROR');if(error==='ValidationError'){errors=(0,_lodash.get)(_context4.t0,['response','payload','data','0','errors'],{});formattedErrors=Object.keys(errors).reduce(function(acc,current){acc[current]={id:errors[current][0]};return acc;},{});dispatch({type:'PUBLISH_ERRORS',errors:formattedErrors});}errorMessage=(0,_lodash.get)(_context4.t0,['response','payload','message'],'SERVER ERROR');strapi.notification.toggle({type:'warning',message:errorMessage});case 24:_context4.next=33;break;case 26:_context4.prev=26;_context4.t1=_context4["catch"](1);console.error({err:_context4.t1});_errors2=(0,_utils2.getYupInnerErrors)(_context4.t1);console.log({errors:_errors2});setStatus('resolved');dispatch({type:'PUBLISH_ERRORS',errors:_errors2});case 33:case"end":return _context4.stop();}}},_callee4,null,[[1,26],[5,16]]);})),[allLayoutData,currentContentTypeLayout,id,isCreatingEntry,modifiedData,slug]);var handleUnpublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5(){var data,errorMessage;return _regenerator["default"].wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;setStatus('unpublish-pending');emitEventRef.current('willUnpublishEntry');_context5.next=5;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/unpublish/").concat(id||modifiedData.id)),{method:'POST'},false,false);case 5:data=_context5.sent;emitEventRef.current('didUnpublishEntry');setStatus('resolved');dispatch({type:'UNPUBLISH_SUCCESS',data:data});strapi.notification.toggle({type:'success',message:{id:"".concat(_pluginId["default"],".success.record.unpublish")}});_context5.next=18;break;case 12:_context5.prev=12;_context5.t0=_context5["catch"](0);console.error({err:_context5.t0});setStatus('resolved');errorMessage=(0,_lodash.get)(_context5.t0,['response','payload','message'],'SERVER ERROR');strapi.notification.toggle({type:'warning',message:errorMessage});case 18:case"end":return _context5.stop();}}},_callee5,null,[[0,12]]);})),[id,modifiedData,slug]);var shouldCheckDZErrors=(0,_react.useCallback)(function(dzName){var doesDZHaveError=Object.keys(formErrors).some(function(key){return key.split('.')[0]===dzName;});var shouldCheckErrors=!(0,_lodash.isEmpty)(formErrors)&&doesDZHaveError;return shouldCheckErrors;},[formErrors]);var moveComponentDown=(0,_react.useCallback)(function(dynamicZoneName,currentIndex){emitEvent('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_DOWN',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});// eslint-disable-next-line react-hooks/exhaustive-deps
},// eslint-disable-next-line react-hooks/exhaustive-deps
[shouldCheckDZErrors]);var moveComponentUp=(0,_react.useCallback)(function(dynamicZoneName,currentIndex){emitEvent('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_UP',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});},// eslint-disable-next-line react-hooks/exhaustive-deps
[shouldCheckDZErrors]);var moveComponentField=(0,_react.useCallback)(function(pathToComponent,dragIndex,hoverIndex){dispatch({type:'MOVE_COMPONENT_FIELD',pathToComponent:pathToComponent,dragIndex:dragIndex,hoverIndex:hoverIndex});},[]);var moveRelation=(0,_react.useCallback)(function(dragIndex,overIndex,name){dispatch({type:'MOVE_FIELD',dragIndex:dragIndex,overIndex:overIndex,keys:name.split('.')});},[]);var onRemoveRelation=(0,_react.useCallback)(function(keys){dispatch({type:'REMOVE_RELATION',keys:keys});},[]);var removeComponentFromDynamicZone=(0,_react.useCallback)(function(dynamicZoneName,index){emitEvent('removeComponentFromDynamicZone');dispatch({type:'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE',dynamicZoneName:dynamicZoneName,index:index,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);var removeComponentFromField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'REMOVE_COMPONENT_FROM_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var removeRepeatableField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'REMOVE_REPEATABLE_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var deleteSuccess=function deleteSuccess(){dispatch({type:'DELETE_SUCCEEDED'});};var resetData=function resetData(){dispatch({type:'RESET_DATA'});};var clearData=(0,_react.useCallback)(function(){if(isSingleType){setIsCreatingEntry(true);}dispatch({type:'SET_DEFAULT_MODIFIED_DATA_STRUCTURE',contentTypeDataStructure:{}});},[isSingleType]);var triggerFormValidation=function triggerFormValidation(){dispatch({type:'TRIGGER_FORM_VALIDATION'});};var overlayBlockerParams=(0,_react.useMemo)(function(){return{children:/*#__PURE__*/_react["default"].createElement("div",null),noGradient:true};},[]);// Redirect the user to the homepage if he is not allowed to create a document
if(shouldRedirectToHomepageWhenCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"/"});}// Redirect the user to the previous page if he is not allowed to read/update a document
if(shouldRedirectToHomepageWhenEditingEntry){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:from});}return/*#__PURE__*/_react["default"].createElement(_EditViewDataManager["default"].Provider,{value:{addComponentToDynamicZone:addComponentToDynamicZone,addNonRepeatableComponentToField:addNonRepeatableComponentToField,addRelation:addRelation,addRepeatableComponentToField:addRepeatableComponentToField,allLayoutData:allLayoutData,allDynamicZoneFields:allDynamicZoneFields,checkFormErrors:checkFormErrors,clearData:clearData,createActionAllowedFields:createActionAllowedFields,deleteSuccess:deleteSuccess,formErrors:formErrors,hasDraftAndPublish:hasDraftAndPublish,initialData:initialData,isCreatingEntry:isCreatingEntry,isSingleType:isSingleType,shouldNotRunValidations:shouldNotRunValidations,status:status,layout:currentContentTypeLayout,modifiedData:modifiedData,moveComponentDown:moveComponentDown,moveComponentField:moveComponentField,moveComponentUp:moveComponentUp,moveRelation:moveRelation,onChange:handleChange,onPublish:handlePublish,onUnpublish:handleUnpublish,onRemoveRelation:onRemoveRelation,readActionAllowedFields:readActionAllowedFields,redirectToPreviousPage:redirectToPreviousPage,removeComponentFromDynamicZone:removeComponentFromDynamicZone,removeComponentFromField:removeComponentFromField,removeRepeatableField:removeRepeatableField,resetData:resetData,slug:slug,triggerFormValidation:triggerFormValidation,updateActionAllowedFields:updateActionAllowedFields}},/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.OverlayBlocker,(0,_extends2["default"])({key:"overlayBlocker",isOpen:status!=='resolved'},overlayBlockerParams)),isLoading?/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LoadingIndicatorPage,null):/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Prompt,{when:!(0,_lodash.isEqual)(modifiedData,initialData),message:formatMessage({id:'global.prompt.unsaved'})}),/*#__PURE__*/_react["default"].createElement("form",{onSubmit:handleSubmit},children))));};EditViewDataManagerProvider.defaultProps={redirectToPreviousPage:function redirectToPreviousPage(){}};EditViewDataManagerProvider.propTypes={allLayoutData:_propTypes["default"].object.isRequired,children:_propTypes["default"].node.isRequired,isSingleType:_propTypes["default"].bool.isRequired,redirectToPreviousPage:_propTypes["default"].func,slug:_propTypes["default"].string.isRequired};var _default=EditViewDataManagerProvider;exports["default"]=_default;

/***/ }),

/***/ 3228:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function init(initialState){return initialState;}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 3229:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(24));var _immutable=__webpack_require__(51);var initialState=(0,_immutable.fromJS)({componentsDataStructure:{},contentTypeDataStructure:{},formErrors:{},isLoading:true,initialData:{},modifiedData:{},shouldCheckErrors:false,modifiedDZName:null});exports.initialState=initialState;var reducer=function reducer(state,action){switch(action.type){case'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]);return(0,_immutable.fromJS)(defaultDataStructure);});case'ADD_REPEATABLE_COMPONENT_TO_FIELD':{return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]);if(list){return list.push(defaultDataStructure);}return(0,_immutable.fromJS)([defaultDataStructure]);}).update('shouldCheckErrors',function(v){if(action.shouldCheckErrors===true){return!v;}return v;});}case'ADD_COMPONENT_TO_DYNAMIC_ZONE':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]).set('__component',action.componentUid);if(list){return list.push(defaultDataStructure);}return(0,_immutable.fromJS)([defaultDataStructure]);}).update('modifiedDZName',function(){return action.keys[0];}).update('shouldCheckErrors',function(v){if(action.shouldCheckErrors===true){return!v;}return v;});case'ADD_RELATION':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){if(!action.value){return list;}var el=action.value[0].value;if(list){return list.push((0,_immutable.fromJS)(el));}return(0,_immutable.fromJS)([el]);});case'GET_DATA_SUCCEEDED':return state.update('initialData',function(){return(0,_immutable.fromJS)(action.data);}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.data);}).update('isLoading',function(){return false;});case'MOVE_COMPONENT_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent)),function(list){return list["delete"](action.dragIndex).insert(action.hoverIndex,state.getIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent),[action.dragIndex])));});case'MOVE_COMPONENT_UP':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).updateIn(['modifiedData',action.dynamicZoneName],function(list){return list["delete"](action.currentIndex).insert(action.currentIndex-1,state.getIn(['modifiedData',action.dynamicZoneName,action.currentIndex]));});case'MOVE_COMPONENT_DOWN':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).updateIn(['modifiedData',action.dynamicZoneName],function(list){return list["delete"](action.currentIndex).insert(action.currentIndex+1,state.getIn(['modifiedData',action.dynamicZoneName,action.currentIndex]));});case'MOVE_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){return list["delete"](action.dragIndex).insert(action.overIndex,list.get(action.dragIndex));});case'ON_CHANGE':{var newState=state;var _action$keys=(0,_slicedToArray2["default"])(action.keys,1),nonRepeatableComponentKey=_action$keys[0];// This is used to set the initialData for inputs
// that needs an asynchronous initial value like the UID field
// This is just a temporary patch.
// TODO : Refactor the default form creation (workflow) to accept async default values.
if(action.shouldSetInitialValue){newState=state.updateIn(['initialData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){return action.value;});}if(action.keys.length===2&&state.getIn(['modifiedData',nonRepeatableComponentKey])===null){newState=newState.updateIn(['modifiedData',nonRepeatableComponentKey],function(){return(0,_immutable.fromJS)({});});}return newState.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){return action.value;});}case'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).deleteIn(['modifiedData',action.dynamicZoneName,action.index]);case'REMOVE_COMPONENT_FROM_FIELD':{var componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));return state.updateIn(componentPathToRemove,function(){return null;});}case'REMOVE_PASSWORD_FIELD':{return state.removeIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)));}case'REMOVE_REPEATABLE_FIELD':{var _componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));return state.update('shouldCheckErrors',function(v){var hasErrors=state.get('formErrors').keySeq().size>0;if(hasErrors){return!v;}return v;}).deleteIn(_componentPathToRemove);}case'REMOVE_RELATION':return state.removeIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys.split('.'))));case'RESET_DATA':return state.update('modifiedData',function(){return state.get('initialData');}).update('formErrors',function(){return(0,_immutable.fromJS)({});});case'RESET_PROPS':return initialState;case'SET_DEFAULT_DATA_STRUCTURES':return state.update('componentsDataStructure',function(){return(0,_immutable.fromJS)(action.componentsDataStructure);}).update('contentTypeDataStructure',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);});case'SET_DEFAULT_MODIFIED_DATA_STRUCTURE':return state.update('isLoading',function(){return false;}).update('initialData',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);});case'SET_ERRORS':return state.update('modifiedDZName',function(){return null;}).update('formErrors',function(){return(0,_immutable.fromJS)(action.errors);});case'SUBMIT_ERRORS':case'PUBLISH_ERRORS':return state.update('formErrors',function(){return(0,_immutable.fromJS)(action.errors);}).update('shouldShowLoadingState',function(){return false;});case'UNPUBLISH_SUCCESS':case'PUBLISH_SUCCESS':return state.update('isLoading',function(){return false;}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.data);}).update('initialData',function(){return(0,_immutable.fromJS)(action.data);});case'SUBMIT_SUCCESS':case'DELETE_SUCCEEDED':return state.update('isLoading',function(){return false;}).update('formErrors',function(){return(0,_immutable.fromJS)({});}).update('initialData',function(){return state.get('modifiedData');});case'TRIGGER_FORM_VALIDATION':return state.update('shouldCheckErrors',function(v){var hasErrors=state.get('formErrors').keySeq().size>0;if(hasErrors){return!v;}return v;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 3230:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"cleanData",{enumerable:true,get:function get(){return _cleanData["default"];}});Object.defineProperty(exports,"createDefaultForm",{enumerable:true,get:function get(){return _createDefaultForm["default"];}});Object.defineProperty(exports,"getFieldsActionMatchingPermissions",{enumerable:true,get:function get(){return _getFieldsActionMatchingPermissions["default"];}});Object.defineProperty(exports,"getFilesToUpload",{enumerable:true,get:function get(){return _getFilesToUpload["default"];}});Object.defineProperty(exports,"getYupInnerErrors",{enumerable:true,get:function get(){return _getYupInnerErrors["default"];}});Object.defineProperty(exports,"createYupSchema",{enumerable:true,get:function get(){return _schema["default"];}});Object.defineProperty(exports,"removePasswordFieldsFromData",{enumerable:true,get:function get(){return _removePasswordFieldsFromData["default"];}});var _cleanData=_interopRequireDefault(__webpack_require__(3231));var _createDefaultForm=_interopRequireDefault(__webpack_require__(3232));var _getFieldsActionMatchingPermissions=_interopRequireDefault(__webpack_require__(3233));var _getFilesToUpload=_interopRequireDefault(__webpack_require__(3234));var _getYupInnerErrors=_interopRequireDefault(__webpack_require__(3235));var _schema=_interopRequireDefault(__webpack_require__(3236));var _removePasswordFieldsFromData=_interopRequireDefault(__webpack_require__(3237));

/***/ }),

/***/ 3231:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.helperCleanData=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(24));var _lodash=__webpack_require__(8);/* eslint-disable indent */var cleanData=function cleanData(retrievedData,currentSchema,componentsSchema){var getType=function getType(schema,attrName){return(0,_lodash.get)(schema,['attributes',attrName,'type'],'');};var getOtherInfos=function getOtherInfos(schema,arr){return(0,_lodash.get)(schema,['attributes'].concat((0,_toConsumableArray2["default"])(arr)),'');};var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=getType(schema.schema,current);var value=(0,_lodash.get)(data,current);var component=getOtherInfos(schema.schema,[current,'component']);var isRepeatable=getOtherInfos(schema.schema,[current,'repeatable']);var cleanedData;switch(attrType){case'json':try{cleanedData=JSON.parse(value);}catch(err){cleanedData=value;}break;case'date':case'datetime':cleanedData=value&&value._isAMomentObject===true?value.toISOString():value;break;case'media':if(getOtherInfos(schema.schema,[current,'multiple'])===true){cleanedData=value?helperCleanData(value.filter(function(file){return!(file instanceof File);}),'id'):null;}else{cleanedData=(0,_lodash.get)(value,0)instanceof File?null:(0,_lodash.get)(value,'id',null);}break;case'component':if(isRepeatable){cleanedData=value?value.map(function(data){var subCleanedData=recursiveCleanData(data,componentsSchema[component]);return subCleanedData;}):value;}else{cleanedData=value?recursiveCleanData(value,componentsSchema[component]):value;}break;case'dynamiczone':cleanedData=value.map(function(componentData){var subCleanedData=recursiveCleanData(componentData,componentsSchema[componentData.__component]);return subCleanedData;});break;default:cleanedData=helperCleanData(value,'id');}acc[current]=cleanedData;return acc;},{});};return recursiveCleanData(retrievedData,currentSchema);};var helperCleanData=function helperCleanData(value,key){if((0,_lodash.isArray)(value)){return value.map(function(obj){return obj[key]?obj[key]:obj;});}if((0,_lodash.isObject)(value)){return value[key];}return value;};exports.helperCleanData=helperCleanData;var _default=cleanData;exports["default"]=_default;

/***/ }),

/***/ 3232:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(8);var createDefaultForm=function createDefaultForm(attributes,allComponentsSchema){return Object.keys(attributes).reduce(function(acc,current){var attribute=(0,_lodash.get)(attributes,[current],{});var defaultValue=attribute["default"],component=attribute.component,type=attribute.type,required=attribute.required,min=attribute.min,repeatable=attribute.repeatable;if(type==='json'){acc[current]=null;}if(type==='json'&&required===true){acc[current]={};}if(defaultValue!==undefined){acc[current]=defaultValue;}if(type==='component'){var currentComponentSchema=(0,_lodash.get)(allComponentsSchema,[component,'schema','attributes'],{});var currentComponentDefaultForm=createDefaultForm(currentComponentSchema,allComponentsSchema);if(required===true){acc[current]=repeatable===true?[]:currentComponentDefaultForm;}if(min&&repeatable===true&&required){acc[current]=[];for(var i=0;i<min;i+=1){acc[current].push(currentComponentDefaultForm);}}}if(type==='dynamiczone'){if(required===true){acc[current]=[];}}return acc;},{});};var _default=createDefaultForm;exports["default"]=_default;

/***/ }),

/***/ 3233:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(8);var _strapiHelperPlugin=__webpack_require__(7);var getFieldsActionMatchingPermissions=function getFieldsActionMatchingPermissions(userPermissions,slug){var getMatchingPermissions=function getMatchingPermissions(action){var matched=(0,_strapiHelperPlugin.findMatchingPermissions)(userPermissions,[{action:"plugins::content-manager.explorer.".concat(action),subject:slug}]);return(0,_lodash.uniq)((0,_lodash.flatMap)(matched,'fields'));};return{createActionAllowedFields:getMatchingPermissions('create'),readActionAllowedFields:getMatchingPermissions('read'),updateActionAllowedFields:getMatchingPermissions('update')};};var _default=getFieldsActionMatchingPermissions;exports["default"]=_default;

/***/ }),

/***/ 3234:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _lodash=__webpack_require__(8);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getFilesToUpload=function getFilesToUpload(data){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return Object.keys(data).reduce(function(acc,current){var currentData=data[current];var path=prefix?"".concat(prefix,".").concat(current):current;var filterFiles=function filterFiles(files){return files.filter(function(file){return file instanceof File;});};var hasFiles=function hasFiles(data){return data.some(function(file){return file instanceof File;});};var hasFile=function hasFile(data){return(0,_lodash.get)(data,0,null)instanceof File;};if((0,_lodash.isArray)(currentData)&&hasFiles(currentData)){acc[path]=filterFiles(currentData);}if((0,_lodash.isObject)(currentData)&&!(0,_lodash.isArray)(currentData)&&hasFile(currentData)){var currentFile=(0,_lodash.get)(currentData,0);acc[path]=[currentFile];}if((0,_lodash.isArray)(currentData)&&!hasFiles(currentData)){return _objectSpread(_objectSpread({},acc),getFilesToUpload(currentData,path));}if((0,_lodash.isObject)(currentData)&&!(0,_lodash.isArray)(currentData)&&!hasFile(currentData)){return _objectSpread(_objectSpread({},acc),getFilesToUpload(currentData,path));}return acc;},{});};var _default=getFilesToUpload;exports["default"]=_default;

/***/ }),

/***/ 3235:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(8);var getYupInnerErrors=function getYupInnerErrors(error){return(0,_lodash.get)(error,'inner',[]).reduce(function(acc,curr){acc[curr.path.split('[').join('.').split(']').join('')]={id:curr.message};return acc;},{});};var _default=getYupInnerErrors;exports["default"]=_default;

/***/ }),

/***/ 3236:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _lodash=__webpack_require__(8);var _moment=_interopRequireDefault(__webpack_require__(28));var yup=_interopRequireWildcard(__webpack_require__(57));var _strapiHelperPlugin=__webpack_require__(7);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}yup.addMethod(yup.mixed,'defined',function(){return this.test('defined',_strapiHelperPlugin.translatedErrors.required,function(value){return value!==undefined;});});yup.addMethod(yup.array,'notEmptyMin',function(min){return this.test('notEmptyMin',_strapiHelperPlugin.translatedErrors.min,function(value){if((0,_lodash.isEmpty)(value)){return true;}return value.length>=min;});});yup.addMethod(yup.string,'isInferior',function(message,max){return this.test('isInferior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(max)>=(0,_lodash.toNumber)(value);});});yup.addMethod(yup.string,'isSuperior',function(message,min){return this.test('isSuperior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(value)>=(0,_lodash.toNumber)(min);});});var getAttributes=function getAttributes(data){return(0,_lodash.get)(data,['schema','attributes'],{});};var createYupSchema=function createYupSchema(model,_ref){var components=_ref.components;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{isCreatingEntry:true,isDraft:true,isFromComponent:false};var attributes=getAttributes(model);return yup.object().shape(Object.keys(attributes).reduce(function(acc,current){var attribute=attributes[current];if(attribute.type!=='relation'&&attribute.type!=='component'&&attribute.type!=='dynamiczone'){var formatted=createYupSchemaAttribute(attribute.type,attribute,options);acc[current]=formatted;}if(attribute.type==='relation'){acc[current]=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(attribute.relationType)?yup.object().nullable():yup.array().nullable();}if(attribute.type==='component'){var componentFieldSchema=createYupSchema(components[attribute.component],{components:components},_objectSpread(_objectSpread({},options),{},{isFromComponent:true}));if(attribute.repeatable===true){var min=attribute.min,max=attribute.max,required=attribute.required;var _componentSchema=yup.lazy(function(value){var baseSchema=yup.array().of(componentFieldSchema);if(min&&!options.isDraft){if(required){baseSchema=baseSchema.min(min,_strapiHelperPlugin.translatedErrors.min);}else if(required!==true&&(0,_lodash.isEmpty)(value)){baseSchema=baseSchema.nullable();}else{baseSchema=baseSchema.min(min,_strapiHelperPlugin.translatedErrors.min);}}if(max){baseSchema=baseSchema.max(max,_strapiHelperPlugin.translatedErrors.max);}return baseSchema;});acc[current]=_componentSchema;return acc;}var componentSchema=yup.lazy(function(obj){if(obj!==undefined){return attribute.required===true&&!options.isDraft?componentFieldSchema.defined():componentFieldSchema.nullable();}return attribute.required===true?yup.object().defined():yup.object().nullable();});acc[current]=componentSchema;return acc;}if(attribute.type==='dynamiczone'){var dynamicZoneSchema=yup.array().of(yup.lazy(function(_ref2){var __component=_ref2.__component;return createYupSchema(components[__component],{components:components},_objectSpread(_objectSpread({},options),{},{isFromComponent:true}));}));var _max=attribute.max,_min=attribute.min;if(attribute.required&&!options.isDraft){dynamicZoneSchema=dynamicZoneSchema.test('required',_strapiHelperPlugin.translatedErrors.required,function(value){if(options.isCreatingEntry){return value!==null||value!==undefined;}if(value===undefined){return true;}return value!==null;});if(_min){dynamicZoneSchema=dynamicZoneSchema.test('min',_strapiHelperPlugin.translatedErrors.min,function(value){if(options.isCreatingEntry){return value&&value.length>0;}if(value===undefined){return true;}return value!==null&&value.length>0;}).test('required',_strapiHelperPlugin.translatedErrors.required,function(value){if(options.isCreatingEntry){return value!==null||value!==undefined;}if(value===undefined){return true;}return value!==null;});}}else{// eslint-disable-next-line no-lonely-if
if(_min){dynamicZoneSchema=dynamicZoneSchema.notEmptyMin(_min);}}if(_max){dynamicZoneSchema=dynamicZoneSchema.max(_max,_strapiHelperPlugin.translatedErrors.max);}acc[current]=dynamicZoneSchema;}return acc;},{}));};var createYupSchemaAttribute=function createYupSchemaAttribute(type,validations,options){var schema=yup.mixed();var regex=(0,_lodash.get)(validations,'regex',null);delete validations.regex;if(regex){validations.regex=new RegExp(regex);}if(['string','uid','text','richtext','email','password','enumeration'].includes(type)){schema=yup.string();}if(type==='json'){schema=yup.mixed(_strapiHelperPlugin.translatedErrors.json).test('isJSON',_strapiHelperPlugin.translatedErrors.json,function(value){if(value===undefined){return true;}if((0,_lodash.isNumber)(value)||(0,_lodash.isNull)(value)||(0,_lodash.isObject)(value)||(0,_lodash.isArray)(value)){return true;}try{JSON.parse(value);return true;}catch(err){return false;}}).nullable();}if(type==='email'){schema=schema.email(_strapiHelperPlugin.translatedErrors.email);}if(['number','integer','biginteger','float','decimal'].includes(type)){schema=yup.number().transform(function(cv){return(0,_lodash.isNaN)(cv)?undefined:cv;}).typeError();}if(['date','datetime'].includes(type)){schema=yup.date();}if(type==='biginteger'){schema=yup.string().matches(/^\d*$/);}Object.keys(validations).forEach(function(validation){var validationValue=validations[validation];if(!!validationValue||!(0,_lodash.isBoolean)(validationValue)&&Number.isInteger(Math.floor(validationValue))||validationValue===0){switch(validation){case'required':{if(!options.isDraft){if(type==='password'&&options.isCreatingEntry){schema=schema.required(_strapiHelperPlugin.translatedErrors.required);}if(type!=='password'){if(options.isCreatingEntry){schema=schema.required(_strapiHelperPlugin.translatedErrors.required);}else{schema=schema.test('required',_strapiHelperPlugin.translatedErrors.required,function(value){// Field is not touched and the user is editing the entry
if(value===undefined&&!options.isFromComponent){return true;}if(['number','integer','biginteger','float','decimal'].includes(type)){if(value===0){return true;}return!!value;}if(['date','datetime'].includes(type)){return(0,_moment["default"])(value)._isValid===true;}if(type==='boolean'){return value!==undefined;}return!(0,_lodash.isEmpty)(value);});}}}break;}case'max':{if(type==='biginteger'){schema=schema.isInferior(_strapiHelperPlugin.translatedErrors.max,validationValue);}else{schema=schema.max(validationValue,_strapiHelperPlugin.translatedErrors.max);}break;}case'maxLength':schema=schema.max(validationValue,_strapiHelperPlugin.translatedErrors.maxLength);break;case'min':{if(type==='biginteger'){schema=schema.isSuperior(_strapiHelperPlugin.translatedErrors.min,validationValue);}else{schema=schema.min(validationValue,_strapiHelperPlugin.translatedErrors.min);}break;}case'minLength':{if(!options.isDraft){schema=schema.min(validationValue,_strapiHelperPlugin.translatedErrors.minLength);}break;}case'regex':schema=schema.matches(validationValue,_strapiHelperPlugin.translatedErrors.regex);break;case'lowercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().lowercase();}break;case'uppercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().uppercase();}break;case'positive':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.positive();}break;case'negative':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.negative();}break;default:schema=schema.nullable();}}});return schema;};var _default=createYupSchema;exports["default"]=_default;

/***/ }),

/***/ 3237:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.getOtherInfos=exports.getType=exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(24));var _lodash=__webpack_require__(8);var getType=function getType(schema,attrName){return(0,_lodash.get)(schema,['attributes',attrName,'type'],'');};exports.getType=getType;var getOtherInfos=function getOtherInfos(schema,arr){return(0,_lodash.get)(schema,['attributes'].concat((0,_toConsumableArray2["default"])(arr)),'');};exports.getOtherInfos=getOtherInfos;var removePasswordFieldsFromData=function removePasswordFieldsFromData(data,contentTypeSchema,componentSchema){var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=getType(schema.schema,current);var value=(0,_lodash.get)(data,current);var component=getOtherInfos(schema.schema,[current,'component']);var isRepeatable=getOtherInfos(schema.schema,[current,'repeatable']);if(attrType==='dynamiczone'){acc[current]=value.map(function(componentValue){var subCleanedData=recursiveCleanData(componentValue,componentSchema[componentValue.__component]);return subCleanedData;});return acc;}if(attrType==='component'){if(isRepeatable){/* eslint-disable indent */acc[current]=value?value.map(function(compoData){var subCleanedData=recursiveCleanData(compoData,componentSchema[component]);return subCleanedData;}):value;/* eslint-enable indent */}else{acc[current]=value?recursiveCleanData(value,componentSchema[component]):value;}return acc;}if(attrType!=='password'){acc[current]=value;}return acc;},{});};return recursiveCleanData(data,contentTypeSchema);};var _default=removePasswordFieldsFromData;exports["default"]=_default;

/***/ }),

/***/ 3238:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(26));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _EditView=_interopRequireDefault(__webpack_require__(2595));function EditViewProvider(_ref){var children=_ref.children,rest=(0,_objectWithoutProperties2["default"])(_ref,["children"]);return/*#__PURE__*/_react["default"].createElement(_EditView["default"].Provider,{value:rest},children);}EditViewProvider.propTypes={children:_propTypes["default"].node.isRequired};var _default=EditViewProvider;exports["default"]=_default;

/***/ }),

/***/ 3239:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactIntl=__webpack_require__(13);var _custom=__webpack_require__(38);var _lodash=__webpack_require__(8);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactFastCompare=_interopRequireDefault(__webpack_require__(409));var _core=__webpack_require__(10);var _strapiHelperPlugin=__webpack_require__(7);var _utils=__webpack_require__(806);var _utils2=__webpack_require__(3240);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var primaryButtonObject={color:'primary',type:'button',style:{minWidth:150,fontWeight:600}};var Header=function Header(_ref){var canUpdate=_ref.canUpdate,canCreate=_ref.canCreate,canPublish=_ref.canPublish,componentLayouts=_ref.componentLayouts,initialData=_ref.initialData,isCreatingEntry=_ref.isCreatingEntry,isSingleType=_ref.isSingleType,status=_ref.status,layout=_ref.layout,hasDraftAndPublish=_ref.hasDraftAndPublish,modifiedData=_ref.modifiedData,onPublish=_ref.onPublish,onUnpublish=_ref.onUnpublish;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningUnpublish=_useState2[0],setWarningUnpublish=_useState2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var formatMessageRef=(0,_react.useRef)(formatMessage);var _useState3=(0,_react.useState)(0),_useState4=(0,_slicedToArray2["default"])(_useState3,2),draftRelationsCount=_useState4[0],setDraftRelationsCount=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),showWarningDraftRelation=_useState6[0],setShowWarningDraftRelation=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2["default"])(_useState7,2),shouldUnpublish=_useState8[0],setShouldUnpublish=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=(0,_slicedToArray2["default"])(_useState9,2),shouldPublish=_useState10[0],setShouldPublish=_useState10[1];var currentContentTypeMainField=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['settings','mainField'],'id');},[layout]);var currentContentTypeName=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','info','name']);},[layout]);var didChangeData=(0,_react.useMemo)(function(){return!(0,_lodash.isEqual)(initialData,modifiedData)||isCreatingEntry&&!(0,_lodash.isEmpty)(modifiedData);},[initialData,isCreatingEntry,modifiedData]);var apiID=(0,_react.useMemo)(function(){return layout.apiID;},[layout.apiID]);/* eslint-disable indent */var entryHeaderTitle=isCreatingEntry?formatMessage({id:(0,_utils.getTrad)('containers.Edit.pluginHeader.title.new')}):(0,_strapiHelperPlugin.templateObject)({mainField:currentContentTypeMainField},initialData).mainField;/* eslint-enable indent */var headerTitle=(0,_react.useMemo)(function(){var title=isSingleType?currentContentTypeName:entryHeaderTitle;return title||currentContentTypeName;},[currentContentTypeName,entryHeaderTitle,isSingleType]);var checkIfHasDraftRelations=(0,_react.useCallback)(function(){var count=(0,_utils2.getDraftRelations)(modifiedData,layout,componentLayouts);setDraftRelationsCount(count);return count>0;},[modifiedData,layout,componentLayouts]);var headerActions=(0,_react.useMemo)(function(){var headerActions=[];if(isCreatingEntry&&canCreate||!isCreatingEntry&&canUpdate){headerActions=[{disabled:!didChangeData,color:'success',label:formatMessage({id:(0,_utils.getTrad)('containers.Edit.submit')}),isLoading:status==='submit-pending',type:'submit',style:{minWidth:150,fontWeight:600}}];}if(hasDraftAndPublish&&canPublish){var isPublished=!(0,_lodash.isEmpty)(initialData.published_at);var isLoading=isPublished?status==='unpublish-pending':status==='publish-pending';var labelID=isPublished?'app.utils.unpublish':'app.utils.publish';/* eslint-disable indent */var onClick=isPublished?function(){return setWarningUnpublish(true);}:function(e){if(!checkIfHasDraftRelations()){onPublish(e);}else{setShowWarningDraftRelation(true);}};/* eslint-enable indent */var action=_objectSpread(_objectSpread({},primaryButtonObject),{},{disabled:isCreatingEntry||didChangeData,isLoading:isLoading,label:formatMessage({id:labelID}),onClick:onClick});headerActions.unshift(action);}return headerActions;},[isCreatingEntry,canCreate,canUpdate,hasDraftAndPublish,canPublish,didChangeData,formatMessage,status,initialData,onPublish,checkIfHasDraftRelations]);var headerProps=(0,_react.useMemo)(function(){return{title:{label:(0,_lodash.toString)(headerTitle)},content:"".concat(formatMessageRef.current({id:(0,_utils.getTrad)('api.id')})," : ").concat(apiID),actions:headerActions};},[headerActions,headerTitle,apiID]);var toggleWarningPublish=function toggleWarningPublish(){return setWarningUnpublish(function(prevState){return!prevState;});};var toggleWarningDraftRelation=(0,_react.useCallback)(function(){setShowWarningDraftRelation(function(prev){return!prev;});},[]);var handleConfirmPublish=(0,_react.useCallback)(function(){setShouldPublish(true);setShowWarningDraftRelation(false);},[]);var handleConfirmUnpublish=(0,_react.useCallback)(function(){setShouldUnpublish(true);setWarningUnpublish(false);},[]);var handleCloseModalPublish=(0,_react.useCallback)(function(e){if(shouldPublish){onPublish(e);}setShouldUnpublish(false);},[onPublish,shouldPublish]);var handleCloseModalUnpublish=(0,_react.useCallback)(function(e){if(shouldUnpublish){onUnpublish(e);}setShouldUnpublish(false);},[onUnpublish,shouldUnpublish]);var boldText=formatMessage({id:(0,_utils.getTrad)("popUpwarning.warning.has-draft-relations.message.bold-text.".concat(draftRelationsCount>1?'plural':'singular'))},{count:draftRelationsCount});var buttonCancelLabel=(0,_react.useMemo)(function(){return formatMessage({id:'components.popUpWarning.button.cancel'});},[formatMessage]);var buttonConfirmLabel=(0,_react.useMemo)(function(){return formatMessage({id:(0,_utils.getTrad)('popUpwarning.warning.has-draft-relations.button-confirm')});},[formatMessage]);return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_custom.Header,headerProps),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningUnpublish,toggleModal:toggleWarningPublish,content:{message:(0,_utils.getTrad)('popUpWarning.warning.unpublish'),secondMessage:(0,_utils.getTrad)('popUpWarning.warning.unpublish-question')},popUpWarningType:"danger",onConfirm:handleConfirmUnpublish,onClosed:handleCloseModalUnpublish}),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarningModal,{isOpen:showWarningDraftRelation,toggle:toggleWarningDraftRelation,onClosed:handleCloseModalPublish},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarningHeader,{onClick:toggleWarningDraftRelation,title:"components.popUpWarning.title"}),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarningBody,null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarningIcon,{type:"danger"}),/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"18px"},/*#__PURE__*/_react["default"].createElement(_core.Text,{as:"span",fontWeight:"bold"},boldText,"\xA0"),formatMessage({id:(0,_utils.getTrad)('popUpwarning.warning.has-draft-relations.first-message')})),/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"18px"},formatMessage({id:(0,_utils.getTrad)('popUpwarning.warning.has-draft-relations.second-message')})),/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,size:"smd"},/*#__PURE__*/_react["default"].createElement(_core.Text,null,formatMessage({id:(0,_utils.getTrad)('popUpWarning.warning.publish-question')})))),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarningFooter,null,/*#__PURE__*/_react["default"].createElement(_core.Button,{color:"cancel",type:"button",onClick:toggleWarningDraftRelation,label:buttonCancelLabel}),/*#__PURE__*/_react["default"].createElement(_core.Button,{color:"success",type:"button",onClick:handleConfirmPublish,label:buttonConfirmLabel}))));};Header.propTypes={canUpdate:_propTypes["default"].bool.isRequired,canCreate:_propTypes["default"].bool.isRequired,canPublish:_propTypes["default"].bool.isRequired,componentLayouts:_propTypes["default"].object.isRequired,initialData:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,isSingleType:_propTypes["default"].bool.isRequired,status:_propTypes["default"].string.isRequired,layout:_propTypes["default"].object.isRequired,hasDraftAndPublish:_propTypes["default"].bool.isRequired,modifiedData:_propTypes["default"].object.isRequired,onPublish:_propTypes["default"].func.isRequired,onUnpublish:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(Header,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports["default"]=_default;

/***/ }),

/***/ 3240:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"getDraftRelations",{enumerable:true,get:function get(){return _getDraftRelations["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(3241));var _getDraftRelations=_interopRequireDefault(__webpack_require__(3242));var _select=_interopRequireDefault(__webpack_require__(3243));

/***/ }),

/***/ 3241:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select();return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3242:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(8);var getDraftRelations=function getDraftRelations(data,ctSchema,components){var getDraftRelationsCount=function getDraftRelationsCount(data,schema){return Object.keys(data).reduce(function(acc,current){var type=(0,_lodash.get)(schema,['schema','attributes',current,'type'],'string');var relationType=(0,_lodash.get)(schema,['schema','attributes',current,'relationType'],'');var isMorph=relationType.toLowerCase().includes('morph');var oneWayTypes=['oneWay','oneToOne','manyToOne'];var currentData=data[current];if((0,_lodash.isNil)(currentData)){return acc;}if(type==='dynamiczone'){currentData.forEach(function(curr){var compoSchema=(0,_lodash.get)(components,curr.__component,{});acc+=getDraftRelationsCount(curr,compoSchema);});}if(type==='component'){var isRepeatable=(0,_lodash.get)(schema,['schema','attributes',current,'repeatable'],false);var compoUID=(0,_lodash.get)(schema,['schema','attributes',current,'component'],'');var compoSchema=(0,_lodash.get)(components,compoUID,{});if(isRepeatable){currentData.forEach(function(curr){acc+=getDraftRelationsCount(curr,compoSchema);});}else{acc+=getDraftRelationsCount(currentData,compoSchema);}}if(type==='relation'&&!isMorph){if(oneWayTypes.includes(relationType)){var hasDraftAndPublish=(0,_lodash.has)(currentData,'published_at');if(hasDraftAndPublish&&(0,_lodash.isEmpty)(currentData.published_at)){acc+=1;}}else{currentData.forEach(function(value){if((0,_lodash.has)(value,'published_at')&&(0,_lodash.isEmpty)(value.published_at)){acc+=1;}});}}return acc;},0);};var count=getDraftRelationsCount(data,ctSchema,components);return count;};var _default=getDraftRelations;exports["default"]=_default;

/***/ }),

/***/ 3243:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));function useSelect(){var _useDataManager=(0,_useDataManager2["default"])(),allLayoutData=_useDataManager.allLayoutData,initialData=_useDataManager.initialData,isCreatingEntry=_useDataManager.isCreatingEntry,isSingleType=_useDataManager.isSingleType,status=_useDataManager.status,layout=_useDataManager.layout,hasDraftAndPublish=_useDataManager.hasDraftAndPublish,modifiedData=_useDataManager.modifiedData,onPublish=_useDataManager.onPublish,onUnpublish=_useDataManager.onUnpublish;var _useEditView=(0,_useEditView2["default"])(),_useEditView$allowedA=_useEditView.allowedActions,canUpdate=_useEditView$allowedA.canUpdate,canCreate=_useEditView$allowedA.canCreate,canPublish=_useEditView$allowedA.canPublish;return{canUpdate:canUpdate,canCreate:canCreate,canPublish:canPublish,componentLayouts:allLayoutData.components,initialData:initialData,isCreatingEntry:isCreatingEntry,isSingleType:isSingleType,status:status,layout:layout,hasDraftAndPublish:hasDraftAndPublish,modifiedData:modifiedData,onPublish:onPublish,onUnpublish:onUnpublish};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3244:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(8);function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* eslint-disable no-restricted-syntax */var createAttributesLayout=function createAttributesLayout(currentLayout,attributes){var getType=function getType(name){return(0,_lodash.get)(attributes,[name,'type'],'');};var currentRowIndex=0;var newLayout=[];var _iterator=_createForOfIteratorHelper(currentLayout),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var row=_step.value;var hasDynamicZone=row.some(function(_ref){var name=_ref.name;return getType(name)==='dynamiczone';});if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}if(hasDynamicZone){currentRowIndex=currentRowIndex===0&&(0,_lodash.isEmpty)(newLayout[0])?0:currentRowIndex+1;if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}newLayout[currentRowIndex].push(row);currentRowIndex+=1;}else{newLayout[currentRowIndex].push(row);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newLayout.filter(function(arr){return arr.length>0;});};var _default=createAttributesLayout;exports["default"]=_default;

/***/ }),

/***/ 3245:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function init(initialState){return initialState;}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 3246:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _immer=_interopRequireDefault(__webpack_require__(41));var initialState={formattedContentTypeLayout:[],isDraggingComponent:false};exports.initialState=initialState;var reducer=function reducer(state,action){return(// eslint-disable-next-line consistent-return
(0,_immer["default"])(state,function(drafState){switch(action.type){case'SET_IS_DRAGGING_COMPONENT':{drafState.isDraggingComponent=true;break;}case'SET_LAYOUT_DATA':{drafState.formattedContentTypeLayout=action.formattedContentTypeLayout;break;}case'RESET_PROPS':return initialState;case'UNSET_IS_DRAGGING_COMPONENT':{drafState.isDraggingComponent=false;break;}default:{return drafState;}}}));};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 3247:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(29));var _defineProperty2=_interopRequireDefault(__webpack_require__(9));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(30));var _slicedToArray2=_interopRequireDefault(__webpack_require__(15));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactIntl=__webpack_require__(13);var _lodash=__webpack_require__(8);var _reactFastCompare=_interopRequireDefault(__webpack_require__(409));var _reactFontawesome=__webpack_require__(27);var _reactRouterDom=__webpack_require__(20);var _core=__webpack_require__(10);var _strapiHelperPlugin=__webpack_require__(7);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _pluginId=_interopRequireDefault(__webpack_require__(105));var _utils=__webpack_require__(806);var _components=__webpack_require__(2584);var _utils2=__webpack_require__(3248);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getRequestUrl=function getRequestUrl(path){return"/".concat(_pluginId["default"],"/explorer/").concat(path);};var DeleteLink=function DeleteLink(_ref){var canDelete=_ref.canDelete,clearData=_ref.clearData,dataId=_ref.dataId,isCreatingEntry=_ref.isCreatingEntry,isSingleType=_ref.isSingleType,trackerProperty=_ref.trackerProperty,slug=_ref.slug;var _useRouteMatch=(0,_reactRouterDom.useRouteMatch)('/plugins/content-manager/:contentType'),contentType=_useRouteMatch.params.contentType;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningDelete=_useState2[0],setWarningDelete=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),didDeleteEntry=_useState4[0],setDidDeleteEntry=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isModalConfirmButtonLoading=_useState6[0],setIsModalConfirmButtonLoading=_useState6[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent;var toggleWarningDelete=function toggleWarningDelete(){return setWarningDelete(function(prevState){return!prevState;});};var handleConfirmDelete=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var errorMessage;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// Show the loading state
setIsModalConfirmButtonLoading(true);emitEvent('willDeleteEntry',trackerProperty);_context.next=5;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/").concat(dataId)),{method:'DELETE'});case 5:strapi.notification.toggle({type:'success',message:{id:"".concat(_pluginId["default"],".success.record.delete")}});emitEvent('didDeleteEntry',trackerProperty);// This is used to perform action after the modal is closed
// so the transitions are smoother
// Actions will be performed in the handleClosed function
setDidDeleteEntry(true);_context.next=15;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);emitEvent('didNotDeleteEntry',_objectSpread({error:_context.t0},trackerProperty));errorMessage=(0,_lodash.get)(_context.t0,'response.payload.message',formatMessage({id:"".concat(_pluginId["default"],".error.record.delete")}));strapi.notification.toggle({type:'warning',message:errorMessage});case 15:_context.prev=15;setIsModalConfirmButtonLoading(false);toggleWarningDelete();return _context.finish(15);case 19:case"end":return _context.stop();}}},_callee,null,[[0,10,15,19]]);}));return function handleConfirmDelete(){return _ref2.apply(this,arguments);};}();var handleClosed=function handleClosed(){setDidDeleteEntry(false);if(didDeleteEntry){if(!isSingleType){push("/plugins/".concat(_pluginId["default"],"/").concat(contentType,"/").concat(slug));}else{clearData();}}};if(isCreatingEntry||!canDelete){return null;}return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement("li",null,/*#__PURE__*/_react["default"].createElement(_components.DeleteButton,{onClick:toggleWarningDelete},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:"trash-alt"}),/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"22px",color:"lightOrange"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.delete-entry')})))),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningDelete,toggleModal:toggleWarningDelete,content:{message:(0,_utils.getTrad)('popUpWarning.bodyMessage.contentType.delete')},popUpWarningType:"danger",onConfirm:handleConfirmDelete,onClosed:handleClosed,isConfirmButtonLoading:isModalConfirmButtonLoading}));};DeleteLink.defaultProps={dataId:null,trackerProperty:{}};DeleteLink.propTypes={canDelete:_propTypes["default"].bool.isRequired,clearData:_propTypes["default"].func.isRequired,dataId:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),isCreatingEntry:_propTypes["default"].bool.isRequired,isSingleType:_propTypes["default"].bool.isRequired,trackerProperty:_propTypes["default"].object,slug:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DeleteLink,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports["default"]=_default;

/***/ }),

/***/ 3248:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(3249));var _select=_interopRequireDefault(__webpack_require__(3250));

/***/ }),

/***/ 3249:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select();return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 3250:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(8);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _useEditView2=_interopRequireDefault(__webpack_require__(2517));function useSelect(){var _useDataManager=(0,_useDataManager2["default"])(),initialData=_useDataManager.initialData,isCreatingEntry=_useDataManager.isCreatingEntry,isSingleType=_useDataManager.isSingleType,slug=_useDataManager.slug,clearData=_useDataManager.clearData,hasDraftAndPublish=_useDataManager.hasDraftAndPublish,modifiedData=_useDataManager.modifiedData;var _useEditView=(0,_useEditView2["default"])(),canDelete=_useEditView.allowedActions.canDelete;var trackerProperty={};if(hasDraftAndPublish){var isDraft=(0,_lodash.isEmpty)(modifiedData.published_at);trackerProperty=isDraft?{status:'draft'}:{status:'published'};}return{canDelete:canDelete,clearData:clearData,dataId:initialData.id,hasDraftAndPublish:hasDraftAndPublish,isCreatingEntry:isCreatingEntry,isSingleType:isSingleType,trackerProperty:trackerProperty,slug:slug};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 3251:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _react=_interopRequireWildcard(__webpack_require__(1));var _core=__webpack_require__(10);var _lodash=__webpack_require__(8);var _moment=_interopRequireDefault(__webpack_require__(28));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _reactIntl=__webpack_require__(13);var _components=__webpack_require__(2584);var _useDataManager2=_interopRequireDefault(__webpack_require__(2511));var _utils=__webpack_require__(806);function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var BaselineAlignment=_styledComponents["default"].div(_templateObject(),function(_ref){var size=_ref.size;return size;});var InformationCard=function InformationCard(){var _useDataManager=(0,_useDataManager2["default"])(),initialData=_useDataManager.initialData,hasDraftAndPublish=_useDataManager.hasDraftAndPublish,layout=_useDataManager.layout;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var updatedAtName=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','options','timestamps'],['created_at','updated_at'])[1];},[layout]);var updatedBy=(0,_react.useMemo)(function(){var firstname=(0,_lodash.get)(initialData,['updated_by','firstname'],'');var lastname=(0,_lodash.get)(initialData,['updated_by','lastname'],'');return"".concat(firstname," ").concat(lastname);},[initialData]);return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_components.SubWrapper,null,/*#__PURE__*/_react["default"].createElement(BaselineAlignment,{size:"3px"}),/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,left:true,right:true,bottom:true,size:"smd"},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information')})),/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,size:"smd"},/*#__PURE__*/_react["default"].createElement(BaselineAlignment,{size:"2px"}),/*#__PURE__*/_react["default"].createElement(_core.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontSize:"xs",color:"grey",textTransform:"uppercase",fontWeight:"semiBold"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.lastUpdate')})),/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"12px"},(0,_lodash.isEmpty)(initialData)?'-':(0,_moment["default"])(initialData[updatedAtName]).fromNow()))),/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,size:"smd"},/*#__PURE__*/_react["default"].createElement(BaselineAlignment,{size:"3px"}),/*#__PURE__*/_react["default"].createElement(_core.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontSize:"xs",color:"grey",textTransform:"uppercase",fontWeight:"semiBold"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.by')})),/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"12px"},(0,_lodash.isEmpty)(initialData)?'-':updatedBy))))),/*#__PURE__*/_react["default"].createElement(_core.Padded,{top:true,size:"sm"}),hasDraftAndPublish&&/*#__PURE__*/_react["default"].createElement(_components.StatusWrapper,{isGreen:initialData.published_at},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontSize:"sm",lineHeight:"18px"},"\u2022"),/*#__PURE__*/_react["default"].createElement(_core.Padded,{left:true,size:"xs"}),/*#__PURE__*/_react["default"].createElement(_core.Flex,null,/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"18px"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.editing')})),"\xA0",/*#__PURE__*/_react["default"].createElement(_core.Text,{lineHeight:"18px",fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)(initialData.published_at?'containers.Edit.information.publishedVersion':'containers.Edit.information.draftVersion')})))),/*#__PURE__*/_react["default"].createElement(BaselineAlignment,{size:"2px"}));};var _default=InformationCard;exports["default"]=_default;

/***/ })

}]);